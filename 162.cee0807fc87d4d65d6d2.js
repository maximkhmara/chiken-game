"use strict";(self.webpackChunkpixi_mini_game=self.webpackChunkpixi_mini_game||[]).push([[162],{2067:(e,t,r)=>{r.d(t,{Ls:()=>i,_Q:()=>n,mA:()=>s});const i={name:"local-uniform-bit",vertex:{header:"\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "}},n={...i,vertex:{...i.vertex,header:i.vertex.header.replace("group(1)","group(2)")}},s={name:"local-uniform-bit",vertex:{header:"\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "}}},2162:(e,t,r)=>{r.r(t),r(4732),r(9010),r(8480),r(8928),r(5285),r(9305),r(6958),r(6444),r(9147),r(8723),r(7252),r(4980)},2289:(e,t,r)=>{r.d(t,{s:()=>n});var i=r(2048);function n(e,t){const{texture:r,bounds:n}=e;(0,i.y)(n,t._anchor,r);const s=t._style.padding;n.minX-=s,n.minY-=s,n.maxX-=s,n.maxY-=s}},2558:(e,t,r)=>{r.d(t,{M:()=>s});var i=r(2437);const n=new(r(9636).c);function s(e,t,r,s){const a=n;a.minX=0,a.minY=0,a.maxX=e.width/s|0,a.maxY=e.height/s|0;const o=i.W.getOptimalTexture(a.width,a.height,s,!1);return o.source.uploadMethodId="image",o.source.resource=e,o.source.alphaMode="premultiply-alpha-on-upload",o.frame.width=t/s,o.frame.height=r/s,o.source.emit("update",o.source),o.updateUvs(),o}},2760:(e,t,r)=>{function i(e,t,r){const i=(e>>24&255)/255;t[r++]=(255&e)/255*i,t[r++]=(e>>8&255)/255*i,t[r++]=(e>>16&255)/255*i,t[r++]=i}r.d(t,{V:()=>i})},4732:(e,t,r)=>{var i=r(8507);class n{static init(e){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame((()=>this.resize())))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let e,t;if(this._cancelResize(),this._resizeTo===globalThis.window)e=globalThis.innerWidth,t=globalThis.innerHeight;else{const{clientWidth:r,clientHeight:i}=this._resizeTo;e=r,t=i}this.renderer.resize(e,t),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}n.extension=i.Ag.Application;var s=r(4458),a=r(7309);class o{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,s.d.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?a.R.shared:new a.R,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}o.extension=i.Ag.Application,i.XO.add(n),i.XO.add(o)},4980:(e,t,r)=>{var i=r(8507);class n{constructor(e){this._renderer=e}push(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:t,filterEffect:e})}pop(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(e){"pushFilter"===e.action?this._renderer.filter.push(e):"popFilter"===e.action&&this._renderer.filter.pop()}destroy(){this._renderer=null}}n.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"filter"};var s=r(9313),a=r(5101),o=r(3513),d=r(6011),l=r(5811),u=r(4492),h=r(2437),c=r(5099),p=r(9636),f=r(268);const g=new d.V({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),format:"float32x2",stride:8,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class m{constructor(e){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new l.k({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new o.T({}),this.renderer=e}get activeBackTexture(){return this._activeFilterData?.backTexture}push(e){const t=this.renderer,r=e.filterEffect.filters;this._filterStack[this._filterStackIndex]||(this._filterStack[this._filterStackIndex]=this._getFilterData());const i=this._filterStack[this._filterStackIndex];if(this._filterStackIndex++,0===r.length)return void(i.skip=!0);const n=i.bounds;if(e.renderables?function(e,t){t.clear();const r=t.matrix;for(let r=0;r<e.length;r++){const i=e[r];i.globalDisplayStatus<7||(t.matrix=i.worldTransform,t.addBounds(i.bounds))}t.matrix=r}(e.renderables,n):e.filterEffect.filterArea?(n.clear(),n.addRect(e.filterEffect.filterArea),n.applyMatrix(e.container.worldTransform)):e.container.getFastGlobalBounds(!0,n),e.container){const t=(e.container.renderGroup||e.container.parentRenderGroup).cacheToLocalTransform;t&&n.applyMatrix(t)}const s=t.renderTarget.renderTarget.colorTexture.source;let a=1/0,o=0,d=!0,l=!1,u=!1,c=!0;for(let e=0;e<r.length;e++){const i=r[e];if(a=Math.min(a,"inherit"===i.resolution?s._resolution:i.resolution),o+=i.padding,"off"===i.antialias?d=!1:"inherit"===i.antialias&&d&&(d=s.antialias),i.clipToViewport||(c=!1),!(i.compatibleRenderers&t.type)){u=!1;break}if(i.blendRequired&&!(t.backBuffer?.useBackBuffer??1)){(0,f.R)("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),u=!1;break}u=i.enabled||u,l||(l=i.blendRequired)}if(u){if(c){const e=t.renderTarget.rootViewPort,r=t.renderTarget.renderTarget.resolution;n.fitBounds(0,e.width/r,0,e.height/r)}n.scale(a).ceil().scale(1/a).pad(0|o),n.isPositive?(i.skip=!1,i.bounds=n,i.blendRequired=l,i.container=e.container,i.filterEffect=e.filterEffect,i.previousRenderSurface=t.renderTarget.renderSurface,i.inputTexture=h.W.getOptimalTexture(n.width,n.height,a,d),t.renderTarget.bind(i.inputTexture,!0),t.globalUniforms.push({offset:n})):i.skip=!0}else i.skip=!0}pop(){const e=this.renderer;this._filterStackIndex--;const t=this._filterStack[this._filterStackIndex];if(t.skip)return;this._activeFilterData=t;const r=t.inputTexture,i=t.bounds;let n=u.g.EMPTY;if(e.renderTarget.finishRenderPass(),t.blendRequired){const r=this._filterStackIndex>0?this._filterStack[this._filterStackIndex-1].bounds:null,s=e.renderTarget.getRenderTarget(t.previousRenderSurface);n=this.getBackTexture(s,i,r)}t.backTexture=n;const s=t.filterEffect.filters;if(this._globalFilterBindGroup.setResource(r.source.style,2),this._globalFilterBindGroup.setResource(n.source,3),e.globalUniforms.pop(),1===s.length)s[0].apply(this,r,t.previousRenderSurface,!1),h.W.returnTexture(r);else{let e=t.inputTexture,r=h.W.getOptimalTexture(i.width,i.height,e.source._resolution,!1),n=0;for(n=0;n<s.length-1;++n){s[n].apply(this,e,r,!0);const t=e;e=r,r=t}s[n].apply(this,e,t.previousRenderSurface,!1),h.W.returnTexture(e),h.W.returnTexture(r)}t.blendRequired&&h.W.returnTexture(n)}getBackTexture(e,t,r){const i=e.colorTexture.source._resolution,n=h.W.getOptimalTexture(t.width,t.height,i,!1);let s=t.minX,a=t.minY;r&&(s-=r.minX,a-=r.minY),s=Math.floor(s*i),a=Math.floor(a*i);const o=Math.ceil(t.width*i),d=Math.ceil(t.height*i);return this.renderer.renderTarget.copyToTexture(e,n,{x:s,y:a},{width:o,height:d},{x:0,y:0}),n}applyFilter(e,t,r,i){const n=this.renderer,s=this._filterStack[this._filterStackIndex],o=s.bounds,d=a.b.shared,l=s.previousRenderSurface===r;let h=this.renderer.renderTarget.rootRenderTarget.colorTexture.source._resolution,p=this._filterStackIndex-1;for(;p>0&&this._filterStack[p].skip;)--p;p>0&&(h=this._filterStack[p].inputTexture.source._resolution);const f=this._filterGlobalUniforms,m=f.uniforms,x=m.uOutputFrame,_=m.uInputSize,b=m.uInputPixel,y=m.uInputClamp,v=m.uGlobalFrame,T=m.uOutputTexture;if(l){let e=this._filterStackIndex;for(;e>0;){e--;const t=this._filterStack[this._filterStackIndex-1];if(!t.skip){d.x=t.bounds.minX,d.y=t.bounds.minY;break}}x[0]=o.minX-d.x,x[1]=o.minY-d.y}else x[0]=0,x[1]=0;x[2]=t.frame.width,x[3]=t.frame.height,_[0]=t.source.width,_[1]=t.source.height,_[2]=1/_[0],_[3]=1/_[1],b[0]=t.source.pixelWidth,b[1]=t.source.pixelHeight,b[2]=1/b[0],b[3]=1/b[1],y[0]=.5*b[2],y[1]=.5*b[3],y[2]=t.frame.width*_[2]-.5*b[2],y[3]=t.frame.height*_[3]-.5*b[3];const S=this.renderer.renderTarget.rootRenderTarget.colorTexture;v[0]=d.x*h,v[1]=d.y*h,v[2]=S.source.width*h,v[3]=S.source.height*h;const w=this.renderer.renderTarget.getRenderTarget(r);if(n.renderTarget.bind(r,!!i),r instanceof u.g?(T[0]=r.frame.width,T[1]=r.frame.height):(T[0]=w.width,T[1]=w.height),T[2]=w.isRoot?-1:1,f.update(),n.renderPipes.uniformBatch){const e=n.renderPipes.uniformBatch.getUboResource(f);this._globalFilterBindGroup.setResource(e,0)}else this._globalFilterBindGroup.setResource(f,0);this._globalFilterBindGroup.setResource(t.source,1),this._globalFilterBindGroup.setResource(t.source.style,2),e.groups[0]=this._globalFilterBindGroup,n.encoder.draw({geometry:g,shader:e,state:e._state,topology:"triangle-list"}),n.type===c.W.WEBGL&&n.renderTarget.finishRenderPass()}_getFilterData(){return{skip:!1,inputTexture:null,bounds:new p.c,container:null,filterEffect:null,blendRequired:!1,previousRenderSurface:null}}calculateSpriteMatrix(e,t){const r=this._activeFilterData,i=e.set(r.inputTexture._source.width,0,0,r.inputTexture._source.height,r.bounds.minX,r.bounds.minY),n=t.worldTransform.copyTo(s.u.shared),a=t.renderGroup||t.parentRenderGroup;return a&&a.cacheToLocalTransform&&n.prepend(a.cacheToLocalTransform),n.invert(),i.prepend(n),i.scale(1/t.texture.frame.width,1/t.texture.frame.height),i.translate(t.anchor.x,t.anchor.y),i}}m.extension={type:[i.Ag.WebGLSystem,i.Ag.WebGPUSystem],name:"filter"},i.XO.add(m),i.XO.add(n)},5060:(e,t,r)=>{r.d(t,{u:()=>d});var i=r(949),n=r(1132),s=r(6011),a=r(4670);const o=class e extends s.V{constructor(...t){let r=t[0]??{};r instanceof Float32Array&&((0,a.t6)(a.lj,"use new MeshGeometry({ positions, uvs, indices }) instead"),r={positions:r,uvs:t[1],indices:t[2]}),r={...e.defaultOptions,...r};const s=r.positions||new Float32Array([0,0,1,0,1,1,0,1]);let o=r.uvs;o||(o=r.positions?new Float32Array(s.length):new Float32Array([0,0,1,0,1,1,0,1]));const d=r.indices||new Uint32Array([0,1,2,0,2,3]),l=r.shrinkBuffersToFit;super({attributes:{aPosition:{buffer:new i.h({data:s,label:"attribute-mesh-positions",shrinkToFit:l,usage:n.S.VERTEX|n.S.COPY_DST}),format:"float32x2",stride:8,offset:0},aUV:{buffer:new i.h({data:o,label:"attribute-mesh-uvs",shrinkToFit:l,usage:n.S.VERTEX|n.S.COPY_DST}),format:"float32x2",stride:8,offset:0}},indexBuffer:new i.h({data:d,label:"index-mesh-buffer",shrinkToFit:l,usage:n.S.INDEX|n.S.COPY_DST}),topology:r.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(e){this.attributes.aPosition.buffer.data=e}get uvs(){return this.attributes.aUV.buffer.data}set uvs(e){this.attributes.aUV.buffer.data=e}get indices(){return this.indexBuffer.data}set indices(e){this.indexBuffer.data=e}};o.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let d=o},5285:(e,t,r)=>{var i=r(8507),n=r(9313),s=r(3513),a=r(5811),o=r(8639),d=r(8218),l=r(2760),u=r(8734);class h{constructor(e,t){this.localUniforms=new a.k({uTransformMatrix:{value:new n.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new s.T({0:this.localUniforms}),this._meshDataHash=Object.create(null),this._gpuBatchableMeshHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this.renderer=e,this._adaptor=t,this._adaptor.init(),e.renderableGC.addManagedHash(this,"_gpuBatchableMeshHash"),e.renderableGC.addManagedHash(this,"_meshDataHash")}validateRenderable(e){const t=this._getMeshData(e),r=t.batched,i=e.batched;if(t.batched=i,r!==i)return!0;if(i){const r=e._geometry;if(r.indices.length!==t.indexSize||r.positions.length!==t.vertexSize)return t.indexSize=r.indices.length,t.vertexSize=r.positions.length,!0;const i=this._getBatchableMesh(e);return i.texture.uid!==e._texture.uid&&(i._textureMatrixUpdateId=-1),!i._batcher.checkAndUpdateTexture(i,e._texture)}return!1}addRenderable(e,t){const r=this.renderer.renderPipes.batch,{batched:i}=this._getMeshData(e);if(i){const i=this._getBatchableMesh(e);i.setTexture(e._texture),i.geometry=e._geometry,r.addToBatch(i,t)}else r.break(t),t.add(e)}updateRenderable(e){if(e.batched){const t=this._gpuBatchableMeshHash[e.uid];t.setTexture(e._texture),t.geometry=e._geometry,t._batcher.updateElement(t)}}destroyRenderable(e){this._meshDataHash[e.uid]=null;const t=this._gpuBatchableMeshHash[e.uid];t&&(d.Z.return(t),this._gpuBatchableMeshHash[e.uid]=null),e.off("destroyed",this._destroyRenderableBound)}execute(e){if(!e.isRenderable)return;e.state.blendMode=(0,o.i)(e.groupBlendMode,e.texture._source);const t=this.localUniforms;t.uniforms.uTransformMatrix=e.groupTransform,t.uniforms.uRound=this.renderer._roundPixels|e._roundPixels,t.update(),(0,l.V)(e.groupColorAlpha,t.uniforms.uColor,0),this._adaptor.execute(this,e)}_getMeshData(e){return this._meshDataHash[e.uid]||this._initMeshData(e)}_initMeshData(e){return this._meshDataHash[e.uid]={batched:e.batched,indexSize:e._geometry.indices?.length,vertexSize:e._geometry.positions?.length},e.on("destroyed",this._destroyRenderableBound),this._meshDataHash[e.uid]}_getBatchableMesh(e){return this._gpuBatchableMeshHash[e.uid]||this._initBatchableMesh(e)}_initBatchableMesh(e){const t=d.Z.get(u.U);return t.renderable=e,t.setTexture(e._texture),t.transform=e.groupTransform,t.roundPixels=this.renderer._roundPixels|e._roundPixels,this._gpuBatchableMeshHash[e.uid]=t,t}destroy(){for(const e in this._gpuBatchableMeshHash)this._gpuBatchableMeshHash[e]&&d.Z.return(this._gpuBatchableMeshHash[e]);this._gpuBatchableMeshHash=null,this._meshDataHash=null,this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}h.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"mesh"},i.XO.add(h)},6444:(e,t,r)=>{var i=r(8507),n=r(1979),s=r(8218),a=r(9408),o=r(9313),d=r(6563),l=r(5611),u=r(4459),h=r(4e3),c=r(6665),p=r(6040),f=r(8475),g=r(5811);const m={name:"local-uniform-msdf-bit",vertex:{header:"\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32,\n                uRound:f32,\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "},fragment:{header:"\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n         ",main:" \n            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));\n        "}},x={name:"local-uniform-msdf-bit",vertex:{header:"\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix *= uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "},fragment:{header:"\n            uniform float uDistance;\n         ",main:" \n            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));\n        "}},_={name:"msdf-bit",fragment:{header:"\n            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {\n                \n                // MSDF\n                var median = msdfColor.r + msdfColor.g + msdfColor.b -\n                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n            \n                // SDF\n                median = min(median, msdfColor.a);\n\n                var screenPxDistance = distance * (median - 0.5);\n                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));\n                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);\n                var coverage: f32 = pow(shapeColor.a * alpha, gamma);\n\n                return coverage;\n             \n            }\n        "}},b={name:"msdf-bit",fragment:{header:"\n            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {\n                \n                // MSDF\n                float median = msdfColor.r + msdfColor.g + msdfColor.b -\n                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n               \n                // SDF\n                median = min(median, msdfColor.a);\n            \n                float screenPxDistance = distance * (median - 0.5);\n                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n           \n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));\n                float gamma = mix(1.0, 1.0 / 2.2, luma);\n                float coverage = pow(shapeColor.a * alpha, gamma);  \n              \n                return coverage;\n            }\n        "}};let y,v;class T extends f.M{constructor(){const e=new g.k({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new o.u,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}}),t=(0,d.a)();y??(y=(0,l.v)({name:"sdf-shader",bits:[u.F,(0,h._)(t),m,_,c.b]})),v??(v=(0,l.I)({name:"sdf-shader",bits:[u.a,(0,h.P)(t),x,b,c.m]})),super({glProgram:v,gpuProgram:y,resources:{localUniforms:e,batchSamplers:(0,p.n)(t)}})}}var S=r(1312),w=r(2763);class C{constructor(e){this._gpuBitmapText={},this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuBitmapText")}validateRenderable(e){const t=this._getGpuBitmapText(e);return e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,t)),this._renderer.renderPipes.graphics.validateRenderable(t)}addRenderable(e,t){const r=this._getGpuBitmapText(e);R(e,r),e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,r)),this._renderer.renderPipes.graphics.addRenderable(r,t),r.context.customShader&&this._updateDistanceField(e)}destroyRenderable(e){e.off("destroyed",this._destroyRenderableBound),this._destroyRenderableByUid(e.uid)}_destroyRenderableByUid(e){const t=this._gpuBitmapText[e].context;t.customShader&&(s.Z.return(t.customShader),t.customShader=null),s.Z.return(this._gpuBitmapText[e]),this._gpuBitmapText[e]=null}updateRenderable(e){const t=this._getGpuBitmapText(e);R(e,t),this._renderer.renderPipes.graphics.updateRenderable(t),t.context.customShader&&this._updateDistanceField(e)}_updateContext(e,t){const{context:r}=t,i=S.c.getFont(e.text,e._style);r.clear(),"none"!==i.distanceField.type&&(r.customShader||(r.customShader=s.Z.get(T)));const n=Array.from(e.text),a=e._style;let o=i.baseLineOffset;const d=(0,w.Z)(n,a,i,!0);let l=0;const u=a.padding,h=d.scale;let c=d.width,p=d.height+d.offsetY;a._stroke&&(c+=a._stroke.width/h,p+=a._stroke.width/h),r.translate(-e._anchor._x*c-u,-e._anchor._y*p-u).scale(h,h);const f=i.applyFillAsTint?a._fill.color:16777215;for(let e=0;e<d.lines.length;e++){const t=d.lines[e];for(let e=0;e<t.charPositions.length;e++){const s=n[l++],a=i.chars[s];a?.texture&&r.texture(a.texture,f||"black",Math.round(t.charPositions[e]+a.xOffset),Math.round(o+a.yOffset))}o+=i.lineHeight}}_getGpuBitmapText(e){return this._gpuBitmapText[e.uid]||this.initGpuText(e)}initGpuText(e){const t=s.Z.get(a.A);return this._gpuBitmapText[e.uid]=t,this._updateContext(e,t),e.on("destroyed",this._destroyRenderableBound),this._gpuBitmapText[e.uid]}_updateDistanceField(e){const t=this._getGpuBitmapText(e).context,r=e._style.fontFamily,i=n.l.get(`${r}-bitmap`),{a:s,b:a,c:o,d}=e.groupTransform,l=Math.sqrt(s*s+a*a),u=Math.sqrt(o*o+d*d),h=(Math.abs(l)+Math.abs(u))/2,c=i.baseRenderedFontSize/e._style.fontSize,p=h*i.distanceField.range*(1/c);t.customShader.resources.localUniforms.uniforms.uDistance=p}destroy(){for(const e in this._gpuBitmapText)this._destroyRenderableByUid(e);this._gpuBitmapText=null,this._renderer=null}}function R(e,t){t.groupTransform=e.groupTransform,t.groupColorAlpha=e.groupColorAlpha,t.groupColor=e.groupColor,t.groupBlendMode=e.groupBlendMode,t.globalDisplayStatus=e.globalDisplayStatus,t.groupTransform=e.groupTransform,t.localDisplayStatus=e.localDisplayStatus,t.groupAlpha=e.groupAlpha,t._roundPixels=e._roundPixels}C.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"bitmapText"},i.XO.add(C)},6958:(e,t,r)=>{var i=r(8507),n=r(8218),s=r(8422),a=r(2289);class o{constructor(e){this._gpuText=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.runners.resolutionChange.add(this),this._renderer.renderableGC.addManagedHash(this,"_gpuText")}resolutionChange(){for(const e in this._gpuText){const t=this._gpuText[e];if(!t)continue;const r=t.batchableSprite.renderable;r._autoResolution&&(r._resolution=this._renderer.resolution,r.onViewUpdate())}}validateRenderable(e){const t=this._getGpuText(e),r=e._getKey();return t.currentKey!==r}addRenderable(e,t){const r=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),t._batcher.updateElement(t)}destroyRenderable(e){e.off("destroyed",this._destroyRenderableBound),this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const t=this._gpuText[e];this._renderer.canvasText.decreaseReferenceCount(t.currentKey),n.Z.return(t.batchableSprite),this._gpuText[e]=null}_updateText(e){const t=e._getKey(),r=this._getGpuText(e),i=r.batchableSprite;r.currentKey!==t&&this._updateGpuText(e),e._didTextUpdate=!1,(0,a.s)(i,e)}_updateGpuText(e){const t=this._getGpuText(e),r=t.batchableSprite;t.texture&&this._renderer.canvasText.decreaseReferenceCount(t.currentKey),t.texture=r.texture=this._renderer.canvasText.getManagedTexture(e),t.currentKey=e._getKey(),r.texture=t.texture}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const t={texture:null,currentKey:"--",batchableSprite:n.Z.get(s.K)};return t.batchableSprite.renderable=e,t.batchableSprite.transform=e.groupTransform,t.batchableSprite.bounds={minX:0,maxX:1,minY:0,maxY:0},t.batchableSprite.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuText[e.uid]=t,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,this._updateText(e),e.on("destroyed",this._destroyRenderableBound),t}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}o.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"text"};var d=r(2577),l=r(9939),u=r(7608),h=r(2437),c=r(9252);function p(e,t,r){for(let i=0,n=4*r*t;i<t;++i,n+=4)if(0!==e[n+3])return!1;return!0}function f(e,t,r,i,n){const s=4*t;for(let t=i,a=i*s+4*r;t<=n;++t,a+=s)if(0!==e[a+3])return!1;return!0}var g=r(4670),m=r(8291),x=r(2558),_=r(4016),b=r(1242),y=r(3548);class v{constructor(e){this._activeTextures={},this._renderer=e}getTextureSize(e,t,r){const i=_.P.measureText(e||" ",r);let n=Math.ceil(Math.ceil(Math.max(1,i.width)+2*r.padding)*t),s=Math.ceil(Math.ceil(Math.max(1,i.height)+2*r.padding)*t);return n=Math.ceil(n-1e-6),s=Math.ceil(s-1e-6),n=(0,l.U5)(n),s=(0,l.U5)(s),{width:n,height:s}}getTexture(e,t,r,i){"string"==typeof e&&((0,g.t6)("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),e={text:e,style:r,resolution:t}),e.style instanceof m.x||(e.style=new m.x(e.style));const{texture:n,canvasAndContext:s}=this.createTextureAndCanvas(e);return this._renderer.texture.initSource(n._source),u.N.returnCanvasAndContext(s),n}createTextureAndCanvas(e){const{text:t,style:r}=e,i=e.resolution??this._renderer.resolution,n=_.P.measureText(t||" ",r),s=Math.ceil(Math.ceil(Math.max(1,n.width)+2*r.padding)*i),a=Math.ceil(Math.ceil(Math.max(1,n.height)+2*r.padding)*i),o=u.N.getOptimalCanvasAndContext(s,a),{canvas:d}=o;this.renderTextToCanvas(t,r,i,o);const l=(0,x.M)(d,s,a,i);if(r.trim){const e=function(e,t=1){const{width:r,height:i}=e,n=e.getContext("2d",{willReadFrequently:!0});if(null===n)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,r,i).data;let a=0,o=0,d=r-1,l=i-1;for(;o<i&&p(s,r,o);)++o;if(o===i)return c.M.EMPTY;for(;p(s,r,l);)--l;for(;f(s,r,a,o,l);)++a;for(;f(s,r,d,o,l);)--d;return++d,++l,new c.M(a/t,o/t,(d-a)/t,(l-o)/t)}(d,i);l.frame.copyFrom(e),l.updateUvs()}return{texture:l,canvasAndContext:o}}getManagedTexture(e){e._resolution=e._autoResolution?this._renderer.resolution:e.resolution;const t=e._getKey();if(this._activeTextures[t])return this._increaseReferenceCount(t),this._activeTextures[t].texture;const{texture:r,canvasAndContext:i}=this.createTextureAndCanvas(e);return this._activeTextures[t]={canvasAndContext:i,texture:r,usageCount:1},r}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}returnTexture(e){const t=e.source;t.resource=null,t.uploadMethodId="unknown",t.alphaMode="no-premultiply-alpha",h.W.returnTexture(e)}decreaseReferenceCount(e){const t=this._activeTextures[e];t.usageCount--,0===t.usageCount&&(u.N.returnCanvasAndContext(t.canvasAndContext),this.returnTexture(t.texture),this._activeTextures[e]=null)}getReferenceCount(e){return this._activeTextures[e].usageCount}renderTextToCanvas(e,t,r,i){const{canvas:n,context:s}=i,a=(0,b.Z)(t),o=_.P.measureText(e||" ",t),l=o.lines,u=o.lineHeight,h=o.lineWidths,c=o.maxLineWidth,p=o.fontProperties,f=n.height;if(s.resetTransform(),s.scale(r,r),s.textBaseline=t.textBaseline,t._stroke?.width){const e=t._stroke;s.lineWidth=e.width,s.miterLimit=e.miterLimit,s.lineJoin=e.join,s.lineCap=e.cap}let g,m;s.font=a;const x=t.dropShadow?2:1;for(let e=0;e<x;++e){const n=t.dropShadow&&0===e,a=n?Math.ceil(Math.max(1,f)+2*t.padding):0,x=a*r;if(n){s.fillStyle="black",s.strokeStyle="black";const e=t.dropShadow,i=e.color,n=e.alpha;s.shadowColor=d.Q.shared.setValue(i).setAlpha(n).toRgbaString();const a=e.blur*r,o=e.distance*r;s.shadowBlur=a,s.shadowOffsetX=Math.cos(e.angle)*o,s.shadowOffsetY=Math.sin(e.angle)*o+x}else{if(s.fillStyle=t._fill?(0,y.r)(t._fill,s,o):null,t._stroke?.width){const e=t._stroke.width*t._stroke.alignment;s.strokeStyle=(0,y.r)(t._stroke,s,o,e)}s.shadowColor="black"}let _=(u-p.fontSize)/2;u-p.fontSize<0&&(_=0);const b=t._stroke?.width??0;for(let e=0;e<l.length;e++)g=b/2,m=b/2+e*u+p.ascent+_,"right"===t.align?g+=c-h[e]:"center"===t.align&&(g+=(c-h[e])/2),t._stroke?.width&&this._drawLetterSpacing(l[e],t,i,g+t.padding,m+t.padding-a,!0),void 0!==t._fill&&this._drawLetterSpacing(l[e],t,i,g+t.padding,m+t.padding-a)}}_drawLetterSpacing(e,t,r,i,n,s=!1){const{context:a}=r,o=t.letterSpacing;let d=!1;if(_.P.experimentalLetterSpacingSupported&&(_.P.experimentalLetterSpacing?(a.letterSpacing=`${o}px`,a.textLetterSpacing=`${o}px`,d=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px")),0===o||d)return void(s?a.strokeText(e,i,n):a.fillText(e,i,n));let l=i;const u=_.P.graphemeSegmenter(e);let h=a.measureText(e).width,c=0;for(let e=0;e<u.length;++e){const t=u[e];s?a.strokeText(t,l,n):a.fillText(t,l,n);let r="";for(let t=e+1;t<u.length;++t)r+=u[t];c=a.measureText(r).width,l+=h-c+o,h=c}}destroy(){this._activeTextures=null}}v.extension={type:[i.Ag.WebGLSystem,i.Ag.WebGPUSystem,i.Ag.CanvasSystem],name:"canvasText"},i.XO.add(v),i.XO.add(o)},7252:(e,t,r)=>{var i=r(8507),n=r(8218),s=r(8734),a=r(4670),o=r(5060);const d=class e extends o.u{constructor(...e){super({});let t=e[0]??{};"number"==typeof t&&((0,a.t6)(a.lj,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),t={width:t,height:e[1],verticesX:e[2],verticesY:e[3]}),this.build(t)}build(t){t={...e.defaultOptions,...t},this.verticesX=this.verticesX??t.verticesX,this.verticesY=this.verticesY??t.verticesY,this.width=this.width??t.width,this.height=this.height??t.height;const r=this.verticesX*this.verticesY,i=[],n=[],s=[],a=this.verticesX-1,o=this.verticesY-1,d=this.width/a,l=this.height/o;for(let e=0;e<r;e++){const t=e%this.verticesX,r=e/this.verticesX|0;i.push(t*d,r*l),n.push(t/a,r/o)}const u=a*o;for(let e=0;e<u;e++){const t=e%a,r=e/a|0,i=r*this.verticesX+t,n=r*this.verticesX+t+1,o=(r+1)*this.verticesX+t,d=(r+1)*this.verticesX+t+1;s.push(i,n,o,n,d,o)}this.buffers[0].data=new Float32Array(i),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint32Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};d.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let l=d;const u=class e extends l{constructor(t={}){super({width:(t={...e.defaultOptions,...t}).width,height:t.height,verticesX:4,verticesY:4}),this.update(t)}update(e){this.width=e.width??this.width,this.height=e.height??this.height,this._originalWidth=e.originalWidth??this._originalWidth,this._originalHeight=e.originalHeight??this._originalHeight,this._leftWidth=e.leftWidth??this._leftWidth,this._rightWidth=e.rightWidth??this._rightWidth,this._topHeight=e.topHeight??this._topHeight,this._bottomHeight=e.bottomHeight??this._bottomHeight,this._anchorX=e.anchor?.x,this._anchorY=e.anchor?.y,this.updateUvs(),this.updatePositions()}updatePositions(){const e=this.positions,{width:t,height:r,_leftWidth:i,_rightWidth:n,_topHeight:s,_bottomHeight:a,_anchorX:o,_anchorY:d}=this,l=i+n,u=t>l?1:t/l,h=s+a,c=r>h?1:r/h,p=Math.min(u,c),f=o*t,g=d*r;e[0]=e[8]=e[16]=e[24]=-f,e[2]=e[10]=e[18]=e[26]=i*p-f,e[4]=e[12]=e[20]=e[28]=t-n*p-f,e[6]=e[14]=e[22]=e[30]=t-f,e[1]=e[3]=e[5]=e[7]=-g,e[9]=e[11]=e[13]=e[15]=s*p-g,e[17]=e[19]=e[21]=e[23]=r-a*p-g,e[25]=e[27]=e[29]=e[31]=r-g,this.getBuffer("aPosition").update()}updateUvs(){const e=this.uvs;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1;const t=1/this._originalWidth,r=1/this._originalHeight;e[2]=e[10]=e[18]=e[26]=t*this._leftWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[4]=e[12]=e[20]=e[28]=1-t*this._rightWidth,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.getBuffer("aUV").update()}};u.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let h=u;class c{constructor(e){this._gpuSpriteHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuSpriteHash")}addRenderable(e,t){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._gpuSpriteHash[e.uid];e.didViewUpdate&&this._updateBatchableSprite(e,t),t._batcher.updateElement(t)}validateRenderable(e){const t=this._getGpuSprite(e);return!t._batcher.checkAndUpdateTexture(t,e._texture)}destroyRenderable(e){const t=this._gpuSpriteHash[e.uid];n.Z.return(t.geometry),n.Z.return(t),this._gpuSpriteHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}_updateBatchableSprite(e,t){t.geometry.update(e),t.setTexture(e._texture)}_getGpuSprite(e){return this._gpuSpriteHash[e.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const t=n.Z.get(s.U);return t.geometry=n.Z.get(h),t.renderable=e,t.transform=e.groupTransform,t.texture=e._texture,t.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuSpriteHash[e.uid]=t,e.didViewUpdate||this._updateBatchableSprite(e,t),e.on("destroyed",this._destroyRenderableBound),t}destroy(){for(const e in this._gpuSpriteHash)this._gpuSpriteHash[e].geometry.destroy();this._gpuSpriteHash=null,this._renderer=null}}c.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"nineSliceSprite"},i.XO.add(c)},7547:(e,t,r)=>{r.d(t,{U:()=>s});const i={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},n=class e{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}set cullMode(e){"none"!==e?(this.culling=!0,this.clockwiseFrontFace="front"===e):this.culling=!1}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend="none"!==e,this._blendMode=e,this._blendModeId=i[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new e;return t.depthTest=!1,t.blend=!0,t}};n.default2d=n.for2d();let s=n},8422:(e,t,r)=>{r.d(t,{K:()=>i});class i{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}}},8723:(e,t,r)=>{var i=r(8507),n=r(8639),s=r(7547),a=r(5099),o=r(2760),d=r(8734),l=r(5060),u=r(9313),h=r(5611),c=r(2067),p=r(6665),f=r(8475),g=r(5811),m=r(4492);const x={name:"tiling-bit",vertex:{header:"\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        ",main:"\n            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;\n\n            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;\n        "},fragment:{header:"\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        ",main:"\n\n            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);\n            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;\n            var unclamped = coord;\n            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);\n\n            var bias = 0.;\n\n            if(unclamped.x == coord.x && unclamped.y == coord.y)\n            {\n                bias = -32.;\n            } \n\n            outColor = textureSampleBias(uTexture, uSampler, coord, bias);\n        "}},_={name:"tiling-bit",vertex:{header:"\n            uniform mat3 uTextureTransform;\n            uniform vec4 uSizeAnchor;\n        \n        ",main:"\n            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;\n\n            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;\n        "},fragment:{header:"\n            uniform sampler2D uTexture;\n            uniform mat3 uMapCoord;\n            uniform vec4 uClampFrame;\n            uniform vec2 uClampOffset;\n        ",main:"\n\n        vec2 coord = vUV + ceil(uClampOffset - vUV);\n        coord = (uMapCoord * vec3(coord, 1.0)).xy;\n        vec2 unclamped = coord;\n        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n        \n        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0\n    \n        "}};let b,y;class v extends f.M{constructor(){b??(b=(0,h.v)({name:"tiling-sprite-shader",bits:[c.Ls,x,p.b]})),y??(y=(0,h.I)({name:"tiling-sprite-shader",bits:[c.mA,_,p.m]}));const e=new g.k({uMapCoord:{value:new u.u,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new u.u,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram:y,gpuProgram:b,resources:{localUniforms:new g.k({uTransformMatrix:{value:new u.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:e,uTexture:m.g.EMPTY.source,uSampler:m.g.EMPTY.source.style}})}updateUniforms(e,t,r,i,n,s){const a=this.resources.tilingUniforms,o=s.width,d=s.height,l=s.textureMatrix,u=a.uniforms.uTextureTransform;u.set(r.a*o/e,r.b*o/t,r.c*d/e,r.d*d/t,r.tx/e,r.ty/t),u.invert(),a.uniforms.uMapCoord=l.mapCoord,a.uniforms.uClampFrame=l.uClampFrame,a.uniforms.uClampOffset=l.uClampOffset,a.uniforms.uTextureTransform=u,a.uniforms.uSizeAnchor[0]=e,a.uniforms.uSizeAnchor[1]=t,a.uniforms.uSizeAnchor[2]=i,a.uniforms.uSizeAnchor[3]=n,s&&(this.resources.uTexture=s.source,this.resources.uSampler=s.source.style)}}class T extends l.u{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}const S=new T;class w{constructor(e){this._state=s.U.default2d,this._tilingSpriteDataHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_tilingSpriteDataHash")}validateRenderable(e){const t=this._getTilingSpriteData(e),r=t.canBatch;this._updateCanBatch(e);const i=t.canBatch;if(i&&i===r){const{batchableMesh:r}=t;return!r._batcher.checkAndUpdateTexture(r,e.texture)}return r!==i}addRenderable(e,t){const r=this._renderer.renderPipes.batch;this._updateCanBatch(e);const i=this._getTilingSpriteData(e),{geometry:n,canBatch:s}=i;if(s){i.batchableMesh||(i.batchableMesh=new d.U);const s=i.batchableMesh;e.didViewUpdate&&(this._updateBatchableMesh(e),s.geometry=n,s.renderable=e,s.transform=e.groupTransform,s.setTexture(e._texture)),s.roundPixels=this._renderer._roundPixels|e._roundPixels,r.addToBatch(s,t)}else r.break(t),i.shader||(i.shader=new v),this.updateRenderable(e),t.add(e)}execute(e){const{shader:t}=this._tilingSpriteDataHash[e.uid];t.groups[0]=this._renderer.globalUniforms.bindGroup;const r=t.resources.localUniforms.uniforms;r.uTransformMatrix=e.groupTransform,r.uRound=this._renderer._roundPixels|e._roundPixels,(0,o.V)(e.groupColorAlpha,r.uColor,0),this._state.blendMode=(0,n.i)(e.groupBlendMode,e.texture._source),this._renderer.encoder.draw({geometry:S,shader:t,state:this._state})}updateRenderable(e){const t=this._getTilingSpriteData(e),{canBatch:r}=t;if(r){const{batchableMesh:r}=t;e.didViewUpdate&&this._updateBatchableMesh(e),r._batcher.updateElement(r)}else if(e.didViewUpdate){const{shader:r}=t;r.updateUniforms(e.width,e.height,e._tileTransform.matrix,e.anchor.x,e.anchor.y,e.texture)}}destroyRenderable(e){const t=this._getTilingSpriteData(e);t.batchableMesh=null,t.shader?.destroy(),this._tilingSpriteDataHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}_getTilingSpriteData(e){return this._tilingSpriteDataHash[e.uid]||this._initTilingSpriteData(e)}_initTilingSpriteData(e){const t=new l.u({indices:S.indices,positions:S.positions.slice(),uvs:S.uvs.slice()});return this._tilingSpriteDataHash[e.uid]={canBatch:!0,renderable:e,geometry:t},e.on("destroyed",this._destroyRenderableBound),this._tilingSpriteDataHash[e.uid]}_updateBatchableMesh(e){const t=this._getTilingSpriteData(e),{geometry:r}=t,i=e.texture.source.style;"repeat"!==i.addressMode&&(i.addressMode="repeat",i.update()),function(e,t){const r=e.texture,i=r.frame.width,n=r.frame.height;let s=0,a=0;e.applyAnchorToTexture&&(s=e.anchor.x,a=e.anchor.y),t[0]=t[6]=-s,t[2]=t[4]=1-s,t[1]=t[3]=-a,t[5]=t[7]=1-a;const o=u.u.shared;o.copyFrom(e._tileTransform.matrix),o.tx/=e.width,o.ty/=e.height,o.invert(),o.scale(e.width/i,e.height/n),function(e,t,r,i){let n=0;const s=e.length/2,a=i.a,o=i.b,d=i.c,l=i.d,u=i.tx,h=i.ty;for(r*=2;n<s;){const t=e[r],i=e[r+1];e[r]=a*t+d*i+u,e[r+1]=o*t+l*i+h,r+=2,n++}}(t,0,0,o)}(e,r.uvs),function(e,t){const r=e.anchor.x,i=e.anchor.y;t[0]=-r*e.width,t[1]=-i*e.height,t[2]=(1-r)*e.width,t[3]=-i*e.height,t[4]=(1-r)*e.width,t[5]=(1-i)*e.height,t[6]=-r*e.width,t[7]=(1-i)*e.height}(e,r.positions)}destroy(){for(const e in this._tilingSpriteDataHash)this.destroyRenderable(this._tilingSpriteDataHash[e].renderable);this._tilingSpriteDataHash=null,this._renderer=null}_updateCanBatch(e){const t=this._getTilingSpriteData(e),r=e.texture;let i=!0;return this._renderer.type===a.W.WEBGL&&(i=this._renderer.context.supports.nonPowOf2wrapping),t.canBatch=r.textureMatrix.isSimple&&(i||r.source.isPowerOfTwo),t.canBatch}}w.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"tilingSprite"},i.XO.add(w)},8734:(e,t,r)=>{r.d(t,{U:()=>i});class i{constructor(){this.batcherName="default",this.packAsQuad=!1,this.indexOffset=0,this.attributeOffset=0,this.roundPixels=0,this._batcher=null,this._batch=null,this._textureMatrixUpdateId=-1,this._uvUpdateId=-1}get blendMode(){return this.renderable.groupBlendMode}get topology(){return this._topology||this.geometry.topology}set topology(e){this._topology=e}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.geometry=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}setTexture(e){this.texture!==e&&(this.texture=e,this._textureMatrixUpdateId=-1)}get uvs(){const e=this.geometry.getBuffer("aUV"),t=e.data;let r=t;const i=this.texture.textureMatrix;return i.isSimple||(r=this._transformedUvs,this._textureMatrixUpdateId===i._updateID&&this._uvUpdateId===e._updateID||((!r||r.length<t.length)&&(r=this._transformedUvs=new Float32Array(t.length)),this._textureMatrixUpdateId=i._updateID,this._uvUpdateId=e._updateID,i.multiplyUvs(t,r))),r}get positions(){return this.geometry.positions}get indices(){return this.geometry.indices}get color(){return this.renderable.groupColorAlpha}get groupTransform(){return this.renderable.groupTransform}get attributeSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}},8928:(e,t,r)=>{var i=r(8507),n=r(2460),s=r(7547),a=r(8218),o=r(2760),d=r(6954);class l{constructor(e,t){this.state=s.U.for2d(),this._graphicsBatchesHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this.renderer=e,this._adaptor=t,this._adaptor.init(),this.renderer.renderableGC.addManagedHash(this,"_graphicsBatchesHash")}validateRenderable(e){const t=e.context,r=!!this._graphicsBatchesHash[e.uid],i=this.renderer.graphicsContext.updateGpuContext(t);return!(!i.isBatchable&&r===i.isBatchable)}addRenderable(e,t){const r=this.renderer.graphicsContext.updateGpuContext(e.context);e.didViewUpdate&&this._rebuild(e),r.isBatchable?this._addToBatcher(e,t):(this.renderer.renderPipes.batch.break(t),t.add(e))}updateRenderable(e){const t=this._graphicsBatchesHash[e.uid];if(t)for(let e=0;e<t.length;e++){const r=t[e];r._batcher.updateElement(r)}}destroyRenderable(e){this._graphicsBatchesHash[e.uid]&&this._removeBatchForRenderable(e.uid),e.off("destroyed",this._destroyRenderableBound)}execute(e){if(!e.isRenderable)return;const t=this.renderer,r=e.context;if(!t.graphicsContext.getGpuContext(r).batches.length)return;const i=r.customShader||this._adaptor.shader;this.state.blendMode=e.groupBlendMode;const n=i.resources.localUniforms.uniforms;n.uTransformMatrix=e.groupTransform,n.uRound=t._roundPixels|e._roundPixels,(0,o.V)(e.groupColorAlpha,n.uColor,0),this._adaptor.execute(this,e)}_rebuild(e){const t=!!this._graphicsBatchesHash[e.uid],r=this.renderer.graphicsContext.updateGpuContext(e.context);t&&this._removeBatchForRenderable(e.uid),r.isBatchable&&this._initBatchesForRenderable(e),e.batched=r.isBatchable}_addToBatcher(e,t){const r=this.renderer.renderPipes.batch,i=this._getBatchesForRenderable(e);for(let e=0;e<i.length;e++){const n=i[e];r.addToBatch(n,t)}}_getBatchesForRenderable(e){return this._graphicsBatchesHash[e.uid]||this._initBatchesForRenderable(e)}_initBatchesForRenderable(e){const t=e.context,r=this.renderer.graphicsContext.getGpuContext(t),i=this.renderer._roundPixels|e._roundPixels,n=r.batches.map((t=>{const r=a.Z.get(d.G);return t.copyTo(r),r.renderable=e,r.roundPixels=i,r}));return void 0===this._graphicsBatchesHash[e.uid]&&e.on("destroyed",this._destroyRenderableBound),this._graphicsBatchesHash[e.uid]=n,n}_removeBatchForRenderable(e){this._graphicsBatchesHash[e].forEach((e=>{a.Z.return(e)})),this._graphicsBatchesHash[e]=null}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null;for(const e in this._graphicsBatchesHash)this._removeBatchForRenderable(e);this._graphicsBatchesHash=null}}l.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"graphics"},i.XO.add(l),i.XO.add(n.GH)},9147:(e,t,r)=>{var i=r(8507),n=r(4492),s=r(8218),a=r(8422),o=r(2289);class d{constructor(e){this._gpuText=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.runners.resolutionChange.add(this),this._renderer.renderableGC.addManagedHash(this,"_gpuText")}resolutionChange(){for(const e in this._gpuText){const t=this._gpuText[e];if(!t)continue;const r=t.batchableSprite.renderable;r._autoResolution&&(r._resolution=this._renderer.resolution,r.onViewUpdate())}}validateRenderable(e){const t=this._getGpuText(e),r=e._getKey();return t.textureNeedsUploading?(t.textureNeedsUploading=!1,!0):t.currentKey!==r}addRenderable(e,t){const r=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),t._batcher.updateElement(t)}destroyRenderable(e){e.off("destroyed",this._destroyRenderableBound),this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const t=this._gpuText[e];this._renderer.htmlText.decreaseReferenceCount(t.currentKey),s.Z.return(t.batchableSprite),this._gpuText[e]=null}_updateText(e){const t=e._getKey(),r=this._getGpuText(e),i=r.batchableSprite;r.currentKey!==t&&this._updateGpuText(e).catch((e=>{console.error(e)})),e._didTextUpdate=!1,(0,o.s)(i,e)}async _updateGpuText(e){e._didTextUpdate=!1;const t=this._getGpuText(e);if(t.generatingTexture)return;const r=e._getKey();this._renderer.htmlText.decreaseReferenceCount(t.currentKey),t.generatingTexture=!0,t.currentKey=r;const i=e.resolution??this._renderer.resolution,n=await this._renderer.htmlText.getManagedTexture(e.text,i,e._style,e._getKey()),s=t.batchableSprite;s.texture=t.texture=n,t.generatingTexture=!1,t.textureNeedsUploading=!0,e.onViewUpdate(),(0,o.s)(s,e)}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const t={texture:n.g.EMPTY,currentKey:"--",batchableSprite:s.Z.get(a.K),textureNeedsUploading:!1,generatingTexture:!1},r=t.batchableSprite;return r.renderable=e,r.transform=e.groupTransform,r.texture=n.g.EMPTY,r.bounds={minX:0,maxX:1,minY:0,maxY:0},r.roundPixels=this._renderer._roundPixels|e._roundPixels,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,this._gpuText[e.uid]=t,e.on("destroyed",this._destroyRenderableBound),t}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}d.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"htmlText"};var l=r(7608),u=r(2437),h=r(5099),c=r(1761),p=r(268),f=r(2558);const g="http://www.w3.org/2000/svg",m="http://www.w3.org/1999/xhtml";class x{constructor(){this.svgRoot=document.createElementNS(g,"svg"),this.foreignObject=document.createElementNS(g,"foreignObject"),this.domElement=document.createElementNS(m,"div"),this.styleElement=document.createElementNS(m,"style"),this.image=new Image;const{foreignObject:e,svgRoot:t,styleElement:r,domElement:i}=this;e.setAttribute("width","10000"),e.setAttribute("height","10000"),e.style.overflow="hidden",t.appendChild(e),e.appendChild(r),e.appendChild(i)}}var _=r(8291),b=r(8011),y=r(2577);function v(e){const t=y.Q.shared.setValue(e.color).setAlpha(e.alpha).toHexa(),r=`${Math.round(Math.cos(e.angle)*e.distance)}px ${Math.round(Math.sin(e.angle)*e.distance)}px`;return e.blur>0?`text-shadow: ${r} ${e.blur}px ${t}`:`text-shadow: ${r} ${t}`}function T(e){return[`-webkit-text-stroke-width: ${e.width}px`,`-webkit-text-stroke-color: ${y.Q.shared.setValue(e.color).toHex()}`,`text-stroke-width: ${e.width}px`,`text-stroke-color: ${y.Q.shared.setValue(e.color).toHex()}`,"paint-order: stroke"].join(";")}const S={fontSize:"font-size: {{VALUE}}px",fontFamily:"font-family: {{VALUE}}",fontWeight:"font-weight: {{VALUE}}",fontStyle:"font-style: {{VALUE}}",fontVariant:"font-variant: {{VALUE}}",letterSpacing:"letter-spacing: {{VALUE}}px",align:"text-align: {{VALUE}}",padding:"padding: {{VALUE}}px",whiteSpace:"white-space: {{VALUE}}",lineHeight:"line-height: {{VALUE}}px",wordWrapWidth:"max-width: {{VALUE}}px"},w={fill:e=>`color: ${y.Q.shared.setValue(e).toHex()}`,breakWords:e=>"word-wrap: "+(e?"break-all":"break-word"),stroke:T,dropShadow:v};class C extends _.x{constructor(e={}){super(e),this._cssOverrides=[],this.cssOverrides??(this.cssOverrides=e.cssOverrides),this.tagStyles=e.tagStyles??{}}set cssOverrides(e){this._cssOverrides=e instanceof Array?e:[e],this.update()}get cssOverrides(){return this._cssOverrides}_generateKey(){return this._styleKey=(0,b.V)(this)+this._cssOverrides.join("-"),this._styleKey}update(){this._cssStyle=null,super.update()}clone(){return new C({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow?{...this.dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,cssOverrides:this.cssOverrides})}get cssStyle(){return this._cssStyle||(this._cssStyle=function(e){const t=e._stroke,r=e._fill,i=[`div { ${[`color: ${y.Q.shared.setValue(r.color).toHex()}`,`font-size: ${e.fontSize}px`,`font-family: ${e.fontFamily}`,`font-weight: ${e.fontWeight}`,`font-style: ${e.fontStyle}`,`font-variant: ${e.fontVariant}`,`letter-spacing: ${e.letterSpacing}px`,`text-align: ${e.align}`,`padding: ${e.padding}px`,`white-space: ${"pre"===e.whiteSpace&&e.wordWrap?"pre-wrap":e.whiteSpace}`,...e.lineHeight?[`line-height: ${e.lineHeight}px`]:[],...e.wordWrap?["word-wrap: "+(e.breakWords?"break-all":"break-word"),`max-width: ${e.wordWrapWidth}px`]:[],...t?[T(t)]:[],...e.dropShadow?[v(e.dropShadow)]:[],...e.cssOverrides].join(";")} }`];return function(e,t){for(const r in e){const i=e[r],n=[];for(const e in i)w[e]?n.push(w[e](i[e])):S[e]&&n.push(S[e].replace("{{VALUE}}",i[e]));t.push(`${r} { ${n.join(";")} }`)}}(e.tagStyles,i),i.join(" ")}(this)),this._cssStyle}addOverride(...e){const t=e.filter((e=>!this.cssOverrides.includes(e)));t.length>0&&(this.cssOverrides.push(...t),this.update())}removeOverride(...e){const t=e.filter((e=>this.cssOverrides.includes(e)));t.length>0&&(this.cssOverrides=this.cssOverrides.filter((e=>!t.includes(e))),this.update())}set fill(e){"string"!=typeof e&&"number"!=typeof e&&(0,p.R)("[HTMLTextStyle] only color fill is not supported by HTMLText"),super.fill=e}set stroke(e){e&&"string"!=typeof e&&"number"!=typeof e&&(0,p.R)("[HTMLTextStyle] only color stroke is not supported by HTMLText"),super.stroke=e}}var R=r(1979);async function B(e,t){const r=await async function(e){const t=await c.e.get().fetch(e),r=await t.blob(),i=new FileReader;return await new Promise(((e,t)=>{i.onloadend=()=>e(i.result),i.onerror=t,i.readAsDataURL(r)}))}(t);return`@font-face {\n        font-family: "${e.fontFamily}";\n        src: url('${r}');\n        font-weight: ${e.fontWeight};\n        font-style: ${e.fontStyle};\n    }`}const M=new Map;let U;class P{constructor(e){this._activeTextures={},this._renderer=e,this._createCanvas=e.type===h.W.WEBGPU}getTexture(e){return this._buildTexturePromise(e.text,e.resolution,e.style)}getManagedTexture(e,t,r,i){if(this._activeTextures[i])return this._increaseReferenceCount(i),this._activeTextures[i].promise;const n=this._buildTexturePromise(e,t,r).then((e=>(this._activeTextures[i].texture=e,e)));return this._activeTextures[i]={texture:null,promise:n,usageCount:1},n}async _buildTexturePromise(e,t,r){const i=s.Z.get(x),n=function(e,t){const r=t.fontFamily,i=[],n={},s=e.match(/font-family:([^;"\s]+)/g);function a(e){n[e]||(i.push(e),n[e]=!0)}if(Array.isArray(r))for(let e=0;e<r.length;e++)a(r[e]);else a(r);s&&s.forEach((e=>{a(e.split(":")[1].trim())}));for(const e in t.tagStyles)a(t.tagStyles[e].fontFamily);return i}(e,r),a=await async function(e,t,r){const i=e.filter((e=>R.l.has(`${e}-and-url`))).map(((e,i)=>{if(!M.has(e)){const{url:n}=R.l.get(`${e}-and-url`);0===i?M.set(e,B({fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:e},n)):M.set(e,B({fontWeight:r.fontWeight,fontStyle:r.fontStyle,fontFamily:e},n))}return M.get(e)}));return(await Promise.all(i)).join("\n")}(n,r,C.defaultTextStyle),o=function(e,t,r,i){i||(i=U||(U=new x));const{domElement:n,styleElement:s,svgRoot:a}=i;n.innerHTML=`<style>${t.cssStyle};</style><div style='padding:0'>${e}</div>`,n.setAttribute("style","transform-origin: top left; display: inline-block"),r&&(s.textContent=r),document.body.appendChild(a);const o=n.getBoundingClientRect();a.remove();const d=2*t.padding;return{width:o.width-d,height:o.height-d}}(e,r,a,i),d=Math.ceil(Math.ceil(Math.max(1,o.width)+2*r.padding)*t),u=Math.ceil(Math.ceil(Math.max(1,o.height)+2*r.padding)*t),h=i.image;h.width=2+(0|d),h.height=2+(0|u);const p=function(e,t,r,i,n){const{domElement:s,styleElement:a,svgRoot:o}=n;s.innerHTML=`<style>${t.cssStyle}</style><div style='padding:0;'>${e}</div>`,s.setAttribute("style",`transform: scale(${r});transform-origin: top left; display: inline-block`),a.textContent=i;const{width:d,height:l}=n.image;return o.setAttribute("width",d.toString()),o.setAttribute("height",l.toString()),(new XMLSerializer).serializeToString(o)}(e,r,t,a,i);await function(e,t,r){return new Promise((async i=>{r&&await new Promise((e=>setTimeout(e,100))),e.onload=()=>{i()},e.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(t)}`,e.crossOrigin="anonymous"}))}(h,p,function(){const{userAgent:e}=c.e.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}()&&n.length>0);const g=h;let m;this._createCanvas&&(m=function(e,t){const r=l.N.getOptimalCanvasAndContext(e.width,e.height,t),{context:i}=r;return i.clearRect(0,0,e.width,e.height),i.drawImage(e,0,0),r}(h,t));const _=(0,f.M)(m?m.canvas:g,h.width-2,h.height-2,t);return this._createCanvas&&(this._renderer.texture.initSource(_.source),l.N.returnCanvasAndContext(m)),s.Z.return(i),_}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}decreaseReferenceCount(e){const t=this._activeTextures[e];t&&(t.usageCount--,0===t.usageCount&&(t.texture?this._cleanUp(t):t.promise.then((e=>{t.texture=e,this._cleanUp(t)})).catch((()=>{(0,p.R)("HTMLTextSystem: Failed to clean texture")})),this._activeTextures[e]=null))}_cleanUp(e){u.W.returnTexture(e.texture),e.texture.source.resource=null,e.texture.source.uploadMethodId="unknown"}getReferenceCount(e){return this._activeTextures[e].usageCount}destroy(){this._activeTextures=null}}P.extension={type:[i.Ag.WebGLSystem,i.Ag.WebGPUSystem,i.Ag.CanvasSystem],name:"htmlText"},P.defaultFontOptions={fontFamily:"Arial",fontStyle:"normal",fontWeight:"normal"},i.XO.add(P),i.XO.add(d)},9305:(e,t,r)=>{var i=r(8507);class n{execute(e,t){const r=e.state,i=e.renderer,n=t.shader||e.defaultShader;n.resources.uTexture=t.texture._source,n.resources.uniforms=e.localUniforms;const s=i.gl,a=e.getBuffers(t);i.shader.bind(n),i.state.set(r),i.geometry.bind(a.geometry,n.glProgram);const o=2===a.geometry.indexBuffer.data.BYTES_PER_ELEMENT?s.UNSIGNED_SHORT:s.UNSIGNED_INT;s.drawElements(s.TRIANGLES,6*t.particleChildren.length,o,0)}}var s=r(9313),a=r(5811),o=r(8639),d=r(7547),l=r(2760),u=r(949),h=r(1132),c=r(6011),p=r(8306),f=r(1460);function g(e,t=null){const r=6*e;if(r>65535?t||(t=new Uint32Array(r)):t||(t=new Uint16Array(r)),t.length!==r)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${r}`);for(let e=0,i=0;e<r;e+=6,i+=4)t[e+0]=i+0,t[e+1]=i+1,t[e+2]=i+2,t[e+3]=i+0,t[e+4]=i+2,t[e+5]=i+3;return t}function m(e,t){const r=[];r.push("\n      \n        var index = 0;\n\n        for (let i = 0; i < ps.length; ++i)\n        {\n            const p = ps[i];\n\n            ");let i=0;for(const n in e){const s=e[n];t===s.dynamic&&(r.push(`offset = index + ${i}`),r.push(s.code),i+=(0,p.m)(s.format).stride/4)}r.push("\n            index += stride * 4;\n        }\n    "),r.unshift(`\n        var stride = ${i};\n    `);const n=r.join("\n");return new Function("ps","f32v","u32v",n)}class x{constructor(e){this._size=0,this._generateParticleUpdateCache={};const t=this._size=e.size??1e3,r=e.properties;let i=0,n=0;for(const e in r){const t=r[e],s=(0,p.m)(t.format);t.dynamic?n+=s.stride:i+=s.stride}this._dynamicStride=n/4,this._staticStride=i/4,this.staticAttributeBuffer=new f.u(4*t*i),this.dynamicAttributeBuffer=new f.u(4*t*n),this.indexBuffer=g(t);const s=new c.V;let a=0,o=0;this._staticBuffer=new u.h({data:new Float32Array(1),label:"static-particle-buffer",shrinkToFit:!1,usage:h.S.VERTEX|h.S.COPY_DST}),this._dynamicBuffer=new u.h({data:new Float32Array(1),label:"dynamic-particle-buffer",shrinkToFit:!1,usage:h.S.VERTEX|h.S.COPY_DST});for(const e in r){const t=r[e],i=(0,p.m)(t.format);t.dynamic?(s.addAttribute(t.attributeName,{buffer:this._dynamicBuffer,stride:4*this._dynamicStride,offset:4*a,format:t.format}),a+=i.size):(s.addAttribute(t.attributeName,{buffer:this._staticBuffer,stride:4*this._staticStride,offset:4*o,format:t.format}),o+=i.size)}s.addIndex(this.indexBuffer);const d=this.getParticleUpdate(r);this._dynamicUpload=d.dynamicUpdate,this._staticUpload=d.staticUpdate,this.geometry=s}getParticleUpdate(e){const t=function(e){const t=[];for(const r in e){const i=e[r];t.push(r,i.code,i.dynamic?"d":"s")}return t.join("_")}(e);return this._generateParticleUpdateCache[t]||(this._generateParticleUpdateCache[t]=this.generateParticleUpdate(e)),this._generateParticleUpdateCache[t]}generateParticleUpdate(e){return function(e){return{dynamicUpdate:m(e,!0),staticUpdate:m(e,!1)}}(e)}update(e,t){e.length>this._size&&(t=!0,this._size=Math.max(e.length,1.5*this._size|0),this.staticAttributeBuffer=new f.u(this._size*this._staticStride*4*4),this.dynamicAttributeBuffer=new f.u(this._size*this._dynamicStride*4*4),this.indexBuffer=g(this._size),this.geometry.indexBuffer.setDataWithSize(this.indexBuffer,this.indexBuffer.byteLength,!0));const r=this.dynamicAttributeBuffer;if(this._dynamicUpload(e,r.float32View,r.uint32View),this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View,e.length*this._dynamicStride*4,!0),t){const t=this.staticAttributeBuffer;this._staticUpload(e,t.float32View,t.uint32View),this._staticBuffer.setDataWithSize(t.float32View,e.length*this._staticStride*4,!0)}}destroy(){this._staticBuffer.destroy(),this._dynamicBuffer.destroy(),this.geometry.destroy()}}var _=r(2577),b=r(9113),y=r(3012),v=r(8475),T=r(4492),S=r(218),w="\nstruct ParticleUniforms {\n  uProjectionMatrix:mat3x3<f32>,\n  uColor:vec4<f32>,\n  uResolution:vec2<f32>,\n  uRoundPixels:f32,\n};\n\n@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;\n\n@group(1) @binding(0) var uTexture: texture_2d<f32>;\n@group(1) @binding(1) var uSampler : sampler;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n    @location(1) color : vec4<f32>,\n  };\n@vertex\nfn mainVertex(\n  @location(0) aVertex: vec2<f32>,\n  @location(1) aPosition: vec2<f32>,\n  @location(2) aUV: vec2<f32>,\n  @location(3) aColor: vec4<f32>,\n  @location(4) aRotation: f32,\n) -> VSOutput {\n  \n   let v = vec2(\n       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),\n       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)\n   ) + aPosition;\n\n   let position = vec4((uniforms.uProjectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;\n\n  return VSOutput(\n   position,\n   aUV,\n   vColor,\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @location(1) color: vec4<f32>,\n  @builtin(position) position: vec4<f32>,\n) -> @location(0) vec4<f32> {\n\n    var sample = textureSample(uTexture, uSampler, uv) * color;\n   \n    return sample;\n}";class C extends v.M{constructor(){super({glProgram:b.M.from({vertex:"attribute vec2 aVertex;\nattribute vec2 aUV;\nattribute vec4 aColor;\n\nattribute vec2 aPosition;\nattribute float aRotation;\n\nuniform mat3 uTranslationMatrix;\nuniform float uRound;\nuniform vec2 uResolution;\nuniform vec4 uColor;\n\nvarying vec2 vUV;\nvarying vec4 vColor;\n\nvec2 roundPixels(vec2 position, vec2 targetSize)\n{       \n    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n}\n\nvoid main(void){\n    float cosRotation = cos(aRotation);\n    float sinRotation = sin(aRotation);\n    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;\n    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;\n\n    vec2 v = vec2(x, y);\n    v = v + aPosition;\n\n    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    if(uRound == 1.0)\n    {\n        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n    }\n\n    vUV = aUV;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;\n}\n",fragment:"varying vec2 vUV;\nvarying vec4 vColor;\n\nuniform sampler2D uTexture;\n\nvoid main(void){\n    vec4 color = texture2D(uTexture, vUV) * vColor;\n    gl_FragColor = color;\n}"}),gpuProgram:y.B.from({fragment:{source:w,entryPoint:"mainFragment"},vertex:{source:w,entryPoint:"mainVertex"}}),resources:{uTexture:T.g.WHITE.source,uSampler:new S.n({}),uniforms:{uTranslationMatrix:{value:new s.u,type:"mat3x3<f32>"},uColor:{value:new _.Q(16777215),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}}})}}class R{constructor(e,t){this.state=d.U.for2d(),this._gpuBufferHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this.localUniforms=new a.k({uTranslationMatrix:{value:new s.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array(4),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}),this.renderer=e,this.adaptor=t,this.defaultShader=new C,this.state=d.U.for2d()}validateRenderable(e){return!1}addRenderable(e,t){this.renderer.renderPipes.batch.break(t),t.add(e)}getBuffers(e){return this._gpuBufferHash[e.uid]||this._initBuffer(e)}_initBuffer(e){return this._gpuBufferHash[e.uid]=new x({size:e.particleChildren.length,properties:e._properties}),e.on("destroyed",this._destroyRenderableBound),this._gpuBufferHash[e.uid]}updateRenderable(e){}destroyRenderable(e){this._gpuBufferHash[e.uid].destroy(),this._gpuBufferHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}execute(e){const t=e.particleChildren;if(0===t.length)return;const r=this.renderer,i=this.getBuffers(e);e.texture||(e.texture=t[0].texture);const n=this.state;i.update(t,e._childrenDirty),e._childrenDirty=!1,n.blendMode=(0,o.i)(e.blendMode,e.texture._source);const s=this.localUniforms.uniforms,a=s.uTranslationMatrix;e.worldTransform.copyTo(a),a.prepend(r.globalUniforms.globalUniformData.projectionMatrix),s.uResolution=r.globalUniforms.globalUniformData.resolution,s.uRound=r._roundPixels|e._roundPixels,(0,l.V)(e.groupColorAlpha,s.uColor,0),this.adaptor.execute(this,e)}destroy(){this.defaultShader&&(this.defaultShader.destroy(),this.defaultShader=null)}}class B extends R{constructor(e){super(e,new n)}}B.extension={type:[i.Ag.WebGLPipes],name:"particle"};class M{execute(e,t){const r=e.renderer,i=t.shader||e.defaultShader;i.groups[0]=r.renderPipes.uniformBatch.getUniformBindGroup(e.localUniforms,!0),i.groups[1]=r.texture.getTextureBindGroup(t.texture);const n=e.state,s=e.getBuffers(t);r.encoder.draw({geometry:s.geometry,shader:t.shader||e.defaultShader,state:n,size:6*t.particleChildren.length})}}class U extends R{constructor(e){super(e,new M)}}U.extension={type:[i.Ag.WebGPUPipes],name:"particle"},i.XO.add(B),i.XO.add(U)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYyLmI1ZDQ2MzA2NTE3ODFkMWExODRlLmpzIiwibWFwcGluZ3MiOiJtSkFDQSxNQUFNQSxFQUFrQixDQUN0QkMsS0FBTSxvQkFDTkMsT0FBUSxDQUNOQyxPQUVFLGtRQVdGQyxLQUVFLHNIQUtGQyxJQUVFLGdNQVNBQyxFQUF3QixJQUN6Qk4sRUFDSEUsT0FBUSxJQUNIRixFQUFnQkUsT0FFbkJDLE9BQVFILEVBQWdCRSxPQUFPQyxPQUFPSSxRQUFRLFdBQVksY0FHeERDLEVBQW9CLENBQ3hCUCxLQUFNLG9CQUNOQyxPQUFRLENBQ05DLE9BRUUsZ0lBT0ZDLEtBRUUseUZBS0ZDLElBRUUsc0osdUtDN0ROLFNBQVNJLEVBQWlCQyxFQUFpQkMsR0FDekMsTUFBTSxRQUFFQyxFQUFPLE9BQUVDLEdBQVdILEdBQzVCLE9BQWlCRyxFQUFRRixFQUFLRyxRQUFTRixHQUN2QyxNQUFNRyxFQUFVSixFQUFLSyxPQUFPRCxRQUM1QkYsRUFBT0ksTUFBUUYsRUFDZkYsRUFBT0ssTUFBUUgsRUFDZkYsRUFBT00sTUFBUUosRUFDZkYsRUFBT08sTUFBUUwsQ0FDakIsQyxnRENQQSxNQUFNTSxFQUFhLEksUUFBSSxHQUN2QixTQUFTQyxFQUF3QkMsRUFBT0MsRUFBT0MsRUFBUUMsR0FDckQsTUFBTWIsRUFBU1EsRUFDZlIsRUFBT0ksS0FBTyxFQUNkSixFQUFPSyxLQUFPLEVBQ2RMLEVBQU9NLEtBQU9JLEVBQU1DLE1BQVFFLEVBQWEsRUFDekNiLEVBQU9PLEtBQU9HLEVBQU1FLE9BQVNDLEVBQWEsRUFDMUMsTUFBTWQsRUFBVSxJQUFZZSxrQkFDMUJkLEVBQU9XLE1BQ1BYLEVBQU9ZLE9BQ1BDLEdBQ0EsR0FTRixPQVBBZCxFQUFRZ0IsT0FBT0MsZUFBaUIsUUFDaENqQixFQUFRZ0IsT0FBT0UsU0FBV1AsRUFDMUJYLEVBQVFnQixPQUFPRyxVQUFZLDhCQUMzQm5CLEVBQVFvQixNQUFNUixNQUFRQSxFQUFRRSxFQUM5QmQsRUFBUW9CLE1BQU1QLE9BQVNBLEVBQVNDLEVBQ2hDZCxFQUFRZ0IsT0FBT0ssS0FBSyxTQUFVckIsRUFBUWdCLFFBQ3RDaEIsRUFBUXNCLFlBQ0R0QixDQUNULEMsaUJDbEJBLFNBQVN1QixFQUFvQkMsRUFBTUMsRUFBS0MsR0FDdEMsTUFBTUMsR0FBU0gsR0FBUSxHQUFLLEtBQU8sSUFDbkNDLEVBQUlDLE1BQW9CLElBQVBGLEdBQWMsSUFBTUcsRUFDckNGLEVBQUlDLE1BQWFGLEdBQVEsRUFBSSxLQUFPLElBQU1HLEVBQzFDRixFQUFJQyxNQUFhRixHQUFRLEdBQUssS0FBTyxJQUFNRyxFQUMzQ0YsRUFBSUMsS0FBWUMsQ0FDbEIsQywrQ0NWQSxNQUFNQyxFQU9KLFdBQU9DLENBQUtDLEdBQ1ZDLE9BQU9DLGVBQ0xDLEtBQ0EsV0FRQSxDQUNFLEdBQUFDLENBQUlDLEdBQ0ZDLFdBQVdDLG9CQUFvQixTQUFVSixLQUFLSyxhQUM5Q0wsS0FBS00sVUFBWUosRUFDYkEsSUFDRkMsV0FBV0ksaUJBQWlCLFNBQVVQLEtBQUtLLGFBQzNDTCxLQUFLUSxTQUVULEVBQ0EsR0FBQUMsR0FDRSxPQUFPVCxLQUFLTSxTQUNkLElBR0pOLEtBQUtLLFlBQWMsS0FDWkwsS0FBS00sWUFHVk4sS0FBS1UsZ0JBQ0xWLEtBQUtXLFVBQVlDLHVCQUFzQixJQUFNWixLQUFLUSxXQUFTLEVBRTdEUixLQUFLVSxjQUFnQixLQUNmVixLQUFLVyxZQUNQRSxxQkFBcUJiLEtBQUtXLFdBQzFCWCxLQUFLVyxVQUFZLEtBQ25CLEVBRUZYLEtBQUtRLE9BQVMsS0FDWixJQUFLUixLQUFLTSxVQUNSLE9BR0YsSUFBSTNCLEVBQ0FDLEVBQ0osR0FIQW9CLEtBQUtVLGdCQUdEVixLQUFLTSxZQUFjSCxXQUFXVyxPQUNoQ25DLEVBQVF3QixXQUFXWSxXQUNuQm5DLEVBQVN1QixXQUFXYSxnQkFDZixDQUNMLE1BQU0sWUFBRUMsRUFBVyxhQUFFQyxHQUFpQmxCLEtBQUtNLFVBQzNDM0IsRUFBUXNDLEVBQ1JyQyxFQUFTc0MsQ0FDWCxDQUNBbEIsS0FBS21CLFNBQVNYLE9BQU83QixFQUFPQyxHQUM1Qm9CLEtBQUtvQixRQUFRLEVBRWZwQixLQUFLVyxVQUFZLEtBQ2pCWCxLQUFLTSxVQUFZLEtBQ2pCTixLQUFLcUIsU0FBV3hCLEVBQVF3QixVQUFZLElBQ3RDLENBTUEsY0FBT0MsR0FDTG5CLFdBQVdDLG9CQUFvQixTQUFVSixLQUFLSyxhQUM5Q0wsS0FBS1UsZ0JBQ0xWLEtBQUtVLGNBQWdCLEtBQ3JCVixLQUFLSyxZQUFjLEtBQ25CTCxLQUFLcUIsU0FBVyxLQUNoQnJCLEtBQUtRLE9BQVMsSUFDaEIsRUFHRmIsRUFBYTRCLFVBQVksS0FBY0MsWSx3QkNoRnZDLE1BQU1DLEVBT0osV0FBTzdCLENBQUtDLEdBQ1ZBLEVBQVVDLE9BQU80QixPQUFPLENBQ3RCQyxXQUFXLEVBQ1hDLGNBQWMsR0FDYi9CLEdBQ0hDLE9BQU9DLGVBQ0xDLEtBQ0EsU0FDQSxDQUNFLEdBQUFDLENBQUk0QixHQUNFN0IsS0FBSzhCLFNBQ1A5QixLQUFLOEIsUUFBUUMsT0FBTy9CLEtBQUtvQixPQUFRcEIsTUFFbkNBLEtBQUs4QixRQUFVRCxFQUNYQSxHQUNGQSxFQUFPRyxJQUFJaEMsS0FBS29CLE9BQVFwQixLQUFNLElBQWdCaUMsSUFFbEQsRUFDQSxHQUFBeEIsR0FDRSxPQUFPVCxLQUFLOEIsT0FDZCxJQUdKOUIsS0FBS2tDLEtBQU8sS0FDVmxDLEtBQUs4QixRQUFRSSxNQUFNLEVBRXJCbEMsS0FBS21DLE1BQVEsS0FDWG5DLEtBQUs4QixRQUFRSyxPQUFPLEVBRXRCbkMsS0FBSzhCLFFBQVUsS0FDZjlCLEtBQUs2QixPQUFTaEMsRUFBUStCLGFBQWVRLEVBQUEsRUFBT0MsT0FBUyxJQUFJRCxFQUFBLEVBQ3JEdkMsRUFBUThCLFdBQ1YzQixLQUFLbUMsT0FFVCxDQU1BLGNBQU9iLEdBQ0wsR0FBSXRCLEtBQUs4QixRQUFTLENBQ2hCLE1BQU1RLEVBQVl0QyxLQUFLOEIsUUFDdkI5QixLQUFLNkIsT0FBUyxLQUNkUyxFQUFVaEIsU0FDWixDQUNGLEVBR0ZHLEVBQWFGLFVBQVksS0FBY0MsWUN4RHZDLEtBQVdRLElBQUlyQyxHQUNmLEtBQVdxQyxJQUFJUCxFLCtCQ0hmLE1BQU1jLEVBQ0osV0FBQUMsQ0FBWXJCLEdBQ1ZuQixLQUFLeUMsVUFBWXRCLENBQ25CLENBQ0EsSUFBQXVCLENBQUtDLEVBQWNDLEVBQVdDLEdBQ1I3QyxLQUFLeUMsVUFBVUssWUFDdkJDLE1BQU1DLE1BQU1ILEdBQ3hCQSxFQUFlYixJQUFJLENBQ2pCaUIsYUFBYyxTQUNkQyxXQUFXLEVBQ1hDLE9BQVEsYUFDUlAsWUFDQUQsZ0JBRUosQ0FDQSxHQUFBUyxDQUFJQyxFQUFlQyxFQUFZVCxHQUM3QjdDLEtBQUt5QyxVQUFVSyxZQUFZQyxNQUFNQyxNQUFNSCxHQUN2Q0EsRUFBZWIsSUFBSSxDQUNqQmlCLGFBQWMsU0FDZEUsT0FBUSxZQUNSRCxXQUFXLEdBRWYsQ0FDQSxPQUFBSyxDQUFRQyxHQUNxQixlQUF2QkEsRUFBWUwsT0FDZG5ELEtBQUt5QyxVQUFVZ0IsT0FBT2YsS0FBS2MsR0FDSyxjQUF2QkEsRUFBWUwsUUFDckJuRCxLQUFLeUMsVUFBVWdCLE9BQU9MLEtBRTFCLENBQ0EsT0FBQTlCLEdBQ0V0QixLQUFLeUMsVUFBWSxJQUNuQixFQUVGRixFQUFXaEIsVUFBWSxDQUNyQm1DLEtBQU0sQ0FDSixLQUFjQyxXQUNkLEtBQWNDLFlBQ2QsS0FBY0MsYUFFaEJ6RyxLQUFNLFUsdUdDN0JSLE1BQU0wRyxFQUFlLElBQUlDLEVBQUEsRUFBUyxDQUNoQ0MsV0FBWSxDQUNWQyxVQUFXLENBQ1RDLE9BQVEsSUFBSUMsYUFBYSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDL0NDLE9BQVEsWUFDUkMsT0FBUSxFQUNSNUUsT0FBUSxJQUdaNkUsWUFBYSxJQUFJQyxZQUFZLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLE1BRS9DLE1BQU1DLEVBQ0osV0FBQWhDLENBQVlyQixHQUNWbkIsS0FBS3lFLGtCQUFvQixFQUN6QnpFLEtBQUswRSxhQUFlLEdBQ3BCMUUsS0FBSzJFLHNCQUF3QixJQUFJQyxFQUFBLEVBQWEsQ0FDNUNDLFdBQVksQ0FBRUMsTUFBTyxJQUFJWCxhQUFhLEdBQUlULEtBQU0sYUFDaERxQixZQUFhLENBQUVELE1BQU8sSUFBSVgsYUFBYSxHQUFJVCxLQUFNLGFBQ2pEc0IsWUFBYSxDQUFFRixNQUFPLElBQUlYLGFBQWEsR0FBSVQsS0FBTSxhQUNqRHVCLGFBQWMsQ0FBRUgsTUFBTyxJQUFJWCxhQUFhLEdBQUlULEtBQU0sYUFDbER3QixhQUFjLENBQUVKLE1BQU8sSUFBSVgsYUFBYSxHQUFJVCxLQUFNLGFBQ2xEeUIsZUFBZ0IsQ0FBRUwsTUFBTyxJQUFJWCxhQUFhLEdBQUlULEtBQU0sZUFFdEQxRCxLQUFLb0YsdUJBQXlCLElBQUlDLEVBQUEsRUFBVSxDQUFDLEdBQzdDckYsS0FBS21CLFNBQVdBLENBQ2xCLENBS0EscUJBQUltRSxHQUNGLE9BQU90RixLQUFLdUYsbUJBQW1CQyxXQUNqQyxDQUNBLElBQUE5QyxDQUFLYyxHQUNILE1BQU1yQyxFQUFXbkIsS0FBS21CLFNBQ2hCc0UsRUFBVWpDLEVBQVliLGFBQWE4QyxRQUNwQ3pGLEtBQUswRSxhQUFhMUUsS0FBS3lFLHFCQUMxQnpFLEtBQUswRSxhQUFhMUUsS0FBS3lFLG1CQUFxQnpFLEtBQUswRixrQkFFbkQsTUFBTUMsRUFBYTNGLEtBQUswRSxhQUFhMUUsS0FBS3lFLG1CQUUxQyxHQURBekUsS0FBS3lFLG9CQUNrQixJQUFuQmdCLEVBQVFHLE9BRVYsWUFEQUQsRUFBV0UsTUFBTyxHQUdwQixNQUFNN0gsRUFBUzJILEVBQVczSCxPQVUxQixHQVRJd0YsRUFBWXNDLFlDM0RwQixTQUFtQ0EsRUFBYTlILEdBQzlDQSxFQUFPK0gsUUFDUCxNQUFNQyxFQUFhaEksRUFBT2lJLE9BQzFCLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJSixFQUFZRixPQUFRTSxJQUFLLENBQzNDLE1BQU1DLEVBQWFMLEVBQVlJLEdBQzNCQyxFQUFXQyxvQkFBc0IsSUFHckNwSSxFQUFPaUksT0FBU0UsRUFBV0UsZUFDM0JySSxFQUFPc0ksVUFBVUgsRUFBV25JLFFBQzlCLENBQ0FBLEVBQU9pSSxPQUFTRCxDQUVsQixDRCtDTU8sQ0FBMEIvQyxFQUFZc0MsWUFBYTlILEdBQzFDd0YsRUFBWWIsYUFBYTZELFlBQ2xDeEksRUFBTytILFFBQ1AvSCxFQUFPeUksUUFBUWpELEVBQVliLGFBQWE2RCxZQUN4Q3hJLEVBQU8wSSxZQUFZbEQsRUFBWVosVUFBVXlELGlCQUV6QzdDLEVBQVlaLFVBQVUrRCxxQkFBb0IsRUFBTTNJLEdBRTlDd0YsRUFBWVosVUFBVyxDQUN6QixNQUNNZ0UsR0FEY3BELEVBQVlaLFVBQVVpRSxhQUFlckQsRUFBWVosVUFBVWtFLG1CQUN0Q0Msc0JBQ3JDSCxHQUNGNUksRUFBTzBJLFlBQVlFLEVBRXZCLENBQ0EsTUFBTUksRUFBcUI3RixFQUFTOEYsYUFBYUEsYUFBYUMsYUFBYW5JLE9BQzNFLElBQUlGLEVBQWFzSSxJQUNiakosRUFBVSxFQUNWa0osR0FBWSxFQUNaQyxHQUFnQixFQUNoQkMsR0FBVSxFQUNWQyxHQUFpQixFQUNyQixJQUFLLElBQUlyQixFQUFJLEVBQUdBLEVBQUlULEVBQVFHLE9BQVFNLElBQUssQ0FDdkMsTUFBTXpDLEVBQVNnQyxFQUFRUyxHQVl2QixHQVhBckgsRUFBYTJJLEtBQUtDLElBQUk1SSxFQUFrQyxZQUF0QjRFLEVBQU81RSxXQUEyQm1JLEVBQW1CVSxZQUFjakUsRUFBTzVFLFlBQzVHWCxHQUFXdUYsRUFBT3ZGLFFBQ08sUUFBckJ1RixFQUFPMkQsVUFDVEEsR0FBWSxFQUNrQixZQUFyQjNELEVBQU8yRCxXQUNoQkEsSUFBY0EsRUFBWUosRUFBbUJJLFdBRTFDM0QsRUFBTzhELGlCQUNWQSxHQUFpQixLQUVLOUQsRUFBT2tFLG9CQUFzQnhHLEVBQVN1QyxNQUMzQyxDQUNqQjRELEdBQVUsRUFDVixLQUNGLENBQ0EsR0FBSTdELEVBQU80RCxpQkFBbUJsRyxFQUFTeUcsWUFBWUMsZUFBaUIsR0FBTyxFQUN6RSxFQUFBQyxFQUFBLEdBQUssd0hBQ0xSLEdBQVUsRUFDVixLQUNGLENBQ0FBLEVBQVU3RCxFQUFPNkQsU0FBV0EsRUFDNUJELElBQWtCQSxFQUFnQjVELEVBQU80RCxjQUMzQyxDQUNBLEdBQUtDLEVBQUwsQ0FJQSxHQUFJQyxFQUFnQixDQUNsQixNQUFNUSxFQUFXNUcsRUFBUzhGLGFBQWFlLGFBQ2pDQyxFQUFpQjlHLEVBQVM4RixhQUFhQSxhQUFhcEksV0FDMURiLEVBQU9rSyxVQUFVLEVBQUdILEVBQVNwSixNQUFRc0osRUFBZ0IsRUFBR0YsRUFBU25KLE9BQVNxSixFQUM1RSxDQUNBakssRUFBT21LLE1BQU10SixHQUFZdUosT0FBT0QsTUFBTSxFQUFJdEosR0FBWXdKLElBQWMsRUFBVm5LLEdBQ3JERixFQUFPc0ssWUFJWjNDLEVBQVdFLE1BQU8sRUFDbEJGLEVBQVczSCxPQUFTQSxFQUNwQjJILEVBQVcwQixjQUFnQkEsRUFDM0IxQixFQUFXL0MsVUFBWVksRUFBWVosVUFDbkMrQyxFQUFXaEQsYUFBZWEsRUFBWWIsYUFDdENnRCxFQUFXNEMsc0JBQXdCcEgsRUFBUzhGLGFBQWF1QixjQUN6RDdDLEVBQVc4QyxhQUFlQyxFQUFBLEVBQVk1SixrQkFDcENkLEVBQU9XLE1BQ1BYLEVBQU9ZLE9BQ1BDLEVBQ0F1SSxHQUVGakcsRUFBUzhGLGFBQWEwQixLQUFLaEQsRUFBVzhDLGNBQWMsR0FDcER0SCxFQUFTeUgsZUFBZWxHLEtBQUssQ0FDM0JqRCxPQUFRekIsS0FqQlIySCxFQUFXRSxNQUFPLENBUnBCLE1BRkVGLEVBQVdFLE1BQU8sQ0E2QnRCLENBQ0EsR0FBQXpDLEdBQ0UsTUFBTWpDLEVBQVduQixLQUFLbUIsU0FDdEJuQixLQUFLeUUsb0JBQ0wsTUFBTWtCLEVBQWEzRixLQUFLMEUsYUFBYTFFLEtBQUt5RSxtQkFDMUMsR0FBSWtCLEVBQVdFLEtBQ2IsT0FFRjdGLEtBQUt1RixrQkFBb0JJLEVBQ3pCLE1BQU04QyxFQUFlOUMsRUFBVzhDLGFBQzFCekssRUFBUzJILEVBQVczSCxPQUMxQixJQUFJd0gsRUFBY3FELEVBQUEsRUFBUUMsTUFFMUIsR0FEQTNILEVBQVM4RixhQUFhOEIsbUJBQ2xCcEQsRUFBVzBCLGNBQWUsQ0FDNUIsTUFBTTJCLEVBQWlCaEosS0FBS3lFLGtCQUFvQixFQUFJekUsS0FBSzBFLGFBQWExRSxLQUFLeUUsa0JBQW9CLEdBQUd6RyxPQUFTLEtBQ3JHaUosRUFBZTlGLEVBQVM4RixhQUFhZ0MsZ0JBQWdCdEQsRUFBVzRDLHVCQUN0RS9DLEVBQWN4RixLQUFLa0osZUFBZWpDLEVBQWNqSixFQUFRZ0wsRUFDMUQsQ0FDQXJELEVBQVdILFlBQWNBLEVBQ3pCLE1BQU1DLEVBQVVFLEVBQVdoRCxhQUFhOEMsUUFJeEMsR0FIQXpGLEtBQUtvRix1QkFBdUIrRCxZQUFZVixFQUFhMUosT0FBT3FLLE1BQU8sR0FDbkVwSixLQUFLb0YsdUJBQXVCK0QsWUFBWTNELEVBQVl6RyxPQUFRLEdBQzVEb0MsRUFBU3lILGVBQWV4RixNQUNELElBQW5CcUMsRUFBUUcsT0FDVkgsRUFBUSxHQUFHNEQsTUFBTXJKLEtBQU15SSxFQUFjOUMsRUFBVzRDLHVCQUF1QixHQUN2RUcsRUFBQSxFQUFZWSxjQUFjYixPQUNyQixDQUNMLElBQUljLEVBQU81RCxFQUFXOEMsYUFDbEJlLEVBQU9kLEVBQUEsRUFBWTVKLGtCQUNyQmQsRUFBT1csTUFDUFgsRUFBT1ksT0FDUDJLLEVBQUt4SyxPQUFPMkksYUFDWixHQUVFeEIsRUFBSSxFQUNSLElBQUtBLEVBQUksRUFBR0EsRUFBSVQsRUFBUUcsT0FBUyxJQUFLTSxFQUFHLENBQ3hCVCxFQUFRUyxHQUNoQm1ELE1BQU1ySixLQUFNdUosRUFBTUMsR0FBTSxHQUMvQixNQUFNQyxFQUFJRixFQUNWQSxFQUFPQyxFQUNQQSxFQUFPQyxDQUNULENBQ0FoRSxFQUFRUyxHQUFHbUQsTUFBTXJKLEtBQU11SixFQUFNNUQsRUFBVzRDLHVCQUF1QixHQUMvREcsRUFBQSxFQUFZWSxjQUFjQyxHQUMxQmIsRUFBQSxFQUFZWSxjQUFjRSxFQUM1QixDQUNJN0QsRUFBVzBCLGVBQ2JxQixFQUFBLEVBQVlZLGNBQWM5RCxFQUU5QixDQUNBLGNBQUEwRCxDQUFlUSxFQUFtQjFMLEVBQVFnTCxHQUN4QyxNQUFNVyxFQUF1QkQsRUFBa0J4QyxhQUFhbkksT0FBTzJJLFlBQzdEbEMsRUFBY2tELEVBQUEsRUFBWTVKLGtCQUM5QmQsRUFBT1csTUFDUFgsRUFBT1ksT0FDUCtLLEdBQ0EsR0FFRixJQUFJQyxFQUFJNUwsRUFBT0ksS0FDWHlMLEVBQUk3TCxFQUFPSyxLQUNYMkssSUFDRlksR0FBS1osRUFBZTVLLEtBQ3BCeUwsR0FBS2IsRUFBZTNLLE1BRXRCdUwsRUFBSXBDLEtBQUtzQyxNQUFNRixFQUFJRCxHQUNuQkUsRUFBSXJDLEtBQUtzQyxNQUFNRCxFQUFJRixHQUNuQixNQUFNaEwsRUFBUTZJLEtBQUtZLEtBQUtwSyxFQUFPVyxNQUFRZ0wsR0FDakMvSyxFQUFTNEksS0FBS1ksS0FBS3BLLEVBQU9ZLE9BQVMrSyxHQVF6QyxPQVBBM0osS0FBS21CLFNBQVM4RixhQUFhOEMsY0FDekJMLEVBQ0FsRSxFQUNBLENBQUVvRSxJQUFHQyxLQUNMLENBQUVsTCxRQUFPQyxVQUNULENBQUVnTCxFQUFHLEVBQUdDLEVBQUcsSUFFTnJFLENBQ1QsQ0FDQSxXQUFBd0UsQ0FBWXZHLEVBQVF3RyxFQUFPQyxFQUFRbkUsR0FDakMsTUFBTTVFLEVBQVduQixLQUFLbUIsU0FDaEJ3RSxFQUFhM0YsS0FBSzBFLGFBQWExRSxLQUFLeUUsbUJBQ3BDekcsRUFBUzJILEVBQVczSCxPQUNwQnlCLEVBQVMwSyxFQUFBLEVBQU05SCxPQUVmK0gsRUFEd0J6RSxFQUFXNEMsd0JBQ08yQixFQUNoRCxJQUFJckwsRUFBYW1CLEtBQUttQixTQUFTOEYsYUFBYW9ELGlCQUFpQm5ELGFBQWFuSSxPQUFPMkksWUFDN0U0QyxFQUFldEssS0FBS3lFLGtCQUFvQixFQUM1QyxLQUFPNkYsRUFBZSxHQUFLdEssS0FBSzBFLGFBQWE0RixHQUFjekUsUUFDdkR5RSxFQUVBQSxFQUFlLElBQ2pCekwsRUFBYW1CLEtBQUswRSxhQUFhNEYsR0FBYzdCLGFBQWExSixPQUFPMkksYUFFbkUsTUFBTTZDLEVBQWlCdkssS0FBSzJFLHNCQUN0QjZGLEVBQVdELEVBQWVDLFNBQzFCQyxFQUFjRCxFQUFTdkYsYUFDdkJ5RixFQUFZRixFQUFTM0YsV0FDckI4RixFQUFhSCxFQUFTekYsWUFDdEI2RixFQUFhSixFQUFTeEYsWUFDdEI2RixFQUFjTCxFQUFTdEYsYUFDdkI0RixFQUFnQk4sRUFBU3JGLGVBQy9CLEdBQUlpRixFQUFlLENBQ2pCLElBQUlXLEVBQVkvSyxLQUFLeUUsa0JBQ3JCLEtBQU9zRyxFQUFZLEdBQUcsQ0FDcEJBLElBQ0EsTUFBTUMsRUFBY2hMLEtBQUswRSxhQUFhMUUsS0FBS3lFLGtCQUFvQixHQUMvRCxJQUFLdUcsRUFBWW5GLEtBQU0sQ0FDckJwRyxFQUFPbUssRUFBSW9CLEVBQVloTixPQUFPSSxLQUM5QnFCLEVBQU9vSyxFQUFJbUIsRUFBWWhOLE9BQU9LLEtBQzlCLEtBQ0YsQ0FDRixDQUNBb00sRUFBWSxHQUFLek0sRUFBT0ksS0FBT3FCLEVBQU9tSyxFQUN0Q2EsRUFBWSxHQUFLek0sRUFBT0ssS0FBT29CLEVBQU9vSyxDQUN4QyxNQUNFWSxFQUFZLEdBQUssRUFDakJBLEVBQVksR0FBSyxFQUVuQkEsRUFBWSxHQUFLUixFQUFNOUssTUFBTVIsTUFDN0I4TCxFQUFZLEdBQUtSLEVBQU05SyxNQUFNUCxPQUM3QjhMLEVBQVUsR0FBS1QsRUFBTWxMLE9BQU9KLE1BQzVCK0wsRUFBVSxHQUFLVCxFQUFNbEwsT0FBT0gsT0FDNUI4TCxFQUFVLEdBQUssRUFBSUEsRUFBVSxHQUM3QkEsRUFBVSxHQUFLLEVBQUlBLEVBQVUsR0FDN0JDLEVBQVcsR0FBS1YsRUFBTWxMLE9BQU9rTSxXQUM3Qk4sRUFBVyxHQUFLVixFQUFNbEwsT0FBT21NLFlBQzdCUCxFQUFXLEdBQUssRUFBSUEsRUFBVyxHQUMvQkEsRUFBVyxHQUFLLEVBQUlBLEVBQVcsR0FDL0JDLEVBQVcsR0FBSyxHQUFNRCxFQUFXLEdBQ2pDQyxFQUFXLEdBQUssR0FBTUQsRUFBVyxHQUNqQ0MsRUFBVyxHQUFLWCxFQUFNOUssTUFBTVIsTUFBUStMLEVBQVUsR0FBSyxHQUFNQyxFQUFXLEdBQ3BFQyxFQUFXLEdBQUtYLEVBQU05SyxNQUFNUCxPQUFTOEwsRUFBVSxHQUFLLEdBQU1DLEVBQVcsR0FDckUsTUFBTVEsRUFBY25MLEtBQUttQixTQUFTOEYsYUFBYW9ELGlCQUFpQm5ELGFBQ2hFMkQsRUFBWSxHQUFLcEwsRUFBT21LLEVBQUkvSyxFQUM1QmdNLEVBQVksR0FBS3BMLEVBQU9vSyxFQUFJaEwsRUFDNUJnTSxFQUFZLEdBQUtNLEVBQVlwTSxPQUFPSixNQUFRRSxFQUM1Q2dNLEVBQVksR0FBS00sRUFBWXBNLE9BQU9ILE9BQVNDLEVBQzdDLE1BQU1vSSxFQUFlakgsS0FBS21CLFNBQVM4RixhQUFhZ0MsZ0JBQWdCaUIsR0FXaEUsR0FWQS9JLEVBQVM4RixhQUFhMEIsS0FBS3VCLElBQVVuRSxHQUNqQ21FLGFBQWtCckIsRUFBQSxHQUNwQmlDLEVBQWMsR0FBS1osRUFBTy9LLE1BQU1SLE1BQ2hDbU0sRUFBYyxHQUFLWixFQUFPL0ssTUFBTVAsU0FFaENrTSxFQUFjLEdBQUs3RCxFQUFhdEksTUFDaENtTSxFQUFjLEdBQUs3RCxFQUFhckksUUFFbENrTSxFQUFjLEdBQUs3RCxFQUFhbUUsUUFBVSxFQUFJLEVBQzlDYixFQUFlYyxTQUNYbEssRUFBUzJCLFlBQVl3SSxhQUFjLENBQ3JDLE1BQU1DLEVBQWdCcEssRUFBUzJCLFlBQVl3SSxhQUFhRSxlQUFlakIsR0FDdkV2SyxLQUFLb0YsdUJBQXVCK0QsWUFBWW9DLEVBQWUsRUFDekQsTUFDRXZMLEtBQUtvRix1QkFBdUIrRCxZQUFZb0IsRUFBZ0IsR0FFMUR2SyxLQUFLb0YsdUJBQXVCK0QsWUFBWWMsRUFBTWxMLE9BQVEsR0FDdERpQixLQUFLb0YsdUJBQXVCK0QsWUFBWWMsRUFBTWxMLE9BQU9xSyxNQUFPLEdBQzVEM0YsRUFBT2dJLE9BQU8sR0FBS3pMLEtBQUtvRix1QkFDeEJqRSxFQUFTdUssUUFBUUMsS0FBSyxDQUNwQkMsU0FBVTlILEVBQ1YrSCxPQUFRcEksRUFDUnFJLE1BQU9ySSxFQUFPc0ksT0FDZEMsU0FBVSxrQkFFUjdLLEVBQVN1QyxPQUFTLElBQWF1SSxPQUNqQzlLLEVBQVM4RixhQUFhOEIsa0JBRTFCLENBQ0EsY0FBQXJELEdBQ0UsTUFBTyxDQUNMRyxNQUFNLEVBQ040QyxhQUFjLEtBQ2R6SyxPQUFRLElBQUlrTyxFQUFBLEVBQ1p0SixVQUFXLEtBQ1hELGFBQWMsS0FDZDBFLGVBQWUsRUFDZmtCLHNCQUF1QixLQUUzQixDQVNBLHFCQUFBNEQsQ0FBc0JDLEVBQWNDLEdBQ2xDLE1BQU1DLEVBQU90TSxLQUFLdUYsa0JBQ1pnSCxFQUFlSCxFQUFhbk0sSUFDaENxTSxFQUFLN0QsYUFBYStELFFBQVE3TixNQUMxQixFQUNBLEVBQ0EyTixFQUFLN0QsYUFBYStELFFBQVE1TixPQUMxQjBOLEVBQUt0TyxPQUFPSSxLQUNaa08sRUFBS3RPLE9BQU9LLE1BRVJnSSxFQUFpQmdHLEVBQU9oRyxlQUFlb0csT0FBT0MsRUFBQSxFQUFPckssUUFDckR3RSxFQUFjd0YsRUFBT3hGLGFBQWV3RixFQUFPdkYsa0JBV2pELE9BVklELEdBQWVBLEVBQVlFLHVCQUM3QlYsRUFBZXNHLFFBQVE5RixFQUFZRSx1QkFFckNWLEVBQWV1RyxTQUNmTCxFQUFhSSxRQUFRdEcsR0FDckJrRyxFQUFhcEUsTUFDWCxFQUFJa0UsRUFBT3RPLFFBQVFvQixNQUFNUixNQUN6QixFQUFJME4sRUFBT3RPLFFBQVFvQixNQUFNUCxRQUUzQjJOLEVBQWFNLFVBQVVSLEVBQU9TLE9BQU9sRCxFQUFHeUMsRUFBT1MsT0FBT2pELEdBQy9DMEMsQ0FDVCxFQUdGL0gsRUFBYWpELFVBQVksQ0FDdkJtQyxLQUFNLENBQ0osS0FBY3FKLFlBQ2QsS0FBY0MsY0FFaEI1UCxLQUFNLFVFN1ZSLEtBQVc0RSxJQUFJd0MsR0FDZixLQUFXeEMsSUFBSU8sRSw2RUNBZixNQUFNMEssRUFBZ0IsTUFBTUEsVUFBc0IsSUFDaEQsV0FBQXpLLElBQWUwSyxHQUNiLElBQUlyTixFQUFVcU4sRUFBSyxJQUFNLENBQUMsRUFDdEJyTixhQUFtQnNFLGdCQUNyQixRQUFZLEtBQVEsNkRBQ3BCdEUsRUFBVSxDQUNSc04sVUFBV3ROLEVBQ1h1TixJQUFLRixFQUFLLEdBQ1ZHLFFBQVNILEVBQUssS0FHbEJyTixFQUFVLElBQUtvTixFQUFjSyxrQkFBbUJ6TixHQUNoRCxNQUFNc04sRUFBWXROLEVBQVFzTixXQUFhLElBQUloSixhQUFhLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUM5RSxJQUFJaUosRUFBTXZOLEVBQVF1TixJQUNiQSxJQUVEQSxFQURFdk4sRUFBUXNOLFVBQ0osSUFBSWhKLGFBQWFnSixFQUFVdkgsUUFFM0IsSUFBSXpCLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEtBR2pELE1BQU1rSixFQUFVeE4sRUFBUXdOLFNBQVcsSUFBSTlJLFlBQVksQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDN0RnSixFQUFjMU4sRUFBUTJOLG1CQW1CNUJDLE1BQU0sQ0FDSnpKLFdBQVksQ0FDVkMsVUFBVyxDQUNUQyxPQXJCaUIsSUFBSSxJQUFPLENBQ2hDb0ksS0FBTWEsRUFDTk8sTUFBTywyQkFDUEgsY0FDQUksTUFBTyxJQUFZQyxPQUFTLElBQVlDLFdBa0JwQ3pKLE9BQVEsWUFDUkMsT0FBUSxFQUNSNUUsT0FBUSxHQUVWcU8sSUFBSyxDQUNINUosT0FyQlcsSUFBSSxJQUFPLENBQzFCb0ksS0FBTWMsRUFDTk0sTUFBTyxxQkFDUEgsY0FDQUksTUFBTyxJQUFZQyxPQUFTLElBQVlDLFdBa0JwQ3pKLE9BQVEsWUFDUkMsT0FBUSxFQUNSNUUsT0FBUSxJQUdaNkUsWUFyQmtCLElBQUksSUFBTyxDQUM3QmdJLEtBQU1lLEVBQ05LLE1BQU8sb0JBQ1BILGNBQ0FJLE1BQU8sSUFBWUksTUFBUSxJQUFZRixXQWtCdkM3QixTQUFVbk0sRUFBUW1NLFdBRXBCaE0sS0FBS2dPLFVBQVksTUFDbkIsQ0FFQSxhQUFJYixHQUNGLE9BQU9uTixLQUFLZ0UsV0FBV0MsVUFBVUMsT0FBT29JLElBQzFDLENBT0EsYUFBSWEsQ0FBVXJJLEdBQ1o5RSxLQUFLZ0UsV0FBV0MsVUFBVUMsT0FBT29JLEtBQU94SCxDQUMxQyxDQUVBLE9BQUlzSSxHQUNGLE9BQU9wTixLQUFLZ0UsV0FBVzhKLElBQUk1SixPQUFPb0ksSUFDcEMsQ0FPQSxPQUFJYyxDQUFJdEksR0FDTjlFLEtBQUtnRSxXQUFXOEosSUFBSTVKLE9BQU9vSSxLQUFPeEgsQ0FDcEMsQ0FFQSxXQUFJdUksR0FDRixPQUFPck4sS0FBS3NFLFlBQVlnSSxJQUMxQixDQUNBLFdBQUllLENBQVF2SSxHQUNWOUUsS0FBS3NFLFlBQVlnSSxLQUFPeEgsQ0FDMUIsR0FFRm1JLEVBQWNLLGVBQWlCLENBQzdCdEIsU0FBVSxnQkFDVndCLG9CQUFvQixHQUV0QixJQUFJUyxFQUFlaEIsQyxxR0MvRm5CLE1BQU1pQixFQUNKLFdBQUExTCxDQUFZckIsRUFBVWdOLEdBQ3BCbk8sS0FBS29PLGNBQWdCLElBQUl4SixFQUFBLEVBQWEsQ0FDcEN5SixpQkFBa0IsQ0FBRXZKLE1BQU8sSUFBSTRILEVBQUEsRUFBVWhKLEtBQU0sZUFDL0M0SyxPQUFRLENBQUV4SixNQUFPLElBQUlYLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxJQUFLVCxLQUFNLGFBQ3ZENkssT0FBUSxDQUFFekosTUFBTyxFQUFHcEIsS0FBTSxTQUU1QjFELEtBQUt3Tyx1QkFBeUIsSUFBSW5KLEVBQUEsRUFBVSxDQUMxQyxFQUFHckYsS0FBS29PLGdCQUVWcE8sS0FBS3lPLGNBQWdDM08sT0FBTzRPLE9BQU8sTUFDbkQxTyxLQUFLMk8sc0JBQXdDN08sT0FBTzRPLE9BQU8sTUFDM0QxTyxLQUFLNE8sd0JBQTBCNU8sS0FBSzZPLGtCQUFrQmxHLEtBQUszSSxNQUMzREEsS0FBS21CLFNBQVdBLEVBQ2hCbkIsS0FBSzhPLFNBQVdYLEVBQ2hCbk8sS0FBSzhPLFNBQVNsUCxPQUNkdUIsRUFBUzROLGFBQWFDLGVBQWVoUCxLQUFNLHlCQUMzQ21CLEVBQVM0TixhQUFhQyxlQUFlaFAsS0FBTSxnQkFDN0MsQ0FDQSxrQkFBQWlQLENBQW1CQyxHQUNqQixNQUFNQyxFQUFXblAsS0FBS29QLGFBQWFGLEdBQzdCRyxFQUFhRixFQUFTRyxRQUN0QkMsRUFBWUwsRUFBS0ksUUFFdkIsR0FEQUgsRUFBU0csUUFBVUMsRUFDZkYsSUFBZUUsRUFDakIsT0FBTyxFQUNGLEdBQUlBLEVBQVcsQ0FDcEIsTUFBTTNELEVBQVdzRCxFQUFLTSxVQUN0QixHQUFJNUQsRUFBU3lCLFFBQVF6SCxTQUFXdUosRUFBU00sV0FBYTdELEVBQVN1QixVQUFVdkgsU0FBV3VKLEVBQVNPLFdBRzNGLE9BRkFQLEVBQVNNLFVBQVk3RCxFQUFTeUIsUUFBUXpILE9BQ3RDdUosRUFBU08sV0FBYTlELEVBQVN1QixVQUFVdkgsUUFDbEMsRUFFVCxNQUFNK0osRUFBZ0IzUCxLQUFLNFAsa0JBQWtCVixHQUk3QyxPQUhJUyxFQUFjNVIsUUFBUThSLE1BQVFYLEVBQUtZLFNBQVNELE1BQzlDRixFQUFjSSx3QkFBMEIsSUFFbENKLEVBQWNLLFNBQVNDLHNCQUM3Qk4sRUFDQVQsRUFBS1ksU0FFVCxDQUNBLE9BQU8sQ0FDVCxDQUNBLGFBQUFJLENBQWNoQixFQUFNck0sR0FDbEIsTUFBTXNOLEVBQVVuUSxLQUFLbUIsU0FBUzJCLFlBQVlDLE9BQ3BDLFFBQUV1TSxHQUFZdFAsS0FBS29QLGFBQWFGLEdBQ3RDLEdBQUlJLEVBQVMsQ0FDWCxNQUFNYyxFQUFtQnBRLEtBQUs0UCxrQkFBa0JWLEdBQ2hEa0IsRUFBaUJDLFdBQVduQixFQUFLWSxVQUNqQ00sRUFBaUJ4RSxTQUFXc0QsRUFBS00sVUFDakNXLEVBQVFHLFdBQVdGLEVBQWtCdk4sRUFDdkMsTUFDRXNOLEVBQVFuTixNQUFNSCxHQUNkQSxFQUFlYixJQUFJa04sRUFFdkIsQ0FDQSxnQkFBQXFCLENBQWlCckIsR0FDZixHQUFJQSxFQUFLSSxRQUFTLENBQ2hCLE1BQU1jLEVBQW1CcFEsS0FBSzJPLHNCQUFzQk8sRUFBS1csS0FDekRPLEVBQWlCQyxXQUFXbkIsRUFBS1ksVUFDakNNLEVBQWlCeEUsU0FBV3NELEVBQUtNLFVBQ2pDWSxFQUFpQkosU0FBU1EsY0FBY0osRUFDMUMsQ0FDRixDQUNBLGlCQUFBdkIsQ0FBa0JLLEdBQ2hCbFAsS0FBS3lPLGNBQWNTLEVBQUtXLEtBQU8sS0FDL0IsTUFBTVksRUFBVXpRLEtBQUsyTyxzQkFBc0JPLEVBQUtXLEtBQzVDWSxJQUNGLElBQVFDLE9BQU9ELEdBQ2Z6USxLQUFLMk8sc0JBQXNCTyxFQUFLVyxLQUFPLE1BRXpDWCxFQUFLeUIsSUFBSSxZQUFhM1EsS0FBSzRPLHdCQUM3QixDQUNBLE9BQUFyTCxDQUFRMkwsR0FDTixJQUFLQSxFQUFLMEIsYUFDUixPQUNGMUIsRUFBS3BELE1BQU0rRSxXQUFZLEVBQUFDLEVBQUEsR0FBMEI1QixFQUFLNkIsZUFBZ0I3QixFQUFLblIsUUFBUXlPLFNBQ25GLE1BQU00QixFQUFnQnBPLEtBQUtvTyxjQUMzQkEsRUFBYzVELFNBQVM2RCxpQkFBbUJhLEVBQUs4QixlQUMvQzVDLEVBQWM1RCxTQUFTK0QsT0FBU3ZPLEtBQUttQixTQUFTOFAsYUFBZS9CLEVBQUsrQixhQUNsRTdDLEVBQWMvQyxVQUNkLE9BQ0U2RCxFQUFLZ0MsZ0JBQ0w5QyxFQUFjNUQsU0FBUzhELE9BQ3ZCLEdBRUZ0TyxLQUFLOE8sU0FBU3ZMLFFBQVF2RCxLQUFNa1AsRUFDOUIsQ0FDQSxZQUFBRSxDQUFhRixHQUNYLE9BQU9sUCxLQUFLeU8sY0FBY1MsRUFBS1csTUFBUTdQLEtBQUttUixjQUFjakMsRUFDNUQsQ0FDQSxhQUFBaUMsQ0FBY2pDLEdBT1osT0FOQWxQLEtBQUt5TyxjQUFjUyxFQUFLVyxLQUFPLENBQzdCUCxRQUFTSixFQUFLSSxRQUNkRyxVQUFXUCxFQUFLTSxVQUFVbkMsU0FBU3pILE9BQ25DOEosV0FBWVIsRUFBS00sVUFBVXJDLFdBQVd2SCxRQUV4Q3NKLEVBQUtrQyxHQUFHLFlBQWFwUixLQUFLNE8seUJBQ25CNU8sS0FBS3lPLGNBQWNTLEVBQUtXLElBQ2pDLENBQ0EsaUJBQUFELENBQWtCVixHQUNoQixPQUFPbFAsS0FBSzJPLHNCQUFzQk8sRUFBS1csTUFBUTdQLEtBQUtxUixtQkFBbUJuQyxFQUN6RSxDQUNBLGtCQUFBbUMsQ0FBbUJuQyxHQUNqQixNQUFNdUIsRUFBVSxJQUFRaFEsSUFBSTZRLEVBQUEsR0FNNUIsT0FMQWIsRUFBUXRLLFdBQWErSSxFQUNyQnVCLEVBQVFKLFdBQVduQixFQUFLWSxVQUN4QlcsRUFBUWMsVUFBWXJDLEVBQUs4QixlQUN6QlAsRUFBUWUsWUFBY3hSLEtBQUttQixTQUFTOFAsYUFBZS9CLEVBQUsrQixhQUN4RGpSLEtBQUsyTyxzQkFBc0JPLEVBQUtXLEtBQU9ZLEVBQ2hDQSxDQUNULENBQ0EsT0FBQW5QLEdBQ0UsSUFBSyxNQUFNNEUsS0FBS2xHLEtBQUsyTyxzQkFDZjNPLEtBQUsyTyxzQkFBc0J6SSxJQUM3QixJQUFRd0ssT0FBTzFRLEtBQUsyTyxzQkFBc0J6SSxJQUc5Q2xHLEtBQUsyTyxzQkFBd0IsS0FDN0IzTyxLQUFLeU8sY0FBZ0IsS0FDckJ6TyxLQUFLb08sY0FBZ0IsS0FDckJwTyxLQUFLd08sdUJBQXlCLEtBQzlCeE8sS0FBSzhPLFNBQVN4TixVQUNkdEIsS0FBSzhPLFNBQVcsS0FDaEI5TyxLQUFLbUIsU0FBVyxJQUNsQixFQUdGK00sRUFBUzNNLFVBQVksQ0FDbkJtQyxLQUFNLENBQ0osS0FBY0MsV0FDZCxLQUFjQyxZQUNkLEtBQWNDLGFBRWhCekcsS0FBTSxRQzdJUixLQUFXNEUsSUFBSWtNLEUsc0pDSGYsTUFBTXVELEVBQXNCLENBQzFCclUsS0FBTSx5QkFDTkMsT0FBUSxDQUNOQyxPQUVFLGlTQVdGQyxLQUVFLHNIQUtGQyxJQUVFLCtMQVFKa1UsU0FBVSxDQUNScFUsT0FFRSxvUUFVRkMsS0FFRSxnSUFNQW9VLEVBQXdCLENBQzVCdlUsS0FBTSx5QkFDTkMsT0FBUSxDQUNOQyxPQUVFLDhIQU1GQyxLQUVFLDBGQUtGQyxJQUVFLHNKQVFKa1UsU0FBVSxDQUNScFUsT0FFRSxvREFJRkMsS0FFRSwrRkMzRkFxVSxFQUFVLENBQ2R4VSxLQUFNLFdBQ05zVSxTQUFVLENBQ1JwVSxPQUVFLDhsQ0ErQkF1VSxFQUFZLENBQ2hCelUsS0FBTSxXQUNOc1UsU0FBVSxDQUNScFUsT0FFRSwrbkNDN0JOLElBQUl3VSxFQUNBQyxFQUNKLE1BQU1DLFVBQWtCQyxFQUFBLEVBQ3RCLFdBQUF6UCxHQUNFLE1BQU1nSSxFQUFXLElBQUk1RixFQUFBLEVBQWEsQ0FDaEMwSixPQUFRLENBQUV4SixNQUFPLElBQUlYLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxJQUFLVCxLQUFNLGFBQ3ZEMkssaUJBQWtCLENBQUV2SixNQUFPLElBQUk0SCxFQUFBLEVBQVVoSixLQUFNLGVBQy9Dd08sVUFBVyxDQUFFcE4sTUFBTyxFQUFHcEIsS0FBTSxPQUM3QjZLLE9BQVEsQ0FBRXpKLE1BQU8sRUFBR3BCLEtBQU0sU0FFdEJ5TyxHQUFjLFNBQ3BCTCxJQUFlQSxHQUFhLE9BQTRCLENBQ3REMVUsS0FBTSxhQUNOZ1YsS0FBTSxDQUNKQyxFQUFBLEdBQ0EsRUFBQUMsRUFBQSxHQUF3QkgsR0FDeEJWLEVBQ0FHLEVBQ0FXLEVBQUEsTUFHSlIsSUFBY0EsR0FBWSxPQUEyQixDQUNuRDNVLEtBQU0sYUFDTmdWLEtBQU0sQ0FDSkMsRUFBQSxHQUNBLEVBQUFDLEVBQUEsR0FBMEJILEdBQzFCUixFQUNBRSxFQUNBVSxFQUFBLE1BR0o5RSxNQUFNLENBQ0pzRSxZQUNBRCxhQUNBVSxVQUFXLENBQ1RwRSxjQUFlNUQsRUFDZmlJLGVBQWUsRUFBQUMsRUFBQSxHQUE2QlAsS0FHbEQsRSx3QkMzQ0YsTUFBTVEsRUFDSixXQUFBblEsQ0FBWXJCLEdBQ1ZuQixLQUFLNFMsZUFBaUIsQ0FBQyxFQUN2QjVTLEtBQUs0Tyx3QkFBMEI1TyxLQUFLNk8sa0JBQWtCbEcsS0FBSzNJLE1BQzNEQSxLQUFLeUMsVUFBWXRCLEVBQ2pCbkIsS0FBS3lDLFVBQVVzTSxhQUFhQyxlQUFlaFAsS0FBTSxpQkFDbkQsQ0FDQSxrQkFBQWlQLENBQW1CNEQsR0FDakIsTUFBTUMsRUFBcUI5UyxLQUFLK1Msa0JBQWtCRixHQUtsRCxPQUpJQSxFQUFXRyxpQkFDYkgsRUFBV0csZ0JBQWlCLEVBQzVCaFQsS0FBS2lULGVBQWVKLEVBQVlDLElBRTNCOVMsS0FBS3lDLFVBQVVLLFlBQVlvUSxTQUFTakUsbUJBQW1CNkQsRUFDaEUsQ0FDQSxhQUFBNUMsQ0FBYzJDLEVBQVloUSxHQUN4QixNQUFNaVEsRUFBcUI5UyxLQUFLK1Msa0JBQWtCRixHQUNsRE0sRUFBY04sRUFBWUMsR0FDdEJELEVBQVdHLGlCQUNiSCxFQUFXRyxnQkFBaUIsRUFDNUJoVCxLQUFLaVQsZUFBZUosRUFBWUMsSUFFbEM5UyxLQUFLeUMsVUFBVUssWUFBWW9RLFNBQVNoRCxjQUFjNEMsRUFBb0JqUSxHQUNsRWlRLEVBQW1CTSxRQUFRQyxjQUM3QnJULEtBQUtzVCxxQkFBcUJULEVBRTlCLENBQ0EsaUJBQUFoRSxDQUFrQmdFLEdBQ2hCQSxFQUFXbEMsSUFBSSxZQUFhM1EsS0FBSzRPLHlCQUNqQzVPLEtBQUt1VCx3QkFBd0JWLEVBQVdoRCxJQUMxQyxDQUNBLHVCQUFBMEQsQ0FBd0JDLEdBQ3RCLE1BQU1KLEVBQVVwVCxLQUFLNFMsZUFBZVksR0FBZUosUUFDL0NBLEVBQVFDLGVBQ1YsSUFBUTNDLE9BQU8wQyxFQUFRQyxjQUN2QkQsRUFBUUMsYUFBZSxNQUV6QixJQUFRM0MsT0FBTzFRLEtBQUs0UyxlQUFlWSxJQUNuQ3hULEtBQUs0UyxlQUFlWSxHQUFpQixJQUN2QyxDQUNBLGdCQUFBakQsQ0FBaUJzQyxHQUNmLE1BQU1DLEVBQXFCOVMsS0FBSytTLGtCQUFrQkYsR0FDbERNLEVBQWNOLEVBQVlDLEdBQzFCOVMsS0FBS3lDLFVBQVVLLFlBQVlvUSxTQUFTM0MsaUJBQWlCdUMsR0FDakRBLEVBQW1CTSxRQUFRQyxjQUM3QnJULEtBQUtzVCxxQkFBcUJULEVBRTlCLENBQ0EsY0FBQUksQ0FBZUosRUFBWVksR0FDekIsTUFBTSxRQUFFTCxHQUFZSyxFQUNkQyxFQUFhQyxFQUFBLEVBQWtCQyxRQUFRZixFQUFXL1UsS0FBTStVLEVBQVcxVSxRQUN6RWlWLEVBQVFyTixRQUM4QixTQUFsQzJOLEVBQVdHLGNBQWNuUSxPQUN0QjBQLEVBQVFDLGVBQ1hELEVBQVFDLGFBQWUsSUFBUTVTLElBQUl1UixLQUd2QyxNQUFNOEIsRUFBUUMsTUFBTUMsS0FBS25CLEVBQVcvVSxNQUM5QnNMLEVBQVF5SixFQUFXMVUsT0FDekIsSUFBSThWLEVBQVdQLEVBQVdRLGVBQzFCLE1BQU1DLEdBQW1CLEVBQUFDLEVBQUEsR0FBb0JOLEVBQU8xSyxFQUFPc0ssR0FBWSxHQUN2RSxJQUFJVyxFQUFRLEVBQ1osTUFBTW5XLEVBQVVrTCxFQUFNbEwsUUFDaEJpSyxFQUFRZ00sRUFBaUJoTSxNQUMvQixJQUFJbU0sRUFBS0gsRUFBaUJ4VixNQUN0QjRWLEVBQUtKLEVBQWlCdlYsT0FBU3VWLEVBQWlCSyxRQUNoRHBMLEVBQU1xTCxVQUNSSCxHQUFNbEwsRUFBTXFMLFFBQVE5VixNQUFRd0osRUFDNUJvTSxHQUFNbkwsRUFBTXFMLFFBQVE5VixNQUFRd0osR0FFOUJpTCxFQUFRdkcsV0FBV2dHLEVBQVc1VSxRQUFReVcsR0FBS0osRUFBS3BXLEdBQVUyVSxFQUFXNVUsUUFBUTBXLEdBQUtKLEVBQUtyVyxHQUFTaUssTUFBTUEsRUFBT0EsR0FDN0csTUFBTXlNLEVBQU9sQixFQUFXbUIsZ0JBQWtCekwsRUFBTTBMLE1BQU1DLE1BQVEsU0FDOUQsSUFBSyxJQUFJN08sRUFBSSxFQUFHQSxFQUFJaU8sRUFBaUJhLE1BQU1wUCxPQUFRTSxJQUFLLENBQ3RELE1BQU0rTyxFQUFPZCxFQUFpQmEsTUFBTTlPLEdBQ3BDLElBQUssSUFBSWdQLEVBQUksRUFBR0EsRUFBSUQsRUFBS0UsY0FBY3ZQLE9BQVFzUCxJQUFLLENBQ2xELE1BQU1FLEVBQU90QixFQUFNTyxLQUNiZ0IsRUFBVzNCLEVBQVdJLE1BQU1zQixHQUM5QkMsR0FBVXRYLFNBQ1pxVixFQUFRclYsUUFDTnNYLEVBQVN0WCxRQUNUNlcsR0FBYyxRQUNkcE4sS0FBSzhOLE1BQU1MLEVBQUtFLGNBQWNELEdBQUtHLEVBQVNFLFNBQzVDL04sS0FBSzhOLE1BQU1yQixFQUFXb0IsRUFBU0csU0FHckMsQ0FDQXZCLEdBQVlQLEVBQVcrQixVQUN6QixDQUNGLENBQ0EsaUJBQUExQyxDQUFrQkYsR0FDaEIsT0FBTzdTLEtBQUs0UyxlQUFlQyxFQUFXaEQsTUFBUTdQLEtBQUswVixZQUFZN0MsRUFDakUsQ0FDQSxXQUFBNkMsQ0FBWTdDLEdBQ1YsTUFBTThDLEVBQWtCLElBQVFsVixJQUFJbVYsRUFBQSxHQUlwQyxPQUhBNVYsS0FBSzRTLGVBQWVDLEVBQVdoRCxLQUFPOEYsRUFDdEMzVixLQUFLaVQsZUFBZUosRUFBWThDLEdBQ2hDOUMsRUFBV3pCLEdBQUcsWUFBYXBSLEtBQUs0Tyx5QkFDekI1TyxLQUFLNFMsZUFBZUMsRUFBV2hELElBQ3hDLENBQ0Esb0JBQUF5RCxDQUFxQlQsR0FDbkIsTUFBTU8sRUFBVXBULEtBQUsrUyxrQkFBa0JGLEdBQVlPLFFBQzdDeUMsRUFBYWhELEVBQVcxVSxPQUFPMFgsV0FDL0JDLEVBQWNDLEVBQUEsRUFBTXRWLElBQUksR0FBR29WLGFBQzNCLEVBQUVHLEVBQUMsRUFBRUMsRUFBQyxFQUFFQyxFQUFDLEdBQVFyRCxFQUFXN0IsZUFDNUJtRixFQUFLM08sS0FBSzRPLEtBQUtKLEVBQUlBLEVBQUlDLEVBQUlBLEdBQzNCSSxFQUFLN08sS0FBSzRPLEtBQUtGLEVBQUlBLEVBQUlJLEVBQUlBLEdBQzNCQyxHQUFjL08sS0FBS2dQLElBQUlMLEdBQU0zTyxLQUFLZ1AsSUFBSUgsSUFBTyxFQUM3Q0ksRUFBWVgsRUFBWVkscUJBQXVCN0QsRUFBVzFVLE9BQU93WSxTQUNqRUMsRUFBV0wsRUFBYVQsRUFBWWpDLGNBQWNnRCxPQUFTLEVBQUlKLEdBQ3JFckQsRUFBUUMsYUFBYWIsVUFBVXBFLGNBQWM1RCxTQUFTMEgsVUFBWTBFLENBQ3BFLENBQ0EsT0FBQXRWLEdBQ0UsSUFBSyxNQUFNdU8sS0FBTzdQLEtBQUs0UyxlQUNyQjVTLEtBQUt1VCx3QkFBd0IxRCxHQUUvQjdQLEtBQUs0UyxlQUFpQixLQUN0QjVTLEtBQUt5QyxVQUFZLElBQ25CLEVBV0YsU0FBUzBRLEVBQWN2USxFQUFXa1UsR0FDaENBLEVBQU05RixlQUFpQnBPLEVBQVVvTyxlQUNqQzhGLEVBQU01RixnQkFBa0J0TyxFQUFVc08sZ0JBQ2xDNEYsRUFBTUMsV0FBYW5VLEVBQVVtVSxXQUM3QkQsRUFBTS9GLGVBQWlCbk8sRUFBVW1PLGVBQ2pDK0YsRUFBTTFRLG9CQUFzQnhELEVBQVV3RCxvQkFDdEMwUSxFQUFNOUYsZUFBaUJwTyxFQUFVb08sZUFDakM4RixFQUFNRSxtQkFBcUJwVSxFQUFVb1UsbUJBQ3JDRixFQUFNRyxXQUFhclUsRUFBVXFVLFdBQzdCSCxFQUFNN0YsYUFBZXJPLEVBQVVxTyxZQUNqQyxDQWxCQTBCLEVBQWVwUixVQUFZLENBQ3pCbUMsS0FBTSxDQUNKLEtBQWNDLFdBQ2QsS0FBY0MsWUFDZCxLQUFjQyxhQUVoQnpHLEtBQU0sY0NuSVIsS0FBVzRFLElBQUkyUSxFLDZEQ0VmLE1BQU11RSxFQUNKLFdBQUExVSxDQUFZckIsR0FDVm5CLEtBQUttWCxTQUEyQnJYLE9BQU80TyxPQUFPLE1BQzlDMU8sS0FBSzRPLHdCQUEwQjVPLEtBQUs2TyxrQkFBa0JsRyxLQUFLM0ksTUFDM0RBLEtBQUt5QyxVQUFZdEIsRUFDakJuQixLQUFLeUMsVUFBVTJVLFFBQVFDLGlCQUFpQnJWLElBQUloQyxNQUM1Q0EsS0FBS3lDLFVBQVVzTSxhQUFhQyxlQUFlaFAsS0FBTSxXQUNuRCxDQUNBLGdCQUFBcVgsR0FDRSxJQUFLLE1BQU1uUixLQUFLbEcsS0FBS21YLFNBQVUsQ0FDN0IsTUFBTUcsRUFBVXRYLEtBQUttWCxTQUFTalIsR0FDOUIsSUFBS29SLEVBQ0gsU0FDRixNQUFNeFosRUFBT3daLEVBQVF6WixnQkFBZ0JzSSxXQUNqQ3JJLEVBQUt5WixrQkFDUHpaLEVBQUs0SixZQUFjMUgsS0FBS3lDLFVBQVU1RCxXQUNsQ2YsRUFBSzBaLGVBRVQsQ0FDRixDQUNBLGtCQUFBdkksQ0FBbUJuUixHQUNqQixNQUFNd1osRUFBVXRYLEtBQUt5WCxZQUFZM1osR0FDM0I0WixFQUFTNVosRUFBSzZaLFVBQ3BCLE9BQUlMLEVBQVFNLGFBQWVGLENBSTdCLENBQ0EsYUFBQXhILENBQWNwUyxFQUFNK0UsR0FDbEIsTUFDTWhGLEVBRFVtQyxLQUFLeVgsWUFBWTNaLEdBQ0RELGdCQUM1QkMsRUFBS2tWLGdCQUNQaFQsS0FBSzZYLFlBQVkvWixHQUVuQmtDLEtBQUt5QyxVQUFVSyxZQUFZQyxNQUFNdU4sV0FBV3pTLEVBQWlCZ0YsRUFDL0QsQ0FDQSxnQkFBQTBOLENBQWlCelMsR0FDZixNQUNNRCxFQURVbUMsS0FBS3lYLFlBQVkzWixHQUNERCxnQkFDNUJDLEVBQUtrVixnQkFDUGhULEtBQUs2WCxZQUFZL1osR0FFbkJELEVBQWdCbVMsU0FBU1EsY0FBYzNTLEVBQ3pDLENBQ0EsaUJBQUFnUixDQUFrQi9RLEdBQ2hCQSxFQUFLNlMsSUFBSSxZQUFhM1EsS0FBSzRPLHlCQUMzQjVPLEtBQUs4WCx1QkFBdUJoYSxFQUFLK1IsSUFDbkMsQ0FDQSxzQkFBQWlJLENBQXVCQyxHQUNyQixNQUFNVCxFQUFVdFgsS0FBS21YLFNBQVNZLEdBQzlCL1gsS0FBS3lDLFVBQVV1VixXQUFXQyx1QkFBdUJYLEVBQVFNLFlBQ3pELElBQVFsSCxPQUFPNEcsRUFBUXpaLGlCQUN2Qm1DLEtBQUttWCxTQUFTWSxHQUFXLElBQzNCLENBQ0EsV0FBQUYsQ0FBWS9aLEdBQ1YsTUFBTTRaLEVBQVM1WixFQUFLNlosVUFDZEwsRUFBVXRYLEtBQUt5WCxZQUFZM1osR0FDM0JELEVBQWtCeVosRUFBUXpaLGdCQUM1QnlaLEVBQVFNLGFBQWVGLEdBQ3pCMVgsS0FBS2tZLGVBQWVwYSxHQUV0QkEsRUFBS2tWLGdCQUFpQixHQUN0QixFQUFBcFYsRUFBQSxHQUFpQkMsRUFBaUJDLEVBQ3BDLENBQ0EsY0FBQW9hLENBQWVwYSxHQUNiLE1BQU13WixFQUFVdFgsS0FBS3lYLFlBQVkzWixHQUMzQkQsRUFBa0J5WixFQUFRelosZ0JBQzVCeVosRUFBUXZaLFNBQ1ZpQyxLQUFLeUMsVUFBVXVWLFdBQVdDLHVCQUF1QlgsRUFBUU0sWUFFM0ROLEVBQVF2WixRQUFVRixFQUFnQkUsUUFBVWlDLEtBQUt5QyxVQUFVdVYsV0FBV0csa0JBQWtCcmEsR0FDeEZ3WixFQUFRTSxXQUFhOVosRUFBSzZaLFVBQzFCOVosRUFBZ0JFLFFBQVV1WixFQUFRdlosT0FDcEMsQ0FDQSxXQUFBMFosQ0FBWTNaLEdBQ1YsT0FBT2tDLEtBQUttWCxTQUFTclosRUFBSytSLE1BQVE3UCxLQUFLMFYsWUFBWTVYLEVBQ3JELENBQ0EsV0FBQTRYLENBQVk1WCxHQUNWLE1BQU1zYSxFQUFjLENBQ2xCcmEsUUFBUyxLQUNUNlosV0FBWSxLQUNaL1osZ0JBQWlCLElBQVE0QyxJQUFJNFgsRUFBQSxJQVUvQixPQVJBRCxFQUFZdmEsZ0JBQWdCc0ksV0FBYXJJLEVBQ3pDc2EsRUFBWXZhLGdCQUFnQjBULFVBQVl6VCxFQUFLa1QsZUFDN0NvSCxFQUFZdmEsZ0JBQWdCRyxPQUFTLENBQUVJLEtBQU0sRUFBR0UsS0FBTSxFQUFHRCxLQUFNLEVBQUdFLEtBQU0sR0FDeEU2WixFQUFZdmEsZ0JBQWdCMlQsWUFBY3hSLEtBQUt5QyxVQUFVd08sYUFBZW5ULEVBQUttVCxhQUM3RWpSLEtBQUttWCxTQUFTclosRUFBSytSLEtBQU91SSxFQUMxQnRhLEVBQUs0SixZQUFjNUosRUFBS3laLGdCQUFrQnZYLEtBQUt5QyxVQUFVNUQsV0FBYWYsRUFBS2UsV0FDM0VtQixLQUFLNlgsWUFBWS9aLEdBQ2pCQSxFQUFLc1QsR0FBRyxZQUFhcFIsS0FBSzRPLHlCQUNuQndKLENBQ1QsQ0FDQSxPQUFBOVcsR0FDRSxJQUFLLE1BQU00RSxLQUFLbEcsS0FBS21YLFNBQ25CblgsS0FBSzhYLHVCQUF1QjVSLEdBRTlCbEcsS0FBS21YLFNBQVcsS0FDaEJuWCxLQUFLeUMsVUFBWSxJQUNuQixFQUdGeVUsRUFBZTNWLFVBQVksQ0FDekJtQyxLQUFNLENBQ0osS0FBY0MsV0FDZCxLQUFjQyxZQUNkLEtBQWNDLGFBRWhCekcsS0FBTSxRLHNEQy9HUixTQUFTa2IsRUFBU2hNLEVBQU0zTixFQUFPa0wsR0FDN0IsSUFBSyxJQUFJRCxFQUFJLEVBQUd5SyxFQUFRLEVBQUl4SyxFQUFJbEwsRUFBT2lMLEVBQUlqTCxJQUFTaUwsRUFBR3lLLEdBQVMsRUFDOUQsR0FBd0IsSUFBcEIvSCxFQUFLK0gsRUFBUSxHQUNmLE9BQU8sRUFFWCxPQUFPLENBQ1QsQ0FDQSxTQUFTa0UsRUFBWWpNLEVBQU0zTixFQUFPaUwsRUFBRzRPLEVBQUtDLEdBQ3hDLE1BQU1wVSxFQUFTLEVBQUkxRixFQUNuQixJQUFLLElBQUlrTCxFQUFJMk8sRUFBS25FLEVBQVFtRSxFQUFNblUsRUFBUyxFQUFJdUYsRUFBR0MsR0FBSzRPLElBQVU1TyxFQUFHd0ssR0FBU2hRLEVBQ3pFLEdBQXdCLElBQXBCaUksRUFBSytILEVBQVEsR0FDZixPQUFPLEVBRVgsT0FBTyxDQUNULEMsZ0VDSEEsTUFBTXFFLEVBQ0osV0FBQWxXLENBQVlDLEdBQ1Z6QyxLQUFLMlksZ0JBQWtCLENBQUMsRUFDeEIzWSxLQUFLeUMsVUFBWUEsQ0FDbkIsQ0FDQSxjQUFBbVcsQ0FBZTlhLEVBQU1lLEVBQVl1SyxHQUMvQixNQUFNeVAsRUFBV0MsRUFBQSxFQUFrQkMsWUFBWWpiLEdBQVEsSUFBS3NMLEdBQzVELElBQUl6SyxFQUFRNkksS0FBS1ksS0FBS1osS0FBS1ksS0FBS1osS0FBS3dSLElBQUksRUFBR0gsRUFBU2xhLE9BQXlCLEVBQWhCeUssRUFBTWxMLFNBQWVXLEdBQy9FRCxFQUFTNEksS0FBS1ksS0FBS1osS0FBS1ksS0FBS1osS0FBS3dSLElBQUksRUFBR0gsRUFBU2phLFFBQTBCLEVBQWhCd0ssRUFBTWxMLFNBQWVXLEdBS3JGLE9BSkFGLEVBQVE2SSxLQUFLWSxLQUFLekosRUFBUSxNQUMxQkMsRUFBUzRJLEtBQUtZLEtBQUt4SixFQUFTLE1BQzVCRCxHQUFRLFFBQVNBLEdBQ2pCQyxHQUFTLFFBQVNBLEdBQ1gsQ0FBRUQsUUFBT0MsU0FDbEIsQ0FDQSxVQUFBcWEsQ0FBV3BaLEVBQVNoQixFQUFZdUssRUFBTzhQLEdBQ2QsaUJBQVpyWixLQUNULEVBQUFzWixFQUFBLElBQVksUUFBUyxxRkFDckJ0WixFQUFVLENBQ1IvQixLQUFNK0IsRUFDTnVKLFFBQ0F2SyxlQUdFZ0IsRUFBUXVKLGlCQUFpQmdRLEVBQUEsSUFDN0J2WixFQUFRdUosTUFBUSxJQUFJZ1EsRUFBQSxFQUFVdlosRUFBUXVKLFFBRXhDLE1BQU0sUUFBRXJMLEVBQU8saUJBQUVzYixHQUFxQnJaLEtBQUtzWix1QkFDekN6WixHQUlGLE9BRkFHLEtBQUt5QyxVQUFVMUUsUUFBUXdiLFdBQVd4YixFQUFReU8sU0FDMUNnTixFQUFBLEVBQVdDLHVCQUF1QkosR0FDM0J0YixDQUNULENBQ0Esc0JBQUF1YixDQUF1QnpaLEdBQ3JCLE1BQU0sS0FBRS9CLEVBQUksTUFBRXNMLEdBQVV2SixFQUNsQmhCLEVBQWFnQixFQUFRaEIsWUFBY21CLEtBQUt5QyxVQUFVNUQsV0FDbERnYSxFQUFXQyxFQUFBLEVBQWtCQyxZQUFZamIsR0FBUSxJQUFLc0wsR0FDdER6SyxFQUFRNkksS0FBS1ksS0FBS1osS0FBS1ksS0FBS1osS0FBS3dSLElBQUksRUFBR0gsRUFBU2xhLE9BQXlCLEVBQWhCeUssRUFBTWxMLFNBQWVXLEdBQy9FRCxFQUFTNEksS0FBS1ksS0FBS1osS0FBS1ksS0FBS1osS0FBS3dSLElBQUksRUFBR0gsRUFBU2phLFFBQTBCLEVBQWhCd0ssRUFBTWxMLFNBQWVXLEdBQ2pGd2EsRUFBbUJHLEVBQUEsRUFBV0UsMkJBQTJCL2EsRUFBT0MsSUFDaEUsT0FBRSthLEdBQVdOLEVBQ25CclosS0FBSzRaLG1CQUFtQjliLEVBQU1zTCxFQUFPdkssRUFBWXdhLEdBQ2pELE1BQU10YixHQUFVLEVBQUFVLEVBQUEsR0FBd0JrYixFQUFRaGIsRUFBT0MsRUFBUUMsR0FDL0QsR0FBSXVLLEVBQU15USxLQUFNLENBQ2QsTUFBTUMsRUR6Q1osU0FBOEJILEVBQVE5YSxFQUFhLEdBQ2pELE1BQU0sTUFBRUYsRUFBSyxPQUFFQyxHQUFXK2EsRUFDcEJ2RyxFQUFVdUcsRUFBT0ksV0FBVyxLQUFNLENBQ3RDQyxvQkFBb0IsSUFFdEIsR0FBZ0IsT0FBWjVHLEVBQ0YsTUFBTSxJQUFJNkcsVUFBVSxtQ0FFdEIsTUFDTTNOLEVBRFk4RyxFQUFROEcsYUFBYSxFQUFHLEVBQUd2YixFQUFPQyxHQUM3QjBOLEtBQ3ZCLElBQUk2TixFQUFPLEVBQ1AzQixFQUFNLEVBQ040QixFQUFRemIsRUFBUSxFQUNoQjhaLEVBQVM3WixFQUFTLEVBQ3RCLEtBQU80WixFQUFNNVosR0FBVTBaLEVBQVNoTSxFQUFNM04sRUFBTzZaLE1BQ3pDQSxFQUNKLEdBQUlBLElBQVE1WixFQUNWLE9BQU95YixFQUFBLEVBQVV2UixNQUNuQixLQUFPd1AsRUFBU2hNLEVBQU0zTixFQUFPOFosTUFDekJBLEVBQ0osS0FBT0YsRUFBWWpNLEVBQU0zTixFQUFPd2IsRUFBTTNCLEVBQUtDLE1BQ3ZDMEIsRUFDSixLQUFPNUIsRUFBWWpNLEVBQU0zTixFQUFPeWIsRUFBTzVCLEVBQUtDLE1BQ3hDMkIsRUFHSixRQUZFQSxJQUNBM0IsRUFDSyxJQUFJNEIsRUFBQSxFQUFVRixFQUFPdGIsRUFBWTJaLEVBQU0zWixHQUFhdWIsRUFBUUQsR0FBUXRiLEdBQWE0WixFQUFTRCxHQUFPM1osRUFDMUcsQ0Njc0J5YixDQUFxQlgsRUFBUTlhLEdBQzdDZCxFQUFRb0IsTUFBTW9iLFNBQVNULEdBQ3ZCL2IsRUFBUXNCLFdBQ1YsQ0FDQSxNQUFPLENBQUV0QixVQUFTc2IsbUJBQ3BCLENBQ0EsaUJBQUFsQixDQUFrQnJhLEdBQ2hCQSxFQUFLNEosWUFBYzVKLEVBQUt5WixnQkFBa0J2WCxLQUFLeUMsVUFBVTVELFdBQWFmLEVBQUtlLFdBQzNFLE1BQU0yYixFQUFVMWMsRUFBSzZaLFVBQ3JCLEdBQUkzWCxLQUFLMlksZ0JBQWdCNkIsR0FFdkIsT0FEQXhhLEtBQUt5YSx3QkFBd0JELEdBQ3RCeGEsS0FBSzJZLGdCQUFnQjZCLEdBQVN6YyxRQUV2QyxNQUFNLFFBQUVBLEVBQU8saUJBQUVzYixHQUFxQnJaLEtBQUtzWix1QkFBdUJ4YixHQU1sRSxPQUxBa0MsS0FBSzJZLGdCQUFnQjZCLEdBQVcsQ0FDOUJuQixtQkFDQXRiLFVBQ0EyYyxXQUFZLEdBRVAzYyxDQUNULENBQ0EsdUJBQUEwYyxDQUF3QkQsR0FDdEJ4YSxLQUFLMlksZ0JBQWdCNkIsR0FBU0UsWUFDaEMsQ0FNQSxhQUFBcFIsQ0FBY3ZMLEdBQ1osTUFBTWdCLEVBQVNoQixFQUFRZ0IsT0FDdkJBLEVBQU9FLFNBQVcsS0FDbEJGLEVBQU9DLGVBQWlCLFVBQ3hCRCxFQUFPRyxVQUFZLHVCQUNuQndKLEVBQUEsRUFBWVksY0FBY3ZMLEVBQzVCLENBQ0Esc0JBQUFrYSxDQUF1QnVDLEdBQ3JCLE1BQU1HLEVBQWdCM2EsS0FBSzJZLGdCQUFnQjZCLEdBQzNDRyxFQUFjRCxhQUNtQixJQUE3QkMsRUFBY0QsYUFDaEJsQixFQUFBLEVBQVdDLHVCQUF1QmtCLEVBQWN0QixrQkFDaERyWixLQUFLc0osY0FBY3FSLEVBQWM1YyxTQUNqQ2lDLEtBQUsyWSxnQkFBZ0I2QixHQUFXLEtBRXBDLENBQ0EsaUJBQUFJLENBQWtCSixHQUNoQixPQUFPeGEsS0FBSzJZLGdCQUFnQjZCLEdBQVNFLFVBQ3ZDLENBWUEsa0JBQUFkLENBQW1COWIsRUFBTXNMLEVBQU92SyxFQUFZd2EsR0FDMUMsTUFBTSxPQUFFTSxFQUFNLFFBQUV2RyxHQUFZaUcsRUFDdEJ3QixHQUFPLEVBQUFDLEVBQUEsR0FBd0IxUixHQUMvQnlQLEVBQVdDLEVBQUEsRUFBa0JDLFlBQVlqYixHQUFRLElBQUtzTCxHQUN0RDRMLEVBQVE2RCxFQUFTN0QsTUFDakJTLEVBQWFvRCxFQUFTcEQsV0FDdEJzRixFQUFhbEMsRUFBU2tDLFdBQ3RCQyxFQUFlbkMsRUFBU21DLGFBQ3hCQyxFQUFpQnBDLEVBQVNvQyxlQUMxQnJjLEVBQVMrYSxFQUFPL2EsT0FJdEIsR0FIQXdVLEVBQVE4SCxpQkFDUjlILEVBQVFqTCxNQUFNdEosRUFBWUEsR0FDMUJ1VSxFQUFRK0gsYUFBZS9SLEVBQU0rUixhQUN6Qi9SLEVBQU1xTCxTQUFTOVYsTUFBTyxDQUN4QixNQUFNeWMsRUFBY2hTLEVBQU1xTCxRQUMxQnJCLEVBQVFpSSxVQUFZRCxFQUFZemMsTUFDaEN5VSxFQUFRa0ksV0FBYUYsRUFBWUUsV0FDakNsSSxFQUFRbUksU0FBV0gsRUFBWUksS0FDL0JwSSxFQUFRcUksUUFBVUwsRUFBWU0sR0FDaEMsQ0FFQSxJQUFJQyxFQUNBQyxFQUZKeEksRUFBUXlILEtBQU9BLEVBR2YsTUFBTWdCLEVBQWN6UyxFQUFNMFMsV0FBYSxFQUFJLEVBQzNDLElBQUssSUFBSTVWLEVBQUksRUFBR0EsRUFBSTJWLElBQWUzVixFQUFHLENBQ3BDLE1BQU02VixFQUFlM1MsRUFBTTBTLFlBQW9CLElBQU41VixFQUNuQzhWLEVBQWVELEVBQWV2VSxLQUFLWSxLQUFLWixLQUFLd1IsSUFBSSxFQUFHcGEsR0FBMEIsRUFBaEJ3SyxFQUFNbEwsU0FBZSxFQUNuRitkLEVBQWlCRCxFQUFlbmQsRUFDdEMsR0FBSWtkLEVBQWMsQ0FDaEIzSSxFQUFROEksVUFBWSxRQUNwQjlJLEVBQVFnSSxZQUFjLFFBQ3RCLE1BQU1lLEVBQWdCL1MsRUFBTTBTLFdBQ3RCTSxFQUFrQkQsRUFBY3BILE1BQ2hDc0gsRUFBa0JGLEVBQWN6YyxNQUN0QzBULEVBQVFrSixZQUFjQyxFQUFBLEVBQU1sYSxPQUFPbWEsU0FBU0osR0FBaUJLLFNBQVNKLEdBQWlCSyxlQUN2RixNQUFNQyxFQUFpQlIsRUFBY1MsS0FBTy9kLEVBQ3RDZ2UsRUFBcUJWLEVBQWN2RixTQUFXL1gsRUFDcER1VSxFQUFRMEosV0FBYUgsRUFDckJ2SixFQUFRMkosY0FBZ0J2VixLQUFLd1YsSUFBSWIsRUFBY2MsT0FBU0osRUFDeER6SixFQUFROEosY0FBZ0IxVixLQUFLMlYsSUFBSWhCLEVBQWNjLE9BQVNKLEVBQXFCWixDQUMvRSxLQUFPLENBRUwsR0FEQTdJLEVBQVE4SSxVQUFZOVMsRUFBTTBMLE9BQVEsRUFBQXNJLEVBQUEsR0FBbUJoVSxFQUFNMEwsTUFBTzFCLEVBQVN5RixHQUFZLEtBQ25GelAsRUFBTXFMLFNBQVM5VixNQUFPLENBQ3hCLE1BQU1ULEVBQVVrTCxFQUFNcUwsUUFBUTlWLE1BQVF5SyxFQUFNcUwsUUFBUTRJLFVBQ3BEakssRUFBUWdJLGFBQWMsRUFBQWdDLEVBQUEsR0FBbUJoVSxFQUFNcUwsUUFBU3JCLEVBQVN5RixFQUFVM2EsRUFDN0UsQ0FDQWtWLEVBQVFrSixZQUFjLE9BQ3hCLENBQ0EsSUFBSWdCLEdBQXNCN0gsRUFBYXdGLEVBQWV0RSxVQUFZLEVBQzlEbEIsRUFBYXdGLEVBQWV0RSxTQUFXLElBQ3pDMkcsRUFBcUIsR0FFdkIsTUFBTUMsRUFBY25VLEVBQU1xTCxTQUFTOVYsT0FBUyxFQUM1QyxJQUFLLElBQUk2ZSxFQUFLLEVBQUdBLEVBQUt4SSxFQUFNcFAsT0FBUTRYLElBQ2xDN0IsRUFBZ0I0QixFQUFjLEVBQzlCM0IsRUFBZ0IyQixFQUFjLEVBQUlDLEVBQUsvSCxFQUFhd0YsRUFBZXdDLE9BQVNILEVBQ3hELFVBQWhCbFUsRUFBTXNVLE1BQ1IvQixHQUFpQlgsRUFBZUQsRUFBV3lDLEdBQ2xCLFdBQWhCcFUsRUFBTXNVLFFBQ2YvQixJQUFrQlgsRUFBZUQsRUFBV3lDLElBQU8sR0FFakRwVSxFQUFNcUwsU0FBUzlWLE9BQ2pCcUIsS0FBSzJkLG1CQUNIM0ksRUFBTXdJLEdBQ05wVSxFQUNBaVEsRUFDQXNDLEVBQWdCdlMsRUFBTWxMLFFBQ3RCMGQsRUFBZ0J4UyxFQUFNbEwsUUFBVThkLEdBQ2hDLFFBR2dCLElBQWhCNVMsRUFBTTBMLE9BQ1I5VSxLQUFLMmQsbUJBQ0gzSSxFQUFNd0ksR0FDTnBVLEVBQ0FpUSxFQUNBc0MsRUFBZ0J2UyxFQUFNbEwsUUFDdEIwZCxFQUFnQnhTLEVBQU1sTCxRQUFVOGQsRUFJeEMsQ0FDRixDQVdBLGtCQUFBMkIsQ0FBbUI3ZixFQUFNc0wsRUFBT2lRLEVBQWtCelAsRUFBR0MsRUFBRytULEdBQVcsR0FDakUsTUFBTSxRQUFFeEssR0FBWWlHLEVBQ2R3RSxFQUFnQnpVLEVBQU15VSxjQUM1QixJQUFJQyxHQUErQixFQVduQyxHQVZJaEYsRUFBQSxFQUFrQmlGLHFDQUNoQmpGLEVBQUEsRUFBa0JrRiwyQkFDcEI1SyxFQUFReUssY0FBZ0IsR0FBR0EsTUFDM0J6SyxFQUFRNkssa0JBQW9CLEdBQUdKLE1BQy9CQyxHQUErQixJQUUvQjFLLEVBQVF5SyxjQUFnQixNQUN4QnpLLEVBQVE2SyxrQkFBb0IsUUFHVixJQUFsQkosR0FBdUJDLEVBTXpCLFlBTElGLEVBQ0Z4SyxFQUFROEssV0FBV3BnQixFQUFNOEwsRUFBR0MsR0FFNUJ1SixFQUFRK0ssU0FBU3JnQixFQUFNOEwsRUFBR0MsSUFJOUIsSUFBSXVVLEVBQWtCeFUsRUFDdEIsTUFBTXlVLEVBQWN2RixFQUFBLEVBQWtCd0Ysa0JBQWtCeGdCLEdBQ3hELElBQUl5Z0IsRUFBZ0JuTCxFQUFRMkYsWUFBWWpiLEdBQU1hLE1BQzFDNmYsRUFBZSxFQUNuQixJQUFLLElBQUl0WSxFQUFJLEVBQUdBLEVBQUltWSxFQUFZelksU0FBVU0sRUFBRyxDQUMzQyxNQUFNdVksRUFBY0osRUFBWW5ZLEdBQzVCMFgsRUFDRnhLLEVBQVE4SyxXQUFXTyxFQUFhTCxFQUFpQnZVLEdBRWpEdUosRUFBUStLLFNBQVNNLEVBQWFMLEVBQWlCdlUsR0FFakQsSUFBSTZVLEVBQVUsR0FDZCxJQUFLLElBQUl4SixFQUFJaFAsRUFBSSxFQUFHZ1AsRUFBSW1KLEVBQVl6WSxTQUFVc1AsRUFDNUN3SixHQUFXTCxFQUFZbkosR0FFekJzSixFQUFlcEwsRUFBUTJGLFlBQVkyRixHQUFTL2YsTUFDNUN5ZixHQUFtQkcsRUFBZ0JDLEVBQWVYLEVBQ2xEVSxFQUFnQkMsQ0FDbEIsQ0FDRixDQUNBLE9BQUFsZCxHQUNFdEIsS0FBSzJZLGdCQUFrQixJQUN6QixFQUdGRCxFQUFpQm5YLFVBQVksQ0FDM0JtQyxLQUFNLENBQ0osS0FBY3FKLFlBQ2QsS0FBY0MsYUFDZCxLQUFjMlIsY0FFaEJ2aEIsS0FBTSxjQ25RUixLQUFXNEUsSUFBSTBXLEdBQ2YsS0FBVzFXLElBQUlrVixFLHVFQ0ZmLE1BQU0wSCxFQUFpQixNQUFNQSxVQUF1QjNRLEVBQUEsRUFDbEQsV0FBQXpMLElBQWUwSyxHQUNiTyxNQUFNLENBQUMsR0FDUCxJQUFJNU4sRUFBVXFOLEVBQUssSUFBTSxDQUFDLEVBQ0gsaUJBQVpyTixLQUNULEVBQUFzWixFQUFBLElBQVksS0FBUSxnR0FDcEJ0WixFQUFVLENBQ1JsQixNQUFPa0IsRUFDUGpCLE9BQVFzTyxFQUFLLEdBQ2IyUixVQUFXM1IsRUFBSyxHQUNoQjRSLFVBQVc1UixFQUFLLEtBR3BCbE4sS0FBSytlLE1BQU1sZixFQUNiLENBS0EsS0FBQWtmLENBQU1sZixHQUNKQSxFQUFVLElBQUsrZSxFQUFldFIsa0JBQW1Cek4sR0FDakRHLEtBQUs2ZSxVQUFZN2UsS0FBSzZlLFdBQWFoZixFQUFRZ2YsVUFDM0M3ZSxLQUFLOGUsVUFBWTllLEtBQUs4ZSxXQUFhamYsRUFBUWlmLFVBQzNDOWUsS0FBS3JCLE1BQVFxQixLQUFLckIsT0FBU2tCLEVBQVFsQixNQUNuQ3FCLEtBQUtwQixPQUFTb0IsS0FBS3BCLFFBQVVpQixFQUFRakIsT0FDckMsTUFBTW9nQixFQUFRaGYsS0FBSzZlLFVBQVk3ZSxLQUFLOGUsVUFDOUJHLEVBQVEsR0FDUjdSLEVBQU0sR0FDTkMsRUFBVSxHQUNWd1IsRUFBWTdlLEtBQUs2ZSxVQUFZLEVBQzdCQyxFQUFZOWUsS0FBSzhlLFVBQVksRUFDN0JJLEVBQVFsZixLQUFLckIsTUFBUWtnQixFQUNyQk0sRUFBUW5mLEtBQUtwQixPQUFTa2dCLEVBQzVCLElBQUssSUFBSTVZLEVBQUksRUFBR0EsRUFBSThZLEVBQU85WSxJQUFLLENBQzlCLE1BQU0wRCxFQUFJMUQsRUFBSWxHLEtBQUs2ZSxVQUNiaFYsRUFBSTNELEVBQUlsRyxLQUFLNmUsVUFBWSxFQUMvQkksRUFBTXZjLEtBQUtrSCxFQUFJc1YsRUFBT3JWLEVBQUlzVixHQUMxQi9SLEVBQUkxSyxLQUFLa0gsRUFBSWlWLEVBQVdoVixFQUFJaVYsRUFDOUIsQ0FDQSxNQUFNTSxFQUFXUCxFQUFZQyxFQUM3QixJQUFLLElBQUk1WSxFQUFJLEVBQUdBLEVBQUlrWixFQUFVbFosSUFBSyxDQUNqQyxNQUFNbVosRUFBT25aLEVBQUkyWSxFQUNYUyxFQUFPcFosRUFBSTJZLEVBQVksRUFDdkIvWixFQUFRd2EsRUFBT3RmLEtBQUs2ZSxVQUFZUSxFQUNoQ0UsRUFBU0QsRUFBT3RmLEtBQUs2ZSxVQUFZUSxFQUFPLEVBQ3hDRyxHQUFVRixFQUFPLEdBQUt0ZixLQUFLNmUsVUFBWVEsRUFDdkNJLEdBQVVILEVBQU8sR0FBS3RmLEtBQUs2ZSxVQUFZUSxFQUFPLEVBQ3BEaFMsRUFBUTNLLEtBQ05vQyxFQUNBeWEsRUFDQUMsRUFDQUQsRUFDQUUsRUFDQUQsRUFFSixDQUNBeGYsS0FBSzBmLFFBQVEsR0FBR3BULEtBQU8sSUFBSW5JLGFBQWE4YSxHQUN4Q2pmLEtBQUswZixRQUFRLEdBQUdwVCxLQUFPLElBQUluSSxhQUFhaUosR0FDeENwTixLQUFLc0UsWUFBWWdJLEtBQU8sSUFBSS9ILFlBQVk4SSxHQUN4Q3JOLEtBQUswZixRQUFRLEdBQUdyVSxTQUNoQnJMLEtBQUswZixRQUFRLEdBQUdyVSxTQUNoQnJMLEtBQUtzRSxZQUFZK0csUUFDbkIsR0FFRnVULEVBQWV0UixlQUFpQixDQUM5QjNPLE1BQU8sSUFDUEMsT0FBUSxJQUNSaWdCLFVBQVcsR0FDWEMsVUFBVyxJQUViLElBQUlhLEVBQWdCZixFQ3ZFcEIsTUFBTWdCLEVBQXFCLE1BQU1BLFVBQTJCRCxFQUMxRCxXQUFBbmQsQ0FBWTNDLEVBQVUsQ0FBQyxHQUVyQjROLE1BQU0sQ0FDSjlPLE9BRkZrQixFQUFVLElBQUsrZixFQUFtQnRTLGtCQUFtQnpOLElBRXBDbEIsTUFDZkMsT0FBUWlCLEVBQVFqQixPQUNoQmlnQixVQUFXLEVBQ1hDLFVBQVcsSUFFYjllLEtBQUtxTCxPQUFPeEwsRUFDZCxDQUtBLE1BQUF3TCxDQUFPeEwsR0FDTEcsS0FBS3JCLE1BQVFrQixFQUFRbEIsT0FBU3FCLEtBQUtyQixNQUNuQ3FCLEtBQUtwQixPQUFTaUIsRUFBUWpCLFFBQVVvQixLQUFLcEIsT0FDckNvQixLQUFLNmYsZUFBaUJoZ0IsRUFBUWlnQixlQUFpQjlmLEtBQUs2ZixlQUNwRDdmLEtBQUsrZixnQkFBa0JsZ0IsRUFBUW1nQixnQkFBa0JoZ0IsS0FBSytmLGdCQUN0RC9mLEtBQUtpZ0IsV0FBYXBnQixFQUFRcWdCLFdBQWFsZ0IsS0FBS2lnQixXQUM1Q2pnQixLQUFLbWdCLFlBQWN0Z0IsRUFBUXVnQixZQUFjcGdCLEtBQUttZ0IsWUFDOUNuZ0IsS0FBS3FnQixXQUFheGdCLEVBQVF5Z0IsV0FBYXRnQixLQUFLcWdCLFdBQzVDcmdCLEtBQUt1Z0IsY0FBZ0IxZ0IsRUFBUTJnQixjQUFnQnhnQixLQUFLdWdCLGNBQ2xEdmdCLEtBQUt5Z0IsU0FBVzVnQixFQUFRaU4sUUFBUWxELEVBQ2hDNUosS0FBSzBnQixTQUFXN2dCLEVBQVFpTixRQUFRakQsRUFDaEM3SixLQUFLWCxZQUNMVyxLQUFLMmdCLGlCQUNQLENBRUEsZUFBQUEsR0FDRSxNQUFNQyxFQUFJNWdCLEtBQUttTixXQUNULE1BQ0p4TyxFQUFLLE9BQ0xDLEVBQU0sV0FDTnFoQixFQUFVLFlBQ1ZFLEVBQVcsV0FDWEUsRUFBVSxjQUNWRSxFQUFhLFNBQ2JFLEVBQVEsU0FDUkMsR0FDRTFnQixLQUNFNmdCLEVBQUlaLEVBQWFFLEVBQ2pCVyxFQUFTbmlCLEVBQVFraUIsRUFBSSxFQUFJbGlCLEVBQVFraUIsRUFDakNFLEVBQUlWLEVBQWFFLEVBQ2pCUyxFQUFTcGlCLEVBQVNtaUIsRUFBSSxFQUFJbmlCLEVBQVNtaUIsRUFDbkM1WSxFQUFRWCxLQUFLQyxJQUFJcVosRUFBUUUsR0FDekJDLEVBQWdCUixFQUFXOWhCLEVBQzNCdWlCLEVBQWdCUixFQUFXOWhCLEVBQ2pDZ2lCLEVBQUUsR0FBS0EsRUFBRSxHQUFLQSxFQUFFLElBQU1BLEVBQUUsS0FBT0ssRUFDL0JMLEVBQUUsR0FBS0EsRUFBRSxJQUFNQSxFQUFFLElBQU1BLEVBQUUsSUFBTVgsRUFBYTlYLEVBQVE4WSxFQUNwREwsRUFBRSxHQUFLQSxFQUFFLElBQU1BLEVBQUUsSUFBTUEsRUFBRSxJQUFNamlCLEVBQVF3aEIsRUFBY2hZLEVBQVE4WSxFQUM3REwsRUFBRSxHQUFLQSxFQUFFLElBQU1BLEVBQUUsSUFBTUEsRUFBRSxJQUFNamlCLEVBQVFzaUIsRUFDdkNMLEVBQUUsR0FBS0EsRUFBRSxHQUFLQSxFQUFFLEdBQUtBLEVBQUUsSUFBTU0sRUFDN0JOLEVBQUUsR0FBS0EsRUFBRSxJQUFNQSxFQUFFLElBQU1BLEVBQUUsSUFBTVAsRUFBYWxZLEVBQVErWSxFQUNwRE4sRUFBRSxJQUFNQSxFQUFFLElBQU1BLEVBQUUsSUFBTUEsRUFBRSxJQUFNaGlCLEVBQVMyaEIsRUFBZ0JwWSxFQUFRK1ksRUFDakVOLEVBQUUsSUFBTUEsRUFBRSxJQUFNQSxFQUFFLElBQU1BLEVBQUUsSUFBTWhpQixFQUFTc2lCLEVBQ3pDbGhCLEtBQUttaEIsVUFBVSxhQUFhOVYsUUFDOUIsQ0FFQSxTQUFBaE0sR0FDRSxNQUFNK04sRUFBTXBOLEtBQUtvTixJQUNqQkEsRUFBSSxHQUFLQSxFQUFJLEdBQUtBLEVBQUksSUFBTUEsRUFBSSxJQUFNLEVBQ3RDQSxFQUFJLEdBQUtBLEVBQUksR0FBS0EsRUFBSSxHQUFLQSxFQUFJLEdBQUssRUFDcENBLEVBQUksR0FBS0EsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTSxFQUN2Q0EsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNLEVBQ3hDLE1BQU1nVSxFQUFPLEVBQUlwaEIsS0FBSzZmLGVBQ2hCd0IsRUFBTyxFQUFJcmhCLEtBQUsrZixnQkFDdEIzUyxFQUFJLEdBQUtBLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU1nVSxFQUFPcGhCLEtBQUtpZ0IsV0FDbkQ3UyxFQUFJLEdBQUtBLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU1pVSxFQUFPcmhCLEtBQUtxZ0IsV0FDbkRqVCxFQUFJLEdBQUtBLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU0sRUFBSWdVLEVBQU9waEIsS0FBS21nQixZQUN2RC9TLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTSxFQUFJaVUsRUFBT3JoQixLQUFLdWdCLGNBQ3hEdmdCLEtBQUttaEIsVUFBVSxPQUFPOVYsUUFDeEIsR0FHRnVVLEVBQW1CdFMsZUFBaUIsQ0FFbEMzTyxNQUFPLElBRVBDLE9BQVEsSUFFUnNoQixVQUFXLEdBRVhJLFVBQVcsR0FFWEYsV0FBWSxHQUVaSSxhQUFjLEdBRWRWLGNBQWUsSUFFZkUsZUFBZ0IsS0FFbEIsSUFBSXNCLEVBQW9CMUIsRUMzRnhCLE1BQU0yQixFQUNKLFdBQUEvZSxDQUFZckIsR0FDVm5CLEtBQUt3aEIsZUFBaUMxaEIsT0FBTzRPLE9BQU8sTUFDcEQxTyxLQUFLNE8sd0JBQTBCNU8sS0FBSzZPLGtCQUFrQmxHLEtBQUszSSxNQUMzREEsS0FBS3lDLFVBQVl0QixFQUNqQm5CLEtBQUt5QyxVQUFVc00sYUFBYUMsZUFBZWhQLEtBQU0saUJBQ25ELENBQ0EsYUFBQWtRLENBQWM3RCxFQUFReEosR0FDcEIsTUFBTTRlLEVBQVl6aEIsS0FBSzBoQixjQUFjclYsR0FDakNBLEVBQU9zVixlQUNUM2hCLEtBQUs0aEIsdUJBQXVCdlYsRUFBUW9WLEdBQ3RDemhCLEtBQUt5QyxVQUFVSyxZQUFZQyxNQUFNdU4sV0FBV21SLEVBQVc1ZSxFQUN6RCxDQUNBLGdCQUFBME4sQ0FBaUJsRSxHQUNmLE1BQU1vVixFQUFZemhCLEtBQUt3aEIsZUFBZW5WLEVBQU93RCxLQUN6Q3hELEVBQU9zVixlQUNUM2hCLEtBQUs0aEIsdUJBQXVCdlYsRUFBUW9WLEdBQ3RDQSxFQUFVelIsU0FBU1EsY0FBY2lSLEVBQ25DLENBQ0Esa0JBQUF4UyxDQUFtQjVDLEdBQ2pCLE1BQU1vVixFQUFZemhCLEtBQUswaEIsY0FBY3JWLEdBQ3JDLE9BQVFvVixFQUFVelIsU0FBU0Msc0JBQ3pCd1IsRUFDQXBWLEVBQU95RCxTQUVYLENBQ0EsaUJBQUFqQixDQUFrQnhDLEdBQ2hCLE1BQU1zRCxFQUFnQjNQLEtBQUt3aEIsZUFBZW5WLEVBQU93RCxLQUNqRCxJQUFRYSxPQUFPZixFQUFjL0QsVUFDN0IsSUFBUThFLE9BQU9mLEdBQ2YzUCxLQUFLd2hCLGVBQWVuVixFQUFPd0QsS0FBTyxLQUNsQ3hELEVBQU9zRSxJQUFJLFlBQWEzUSxLQUFLNE8sd0JBQy9CLENBQ0Esc0JBQUFnVCxDQUF1QnZWLEVBQVF4TyxHQUM3QkEsRUFBZ0IrTixTQUFTUCxPQUFPZ0IsR0FDaEN4TyxFQUFnQndTLFdBQVdoRSxFQUFPeUQsU0FDcEMsQ0FDQSxhQUFBNFIsQ0FBY3JWLEdBQ1osT0FBT3JNLEtBQUt3aEIsZUFBZW5WLEVBQU93RCxNQUFRN1AsS0FBSzZoQixlQUFleFYsRUFDaEUsQ0FDQSxjQUFBd1YsQ0FBZXhWLEdBQ2IsTUFBTXNELEVBQWdCLElBQVFsUCxJQUFJNlEsRUFBQSxHQVdsQyxPQVZBM0IsRUFBYy9ELFNBQVcsSUFBUW5MLElBQUk2Z0IsR0FDckMzUixFQUFjeEosV0FBYWtHLEVBQzNCc0QsRUFBYzRCLFVBQVlsRixFQUFPMkUsZUFDakNyQixFQUFjNVIsUUFBVXNPLEVBQU95RCxTQUMvQkgsRUFBYzZCLFlBQWN4UixLQUFLeUMsVUFBVXdPLGFBQWU1RSxFQUFPNEUsYUFDakVqUixLQUFLd2hCLGVBQWVuVixFQUFPd0QsS0FBT0YsRUFDN0J0RCxFQUFPc1YsZUFDVjNoQixLQUFLNGhCLHVCQUF1QnZWLEVBQVFzRCxHQUV0Q3RELEVBQU8rRSxHQUFHLFlBQWFwUixLQUFLNE8seUJBQ3JCZSxDQUNULENBQ0EsT0FBQXJPLEdBQ0UsSUFBSyxNQUFNNEUsS0FBS2xHLEtBQUt3aEIsZUFDR3hoQixLQUFLd2hCLGVBQWV0YixHQUM1QjBGLFNBQVN0SyxVQUV6QnRCLEtBQUt3aEIsZUFBaUIsS0FDdEJ4aEIsS0FBS3lDLFVBQVksSUFDbkIsRUFHRjhlLEVBQW9CaGdCLFVBQVksQ0FDOUJtQyxLQUFNLENBQ0osS0FBY0MsV0FDZCxLQUFjQyxZQUNkLEtBQWNDLGFBRWhCekcsS0FBTSxtQkN4RVIsS0FBVzRFLElBQUl1ZixFLGtDQ0hmLE1BQU1PLEVBQWUsQ0FDbkJDLE9BQVEsRUFDUi9mLElBQUssRUFDTGdnQixTQUFVLEVBQ1ZDLE9BQVEsRUFDUkMsUUFBUyxFQUNUQyxNQUFPLEVBQ1AsYUFBYyxFQUNkLFVBQVcsRUFDWCxhQUFjLEVBQ2QxYSxJQUFLLEVBQ0x1UixJQUFLLElBUURvSixFQUFTLE1BQU1BLEVBQ25CLFdBQUE1ZixHQUNFeEMsS0FBS3NNLEtBQU8sRUFDWnRNLEtBQUs2USxVQUFZLFNBQ2pCN1EsS0FBS3FpQixjQUFnQixFQUNyQnJpQixLQUFLc2lCLE9BQVEsRUFDYnRpQixLQUFLdWlCLFdBQVksQ0FDbkIsQ0FLQSxTQUFJRCxHQUNGLFNBQXNCLEVBQVp0aUIsS0FBS3NNLEtBQ2pCLENBQ0EsU0FBSWdXLENBQU14ZCxNQUNXLEVBQVo5RSxLQUFLc00sUUFBdUJ4SCxJQUNqQzlFLEtBQUtzTSxNQUFRLEVBRWpCLENBS0EsV0FBSWtXLEdBQ0YsU0FBc0IsRUFBWnhpQixLQUFLc00sS0FDakIsQ0FDQSxXQUFJa1csQ0FBUTFkLE1BQ1MsRUFBWjlFLEtBQUtzTSxRQUF3QnhILElBQ2xDOUUsS0FBS3NNLE1BQVEsRUFFakIsQ0FFQSxZQUFJbVcsQ0FBUzNkLEdBQ0csU0FBVkEsR0FJSjlFLEtBQUswaUIsU0FBVSxFQUNmMWlCLEtBQUsyaUIsbUJBQStCLFVBQVY3ZCxHQUp4QjlFLEtBQUswaUIsU0FBVSxDQUtuQixDQUNBLFlBQUlELEdBQ0YsT0FBS3ppQixLQUFLMGlCLFFBR0gxaUIsS0FBSzJpQixtQkFBcUIsUUFBVSxPQUZsQyxNQUdYLENBS0EsV0FBSUQsR0FDRixTQUFzQixFQUFaMWlCLEtBQUtzTSxLQUNqQixDQUNBLFdBQUlvVyxDQUFRNWQsTUFDUyxFQUFaOUUsS0FBS3NNLFFBQXlCeEgsSUFDbkM5RSxLQUFLc00sTUFBUSxFQUVqQixDQUtBLGFBQUlzVyxHQUNGLFNBQXNCLEVBQVo1aUIsS0FBS3NNLEtBQ2pCLENBQ0EsYUFBSXNXLENBQVU5ZCxNQUNPLEVBQVo5RSxLQUFLc00sUUFBNEJ4SCxJQUN0QzlFLEtBQUtzTSxNQUFRLEVBRWpCLENBS0EsYUFBSWlXLEdBQ0YsU0FBc0IsR0FBWnZpQixLQUFLc00sS0FDakIsQ0FDQSxhQUFJaVcsQ0FBVXpkLE1BQ08sR0FBWjlFLEtBQUtzTSxRQUE0QnhILElBQ3RDOUUsS0FBS3NNLE1BQVEsR0FFakIsQ0FLQSxzQkFBSXFXLEdBQ0YsU0FBc0IsR0FBWjNpQixLQUFLc00sS0FDakIsQ0FDQSxzQkFBSXFXLENBQW1CN2QsTUFDRixHQUFaOUUsS0FBS3NNLFFBQXlCeEgsSUFDbkM5RSxLQUFLc00sTUFBUSxHQUVqQixDQU1BLGFBQUl1RSxHQUNGLE9BQU83USxLQUFLNmlCLFVBQ2QsQ0FDQSxhQUFJaFMsQ0FBVS9MLEdBQ1o5RSxLQUFLc2lCLE1BQWtCLFNBQVZ4ZCxFQUNiOUUsS0FBSzZpQixXQUFhL2QsRUFDbEI5RSxLQUFLOGlCLGFBQWVoQixFQUFhaGQsSUFBVSxDQUM3QyxDQUtBLGlCQUFJdWQsR0FDRixPQUFPcmlCLEtBQUsraUIsY0FDZCxDQUNBLGlCQUFJVixDQUFjdmQsR0FDaEI5RSxLQUFLd2lCLFVBQVkxZCxFQUNqQjlFLEtBQUsraUIsZUFBaUJqZSxDQUN4QixDQUNBLFFBQUFrZSxHQUNFLE1BQU8saUNBQWlDaGpCLEtBQUs2USxnQ0FBZ0M3USxLQUFLMmlCLDhCQUE4QjNpQixLQUFLMGlCLHFCQUFxQjFpQixLQUFLdWlCLDJCQUEyQnZpQixLQUFLcWlCLGdCQUNqTCxDQUtBLFlBQU9ZLEdBQ0wsTUFBTW5YLEVBQVEsSUFBSXNXLEVBR2xCLE9BRkF0VyxFQUFNOFcsV0FBWSxFQUNsQjlXLEVBQU13VyxPQUFRLEVBQ1B4VyxDQUNULEdBRUZzVyxFQUFPYyxVQUFZZCxFQUFPYSxRQUMxQixJQUFJRSxFQUFRZixDLGtDQ3pKWixNQUFNL0osRUFDSixXQUFBN1YsR0FDRXhDLEtBQUtvakIsWUFBYyxVQUNuQnBqQixLQUFLZ00sU0FBVyxnQkFFaEJoTSxLQUFLcWpCLGNBQWdCLEVBQ3JCcmpCLEtBQUt5UCxVQUFZLEVBQ2pCelAsS0FBS3NqQixZQUFhLEVBQ2xCdGpCLEtBQUt3UixZQUFjLEVBQ25CeFIsS0FBS3VqQixnQkFBa0IsRUFFdkJ2akIsS0FBS2dRLFNBQVcsS0FDaEJoUSxLQUFLd2pCLE9BQVMsSUFDaEIsQ0FDQSxhQUFJM1MsR0FDRixPQUFPN1EsS0FBS21HLFdBQVc0SyxjQUN6QixDQUNBLFNBQUlnRSxHQUNGLE9BQU8vVSxLQUFLbUcsV0FBVytLLGVBQ3pCLENBQ0EsS0FBQXVTLEdBQ0V6akIsS0FBS21HLFdBQWEsS0FDbEJuRyxLQUFLakMsUUFBVSxLQUNmaUMsS0FBS2dRLFNBQVcsS0FDaEJoUSxLQUFLd2pCLE9BQVMsS0FDZHhqQixLQUFLaEMsT0FBUyxJQUNoQixFLGlLQzFCRixNQUFNMGxCLEVBQVksQ0FDaEJ0bUIsS0FBTSxhQUNOQyxPQUFRLENBQ05DLE9BRUUsZ2VBY0ZDLEtBRUUsNkxBT0ptVSxTQUFVLENBQ1JwVSxPQUVFLGdlQWNGQyxLQUVFLGtoQkFtQkFvbUIsRUFBYyxDQUNsQnZtQixLQUFNLGFBQ05DLE9BQVEsQ0FDTkMsT0FFRSwyR0FNRkMsS0FFRSxpSkFPSm1VLFNBQVUsQ0FDUnBVLE9BRUUsMEtBT0ZDLEtBRUUsbVdDekZOLElBQUl1VSxFQUNBQyxFQUNKLE1BQU02UixVQUEyQjNSLEVBQUEsRUFDL0IsV0FBQXpQLEdBQ0VzUCxJQUFlQSxHQUFhLE9BQTRCLENBQ3REMVUsS0FBTSx1QkFDTmdWLEtBQU0sQ0FDSmpWLEVBQUEsR0FDQXVtQixFQUNBblIsRUFBQSxNQUdKUixJQUFjQSxHQUFZLE9BQTJCLENBQ25EM1UsS0FBTSx1QkFDTmdWLEtBQU0sQ0FDSmpWLEVBQUEsR0FDQXdtQixFQUNBcFIsRUFBQSxNQUdKLE1BQU1zUixFQUFpQixJQUFJamYsRUFBQSxFQUFhLENBQ3RDa2YsVUFBVyxDQUFFaGYsTUFBTyxJQUFJNEgsRUFBQSxFQUFVaEosS0FBTSxlQUN4Q3FnQixZQUFhLENBQUVqZixNQUFPLElBQUlYLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxJQUFLVCxLQUFNLGFBQzVEc2dCLGFBQWMsQ0FBRWxmLE1BQU8sSUFBSVgsYUFBYSxDQUFDLEVBQUcsSUFBS1QsS0FBTSxhQUN2RHVnQixrQkFBbUIsQ0FBRW5mLE1BQU8sSUFBSTRILEVBQUEsRUFBVWhKLEtBQU0sZUFDaER3Z0IsWUFBYSxDQUFFcGYsTUFBTyxJQUFJWCxhQUFhLENBQUMsSUFBSyxJQUFLLEdBQUssS0FBT1QsS0FBTSxlQUV0RStKLE1BQU0sQ0FDSnNFLFlBQ0FELGFBQ0FVLFVBQVcsQ0FDVHBFLGNBQWUsSUFBSXhKLEVBQUEsRUFBYSxDQUM5QnlKLGlCQUFrQixDQUFFdkosTUFBTyxJQUFJNEgsRUFBQSxFQUFVaEosS0FBTSxlQUMvQzRLLE9BQVEsQ0FBRXhKLE1BQU8sSUFBSVgsYUFBYSxDQUFDLEVBQUcsRUFBRyxFQUFHLElBQUtULEtBQU0sYUFDdkQ2SyxPQUFRLENBQUV6SixNQUFPLEVBQUdwQixLQUFNLFNBRTVCbWdCLGlCQUNBTSxTQUFVdGIsRUFBQSxFQUFRQyxNQUFNL0osT0FDeEJxbEIsU0FBVXZiLEVBQUEsRUFBUUMsTUFBTS9KLE9BQU9xSyxRQUdyQyxDQUNBLGNBQUFpYixDQUFlMWxCLEVBQU9DLEVBQVFxSCxFQUFRcWUsRUFBU0MsRUFBU3htQixHQUN0RCxNQUFNOGxCLEVBQWlCN2pCLEtBQUt3UyxVQUFVcVIsZUFDaENXLEVBQWV6bUIsRUFBUVksTUFDdkI4bEIsRUFBZ0IxbUIsRUFBUWEsT0FDeEI4bEIsRUFBZ0IzbUIsRUFBUTJtQixjQUN4QlQsRUFBb0JKLEVBQWVyWixTQUFTeVosa0JBQ2xEQSxFQUFrQmhrQixJQUNoQmdHLEVBQU8rUCxFQUFJd08sRUFBZTdsQixFQUMxQnNILEVBQU9nUSxFQUFJdU8sRUFBZTVsQixFQUMxQnFILEVBQU9pUSxFQUFJdU8sRUFBZ0I5bEIsRUFDM0JzSCxFQUFPcVEsRUFBSW1PLEVBQWdCN2xCLEVBQzNCcUgsRUFBT3FPLEdBQUszVixFQUNac0gsRUFBT3NPLEdBQUszVixHQUVkcWxCLEVBQWtCclgsU0FDbEJpWCxFQUFlclosU0FBU3NaLFVBQVlZLEVBQWNDLFNBQ2xEZCxFQUFlclosU0FBU3VaLFlBQWNXLEVBQWNYLFlBQ3BERixFQUFlclosU0FBU3daLGFBQWVVLEVBQWNWLGFBQ3JESCxFQUFlclosU0FBU3laLGtCQUFvQkEsRUFDNUNKLEVBQWVyWixTQUFTMFosWUFBWSxHQUFLdmxCLEVBQ3pDa2xCLEVBQWVyWixTQUFTMFosWUFBWSxHQUFLdGxCLEVBQ3pDaWxCLEVBQWVyWixTQUFTMFosWUFBWSxHQUFLSSxFQUN6Q1QsRUFBZXJaLFNBQVMwWixZQUFZLEdBQUtLLEVBQ3JDeG1CLElBQ0ZpQyxLQUFLd1MsVUFBVTJSLFNBQVdwbUIsRUFBUWdCLE9BQ2xDaUIsS0FBS3dTLFVBQVU0UixTQUFXcm1CLEVBQVFnQixPQUFPcUssTUFFN0MsRUM1RUYsTUFBTXdiLFVBQXFCM1csRUFBQSxFQUN6QixXQUFBekwsR0FDRWlMLE1BQU0sQ0FDSk4sVUFBVyxJQUFJaEosYUFBYSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDbERpSixJQUFLLElBQUlqSixhQUFhLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUM1Q2tKLFFBQVMsSUFBSTlJLFlBQVksQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsS0FFN0MsRUNHRixNQUFNc2dCLEVBQWEsSUFBSUQsRUFDdkIsTUFBTUUsRUFDSixXQUFBdGlCLENBQVlyQixHQUNWbkIsS0FBSytMLE9BQVNvWCxFQUFBLEVBQU1ELFVBQ3BCbGpCLEtBQUsra0Isc0JBQXdDamxCLE9BQU80TyxPQUFPLE1BQzNEMU8sS0FBSzRPLHdCQUEwQjVPLEtBQUs2TyxrQkFBa0JsRyxLQUFLM0ksTUFDM0RBLEtBQUt5QyxVQUFZdEIsRUFDakJuQixLQUFLeUMsVUFBVXNNLGFBQWFDLGVBQWVoUCxLQUFNLHdCQUNuRCxDQUNBLGtCQUFBaVAsQ0FBbUI5SSxHQUNqQixNQUFNNmUsRUFBbUJobEIsS0FBS2lsQixxQkFBcUI5ZSxHQUM3QytlLEVBQWFGLEVBQWlCRyxTQUNwQ25sQixLQUFLb2xCLGdCQUFnQmpmLEdBQ3JCLE1BQU1nZixFQUFXSCxFQUFpQkcsU0FDbEMsR0FBSUEsR0FBWUEsSUFBYUQsRUFBWSxDQUN2QyxNQUFNLGNBQUV2VixHQUFrQnFWLEVBQzFCLE9BQVFyVixFQUFjSyxTQUFTQyxzQkFDN0JOLEVBQ0F4SixFQUFXcEksUUFFZixDQUNBLE9BQU9tbkIsSUFBZUMsQ0FDeEIsQ0FDQSxhQUFBalYsQ0FBY21WLEVBQWN4aUIsR0FDMUIsTUFBTXNOLEVBQVVuUSxLQUFLeUMsVUFBVUssWUFBWUMsTUFDM0MvQyxLQUFLb2xCLGdCQUFnQkMsR0FDckIsTUFBTUwsRUFBbUJobEIsS0FBS2lsQixxQkFBcUJJLElBQzdDLFNBQUV6WixFQUFRLFNBQUV1WixHQUFhSCxFQUMvQixHQUFJRyxFQUFVLENBQ1pILEVBQWlCclYsZ0JBQWtCcVYsRUFBaUJyVixjQUFnQixJQUFJMkIsRUFBQSxHQUN4RSxNQUFNM0IsRUFBZ0JxVixFQUFpQnJWLGNBQ25DMFYsRUFBYTFELGdCQUNmM2hCLEtBQUtzbEIscUJBQXFCRCxHQUMxQjFWLEVBQWMvRCxTQUFXQSxFQUN6QitELEVBQWN4SixXQUFha2YsRUFDM0IxVixFQUFjNEIsVUFBWThULEVBQWFyVSxlQUN2Q3JCLEVBQWNVLFdBQVdnVixFQUFhdlYsV0FFeENILEVBQWM2QixZQUFjeFIsS0FBS3lDLFVBQVV3TyxhQUFlb1UsRUFBYXBVLGFBQ3ZFZCxFQUFRRyxXQUFXWCxFQUFlOU0sRUFDcEMsTUFDRXNOLEVBQVFuTixNQUFNSCxHQUNkbWlCLEVBQWlCblosU0FBV21aLEVBQWlCblosT0FBUyxJQUFJK1gsR0FDMUQ1akIsS0FBS3VRLGlCQUFpQjhVLEdBQ3RCeGlCLEVBQWViLElBQUlxakIsRUFFdkIsQ0FDQSxPQUFBOWhCLENBQVE4aEIsR0FDTixNQUFNLE9BQUV4WixHQUFXN0wsS0FBSytrQixzQkFBc0JNLEVBQWF4VixLQUMzRGhFLEVBQU9KLE9BQU8sR0FBS3pMLEtBQUt5QyxVQUFVbUcsZUFBZTJjLFVBQ2pELE1BQU1uWCxFQUFnQnZDLEVBQU8yRyxVQUFVcEUsY0FBYzVELFNBQ3JENEQsRUFBY0MsaUJBQW1CZ1gsRUFBYXJVLGVBQzlDNUMsRUFBY0csT0FBU3ZPLEtBQUt5QyxVQUFVd08sYUFBZW9VLEVBQWFwVSxjQUNsRSxPQUNFb1UsRUFBYW5VLGdCQUNiOUMsRUFBY0UsT0FDZCxHQUVGdE8sS0FBSytMLE9BQU84RSxXQUFZLEVBQUFDLEVBQUEsR0FBMEJ1VSxFQUFhdFUsZUFBZ0JzVSxFQUFhdG5CLFFBQVF5TyxTQUNwR3hNLEtBQUt5QyxVQUFVaUosUUFBUUMsS0FBSyxDQUMxQkMsU0FBVWlaLEVBQ1ZoWixTQUNBQyxNQUFPOUwsS0FBSytMLFFBRWhCLENBQ0EsZ0JBQUF3RSxDQUFpQjhVLEdBQ2YsTUFBTUwsRUFBbUJobEIsS0FBS2lsQixxQkFBcUJJLElBQzdDLFNBQUVGLEdBQWFILEVBQ3JCLEdBQUlHLEVBQVUsQ0FDWixNQUFNLGNBQUV4VixHQUFrQnFWLEVBQ3RCSyxFQUFhMUQsZUFDZjNoQixLQUFLc2xCLHFCQUFxQkQsR0FDNUIxVixFQUFjSyxTQUFTUSxjQUFjYixFQUN2QyxNQUFPLEdBQUkwVixFQUFhMUQsY0FBZSxDQUNyQyxNQUFNLE9BQUU5VixHQUFXbVosRUFDbkJuWixFQUFPd1ksZUFDTGdCLEVBQWExbUIsTUFDYjBtQixFQUFhem1CLE9BQ2J5bUIsRUFBYUcsZUFBZXZmLE9BQzVCb2YsRUFBYXZZLE9BQU9sRCxFQUNwQnliLEVBQWF2WSxPQUFPakQsRUFDcEJ3YixFQUFhdG5CLFFBRWpCLENBQ0YsQ0FDQSxpQkFBQThRLENBQWtCd1csR0FDaEIsTUFBTUwsRUFBbUJobEIsS0FBS2lsQixxQkFBcUJJLEdBQ25ETCxFQUFpQnJWLGNBQWdCLEtBQ2pDcVYsRUFBaUJuWixRQUFRdkssVUFDekJ0QixLQUFLK2tCLHNCQUFzQk0sRUFBYXhWLEtBQU8sS0FDL0N3VixFQUFhMVUsSUFBSSxZQUFhM1EsS0FBSzRPLHdCQUNyQyxDQUNBLG9CQUFBcVcsQ0FBcUI5ZSxHQUNuQixPQUFPbkcsS0FBSytrQixzQkFBc0I1ZSxFQUFXMEosTUFBUTdQLEtBQUt5bEIsc0JBQXNCdGYsRUFDbEYsQ0FDQSxxQkFBQXNmLENBQXNCSixHQUNwQixNQUFNelosRUFBVyxJQUFJcUMsRUFBQSxFQUFhLENBQ2hDWixRQUFTd1gsRUFBV3hYLFFBQ3BCRixVQUFXMFgsRUFBVzFYLFVBQVV1WSxRQUNoQ3RZLElBQUt5WCxFQUFXelgsSUFBSXNZLFVBUXRCLE9BTkExbEIsS0FBSytrQixzQkFBc0JNLEVBQWF4VixLQUFPLENBQzdDc1YsVUFBVSxFQUNWaGYsV0FBWWtmLEVBQ1p6WixZQUVGeVosRUFBYWpVLEdBQUcsWUFBYXBSLEtBQUs0Tyx5QkFDM0I1TyxLQUFLK2tCLHNCQUFzQk0sRUFBYXhWLElBQ2pELENBQ0Esb0JBQUF5VixDQUFxQkQsR0FDbkIsTUFBTU0sRUFBaUIzbEIsS0FBS2lsQixxQkFBcUJJLElBQzNDLFNBQUV6WixHQUFhK1osRUFDZnZjLEVBQVFpYyxFQUFhdG5CLFFBQVFnQixPQUFPcUssTUFDaEIsV0FBdEJBLEVBQU13YyxjQUNSeGMsRUFBTXdjLFlBQWMsU0FDcEJ4YyxFQUFNaUMsVUM1SFosU0FBZ0JnYSxFQUFjalksR0FDNUIsTUFBTXJQLEVBQVVzbkIsRUFBYXRuQixRQUN2QlksRUFBUVosRUFBUW9CLE1BQU1SLE1BQ3RCQyxFQUFTYixFQUFRb0IsTUFBTVAsT0FDN0IsSUFBSTBsQixFQUFVLEVBQ1ZDLEVBQVUsRUFDVmMsRUFBYVEsdUJBQ2Z2QixFQUFVZSxFQUFhdlksT0FBT2xELEVBQzlCMmEsRUFBVWMsRUFBYXZZLE9BQU9qRCxHQUVoQ3VELEVBQUksR0FBS0EsRUFBSSxJQUFNa1gsRUFDbkJsWCxFQUFJLEdBQUtBLEVBQUksR0FBSyxFQUFJa1gsRUFDdEJsWCxFQUFJLEdBQUtBLEVBQUksSUFBTW1YLEVBQ25CblgsRUFBSSxHQUFLQSxFQUFJLEdBQUssRUFBSW1YLEVBQ3RCLE1BQU1HLEVBQWdCaFksRUFBQSxFQUFPckssT0FDN0JxaUIsRUFBY25LLFNBQVM4SyxFQUFhRyxlQUFldmYsUUFDbkR5ZSxFQUFjcFEsSUFBTStRLEVBQWExbUIsTUFDakMrbEIsRUFBY25RLElBQU04USxFQUFhem1CLE9BQ2pDOGxCLEVBQWM5WCxTQUNkOFgsRUFBY3ZjLE1BQU1rZCxFQUFhMW1CLE1BQVFBLEVBQU8wbUIsRUFBYXptQixPQUFTQSxHQ3RCeEUsU0FBcUJrbkIsRUFBT3poQixFQUFRNUUsRUFBUXdHLEdBQzFDLElBQUlvTyxFQUFRLEVBQ1osTUFBTTBSLEVBQU9ELEVBQU1sZ0IsT0RxQkYsRUNwQlhvUSxFQUFJL1AsRUFBTytQLEVBQ1hDLEVBQUloUSxFQUFPZ1EsRUFDWEMsRUFBSWpRLEVBQU9pUSxFQUNYSSxFQUFJclEsRUFBT3FRLEVBQ1hoQyxFQUFLck8sRUFBT3FPLEdBQ1pDLEVBQUt0TyxFQUFPc08sR0FFbEIsSUFEQTlVLEdEY2lCLEVDYlY0VSxFQUFRMFIsR0FBTSxDQUNuQixNQUFNbmMsRUFBSWtjLEVBQU1ybUIsR0FDVm9LLEVBQUlpYyxFQUFNcm1CLEVBQVMsR0FDekJxbUIsRUFBTXJtQixHQUFVdVcsRUFBSXBNLEVBQUlzTSxFQUFJck0sRUFBSXlLLEVBQ2hDd1IsRUFBTXJtQixFQUFTLEdBQUt3VyxFQUFJck0sRUFBSTBNLEVBQUl6TSxFQUFJMEssRUFDcEM5VSxHRFFlLEVDUGY0VSxHQUNGLENBQ0YsQ0RLRTNOLENBQVkwRyxFQUFLLEVBQUcsRUFBR3NYLEVBQ3pCLENEeUdJc0IsQ0FBT1gsRUFBY3paLEVBQVN3QixLR2pJbEMsU0FBc0JpWSxFQUFjbFksR0FDbEMsTUFBTW1YLEVBQVVlLEVBQWF2WSxPQUFPbEQsRUFDOUIyYSxFQUFVYyxFQUFhdlksT0FBT2pELEVBQ3BDc0QsRUFBVSxJQUFNbVgsRUFBVWUsRUFBYTFtQixNQUN2Q3dPLEVBQVUsSUFBTW9YLEVBQVVjLEVBQWF6bUIsT0FDdkN1TyxFQUFVLElBQU0sRUFBSW1YLEdBQVdlLEVBQWExbUIsTUFDNUN3TyxFQUFVLElBQU1vWCxFQUFVYyxFQUFhem1CLE9BQ3ZDdU8sRUFBVSxJQUFNLEVBQUltWCxHQUFXZSxFQUFhMW1CLE1BQzVDd08sRUFBVSxJQUFNLEVBQUlvWCxHQUFXYyxFQUFhem1CLE9BQzVDdU8sRUFBVSxJQUFNbVgsRUFBVWUsRUFBYTFtQixNQUN2Q3dPLEVBQVUsSUFBTSxFQUFJb1gsR0FBV2MsRUFBYXptQixNQUM5QyxDSHVISXFuQixDQUFhWixFQUFjelosRUFBU3VCLFVBQ3RDLENBQ0EsT0FBQTdMLEdBQ0UsSUFBSyxNQUFNNEUsS0FBS2xHLEtBQUsra0Isc0JBQ25CL2tCLEtBQUs2TyxrQkFBa0I3TyxLQUFLK2tCLHNCQUFzQjdlLEdBQUdDLFlBRXZEbkcsS0FBSytrQixzQkFBd0IsS0FDN0Iva0IsS0FBS3lDLFVBQVksSUFDbkIsQ0FDQSxlQUFBMmlCLENBQWdCQyxHQUNkLE1BQU1NLEVBQWlCM2xCLEtBQUtpbEIscUJBQXFCSSxHQUMzQ3RuQixFQUFVc25CLEVBQWF0bkIsUUFDN0IsSUFBSW1vQixHQUFxQixFQUt6QixPQUpJbG1CLEtBQUt5QyxVQUFVaUIsT0FBUyxJQUFhdUksUUFDdkNpYSxFQUFxQmxtQixLQUFLeUMsVUFBVTJRLFFBQVErUyxTQUFTQyxtQkFFdkRULEVBQWVSLFNBQVdwbkIsRUFBUTJtQixjQUFjMkIsV0FBYUgsR0FBc0Jub0IsRUFBUWdCLE9BQU91bkIsY0FDM0ZYLEVBQWVSLFFBQ3hCLEVBR0ZMLEVBQWlCdmpCLFVBQVksQ0FDM0JtQyxLQUFNLENBQ0osS0FBY0MsV0FDZCxLQUFjQyxZQUNkLEtBQWNDLGFBRWhCekcsS0FBTSxnQkkxSlIsS0FBVzRFLElBQUk4aUIsRSxrQ0NIZixNQUFNeFQsRUFDSixXQUFBOU8sR0FDRXhDLEtBQUtvakIsWUFBYyxVQUNuQnBqQixLQUFLc2pCLFlBQWEsRUFDbEJ0akIsS0FBS3VtQixZQUFjLEVBQ25Cdm1CLEtBQUt3bUIsZ0JBQWtCLEVBQ3ZCeG1CLEtBQUt3UixZQUFjLEVBQ25CeFIsS0FBS2dRLFNBQVcsS0FDaEJoUSxLQUFLd2pCLE9BQVMsS0FDZHhqQixLQUFLK1Asd0JBQTBCLEVBQy9CL1AsS0FBS3ltQixhQUFlLENBQ3RCLENBQ0EsYUFBSTVWLEdBQ0YsT0FBTzdRLEtBQUttRyxXQUFXNEssY0FDekIsQ0FDQSxZQUFJL0UsR0FDRixPQUFPaE0sS0FBSzBtQixXQUFhMW1CLEtBQUs0TCxTQUFTSSxRQUN6QyxDQUNBLFlBQUlBLENBQVNsSCxHQUNYOUUsS0FBSzBtQixVQUFZNWhCLENBQ25CLENBQ0EsS0FBQTJlLEdBQ0V6akIsS0FBS21HLFdBQWEsS0FDbEJuRyxLQUFLakMsUUFBVSxLQUNmaUMsS0FBS2dRLFNBQVcsS0FDaEJoUSxLQUFLd2pCLE9BQVMsS0FDZHhqQixLQUFLNEwsU0FBVyxLQUNoQjVMLEtBQUt5bUIsYUFBZSxFQUNwQnptQixLQUFLK1Asd0JBQTBCLENBQ2pDLENBT0EsVUFBQU0sQ0FBV3ZMLEdBQ0w5RSxLQUFLakMsVUFBWStHLElBRXJCOUUsS0FBS2pDLFFBQVUrRyxFQUNmOUUsS0FBSytQLHdCQUEwQixFQUNqQyxDQUNBLE9BQUkzQyxHQUNGLE1BQ011WixFQURXM21CLEtBQUs0TCxTQUNJdVYsVUFBVSxPQUM5Qi9ULEVBQU11WixFQUFTcmEsS0FDckIsSUFBSXNhLEVBQWlCeFosRUFDckIsTUFBTXNYLEVBQWdCMWtCLEtBQUtqQyxRQUFRMm1CLGNBWW5DLE9BWEtBLEVBQWMyQixXQUNqQk8sRUFBaUI1bUIsS0FBSzZtQixnQkFDbEI3bUIsS0FBSytQLHlCQUEyQjJVLEVBQWNvQyxXQUFhOW1CLEtBQUt5bUIsY0FBZ0JFLEVBQVNHLGNBQ3RGRixHQUFrQkEsRUFBZWhoQixPQUFTd0gsRUFBSXhILFVBQ2pEZ2hCLEVBQWlCNW1CLEtBQUs2bUIsZ0JBQWtCLElBQUkxaUIsYUFBYWlKLEVBQUl4SCxTQUUvRDVGLEtBQUsrUCx1QkFBeUIyVSxFQUFjb0MsVUFDNUM5bUIsS0FBS3ltQixZQUFjRSxFQUFTRyxVQUM1QnBDLEVBQWNxQyxZQUFZM1osRUFBS3daLEtBRzVCQSxDQUNULENBQ0EsYUFBSXpaLEdBQ0YsT0FBT25OLEtBQUs0TCxTQUFTdUIsU0FDdkIsQ0FDQSxXQUFJRSxHQUNGLE9BQU9yTixLQUFLNEwsU0FBU3lCLE9BQ3ZCLENBQ0EsU0FBSTBILEdBQ0YsT0FBTy9VLEtBQUttRyxXQUFXK0ssZUFDekIsQ0FDQSxrQkFBSUYsR0FDRixPQUFPaFIsS0FBS21HLFdBQVc2SyxjQUN6QixDQUNBLGlCQUFJcVMsR0FDRixPQUFPcmpCLEtBQUs0TCxTQUFTdUIsVUFBVXZILE9BQVMsQ0FDMUMsQ0FDQSxhQUFJNkosR0FDRixPQUFPelAsS0FBSzRMLFNBQVN5QixRQUFRekgsTUFDL0IsRSxpRkN4RUYsTUFBTW9oQixFQUNKLFdBQUF4a0IsQ0FBWXJCLEVBQVVnTixHQUNwQm5PLEtBQUs4TCxNQUFRcVgsRUFBQSxFQUFNRixRQUVuQmpqQixLQUFLaW5CLHFCQUF1Q25uQixPQUFPNE8sT0FBTyxNQUMxRDFPLEtBQUs0Tyx3QkFBMEI1TyxLQUFLNk8sa0JBQWtCbEcsS0FBSzNJLE1BQzNEQSxLQUFLbUIsU0FBV0EsRUFDaEJuQixLQUFLOE8sU0FBV1gsRUFDaEJuTyxLQUFLOE8sU0FBU2xQLE9BQ2RJLEtBQUttQixTQUFTNE4sYUFBYUMsZUFBZWhQLEtBQU0sdUJBQ2xELENBQ0Esa0JBQUFpUCxDQUFtQmlFLEdBQ2pCLE1BQU1FLEVBQVVGLEVBQVNFLFFBQ25CL0QsSUFBZXJQLEtBQUtpbkIscUJBQXFCL1QsRUFBU3JELEtBQ2xEcVgsRUFBYWxuQixLQUFLbUIsU0FBU2dtQixnQkFBZ0JDLGlCQUFpQmhVLEdBQ2xFLFNBQUk4VCxFQUFXRyxhQUFlaFksSUFBZTZYLEVBQVdHLFlBSTFELENBQ0EsYUFBQW5YLENBQWNnRCxFQUFVclEsR0FDdEIsTUFBTXFrQixFQUFhbG5CLEtBQUttQixTQUFTZ21CLGdCQUFnQkMsaUJBQWlCbFUsRUFBU0UsU0FDdkVGLEVBQVN5TyxlQUNYM2hCLEtBQUtzbkIsU0FBU3BVLEdBRVpnVSxFQUFXRyxZQUNicm5CLEtBQUt1bkIsY0FBY3JVLEVBQVVyUSxJQUU3QjdDLEtBQUttQixTQUFTMkIsWUFBWUMsTUFBTUMsTUFBTUgsR0FDdENBLEVBQWViLElBQUlrUixHQUV2QixDQUNBLGdCQUFBM0MsQ0FBaUIyQyxHQUNmLE1BQU1zVSxFQUFVeG5CLEtBQUtpbkIscUJBQXFCL1QsRUFBU3JELEtBQ25ELEdBQUkyWCxFQUNGLElBQUssSUFBSXRoQixFQUFJLEVBQUdBLEVBQUlzaEIsRUFBUTVoQixPQUFRTSxJQUFLLENBQ3ZDLE1BQU1uRCxFQUFReWtCLEVBQVF0aEIsR0FDdEJuRCxFQUFNaU4sU0FBU1EsY0FBY3pOLEVBQy9CLENBRUosQ0FDQSxpQkFBQThMLENBQWtCcUUsR0FDWmxULEtBQUtpbkIscUJBQXFCL1QsRUFBU3JELE1BQ3JDN1AsS0FBS3luQiwwQkFBMEJ2VSxFQUFTckQsS0FFMUNxRCxFQUFTdkMsSUFBSSxZQUFhM1EsS0FBSzRPLHdCQUNqQyxDQUNBLE9BQUFyTCxDQUFRMlAsR0FDTixJQUFLQSxFQUFTdEMsYUFDWixPQUNGLE1BQU16UCxFQUFXbkIsS0FBS21CLFNBQ2hCaVMsRUFBVUYsRUFBU0UsUUFFekIsSUFEc0JqUyxFQUFTZ21CLGdCQUNaTyxjQUFjdFUsR0FBU29VLFFBQVE1aEIsT0FDaEQsT0FFRixNQUFNaUcsRUFBU3VILEVBQVFDLGNBQWdCclQsS0FBSzhPLFNBQVNqRCxPQUNyRDdMLEtBQUs4TCxNQUFNK0UsVUFBWXFDLEVBQVNuQyxlQUNoQyxNQUFNM0MsRUFBZ0J2QyxFQUFPMkcsVUFBVXBFLGNBQWM1RCxTQUNyRDRELEVBQWNDLGlCQUFtQjZFLEVBQVNsQyxlQUMxQzVDLEVBQWNHLE9BQVNwTixFQUFTOFAsYUFBZWlDLEVBQVNqQyxjQUN4RCxPQUNFaUMsRUFBU2hDLGdCQUNUOUMsRUFBY0UsT0FDZCxHQUVGdE8sS0FBSzhPLFNBQVN2TCxRQUFRdkQsS0FBTWtULEVBQzlCLENBQ0EsUUFBQW9VLENBQVNwVSxHQUNQLE1BQU03RCxJQUFlclAsS0FBS2luQixxQkFBcUIvVCxFQUFTckQsS0FDbERxWCxFQUFhbG5CLEtBQUttQixTQUFTZ21CLGdCQUFnQkMsaUJBQWlCbFUsRUFBU0UsU0FDdkUvRCxHQUNGclAsS0FBS3luQiwwQkFBMEJ2VSxFQUFTckQsS0FFdENxWCxFQUFXRyxhQUNicm5CLEtBQUsybkIsMEJBQTBCelUsR0FFakNBLEVBQVM1RCxRQUFVNFgsRUFBV0csV0FDaEMsQ0FDQSxhQUFBRSxDQUFjclUsRUFBVXJRLEdBQ3RCLE1BQU0ra0IsRUFBWTVuQixLQUFLbUIsU0FBUzJCLFlBQVlDLE1BQ3RDeWtCLEVBQVV4bkIsS0FBSzZuQix5QkFBeUIzVSxHQUM5QyxJQUFLLElBQUloTixFQUFJLEVBQUdBLEVBQUlzaEIsRUFBUTVoQixPQUFRTSxJQUFLLENBQ3ZDLE1BQU1uRCxFQUFReWtCLEVBQVF0aEIsR0FDdEIwaEIsRUFBVXRYLFdBQVd2TixFQUFPRixFQUM5QixDQUNGLENBQ0Esd0JBQUFnbEIsQ0FBeUIzVSxHQUN2QixPQUFPbFQsS0FBS2luQixxQkFBcUIvVCxFQUFTckQsTUFBUTdQLEtBQUsybkIsMEJBQTBCelUsRUFDbkYsQ0FDQSx5QkFBQXlVLENBQTBCelUsR0FDeEIsTUFBTUUsRUFBVUYsRUFBU0UsUUFDbkI4VCxFQUFhbG5CLEtBQUttQixTQUFTZ21CLGdCQUFnQk8sY0FBY3RVLEdBQ3pENUIsRUFBY3hSLEtBQUttQixTQUFTOFAsYUFBZWlDLEVBQVNqQyxhQUNwRHVXLEVBQVVOLEVBQVdNLFFBQVFNLEtBQUsva0IsSUFDdEMsTUFBTWdsQixFQUFhLElBQVF0bkIsSUFBSXVuQixFQUFBLEdBSS9CLE9BSEFqbEIsRUFBTTBKLE9BQU9zYixHQUNiQSxFQUFXNWhCLFdBQWErTSxFQUN4QjZVLEVBQVd2VyxZQUFjQSxFQUNsQnVXLENBQVUsSUFNbkIsWUFKZ0QsSUFBNUMvbkIsS0FBS2luQixxQkFBcUIvVCxFQUFTckQsTUFDckNxRCxFQUFTOUIsR0FBRyxZQUFhcFIsS0FBSzRPLHlCQUVoQzVPLEtBQUtpbkIscUJBQXFCL1QsRUFBU3JELEtBQU8yWCxFQUNuQ0EsQ0FDVCxDQUNBLHlCQUFBQyxDQUEwQlEsR0FDeEJqb0IsS0FBS2luQixxQkFBcUJnQixHQUFhQyxTQUFTbmxCLElBQzlDLElBQVEyTixPQUFPM04sRUFBTSxJQUV2Qi9DLEtBQUtpbkIscUJBQXFCZ0IsR0FBZSxJQUMzQyxDQUNBLE9BQUEzbUIsR0FDRXRCLEtBQUttQixTQUFXLEtBQ2hCbkIsS0FBSzhPLFNBQVN4TixVQUNkdEIsS0FBSzhPLFNBQVcsS0FDaEI5TyxLQUFLOEwsTUFBUSxLQUNiLElBQUssTUFBTTVGLEtBQUtsRyxLQUFLaW5CLHFCQUNuQmpuQixLQUFLeW5CLDBCQUEwQnZoQixHQUVqQ2xHLEtBQUtpbkIscUJBQXVCLElBQzlCLEVBR0ZELEVBQWF6bEIsVUFBWSxDQUN2Qm1DLEtBQU0sQ0FDSixLQUFjQyxXQUNkLEtBQWNDLFlBQ2QsS0FBY0MsYUFFaEJ6RyxLQUFNLFlDcklSLEtBQVc0RSxJQUFJZ2xCLEdBQ2YsS0FBV2hsQixJQUFJbW1CLEVBQUEsRyx1RUNDZixNQUFNQyxFQUNKLFdBQUE1bEIsQ0FBWXJCLEdBQ1ZuQixLQUFLbVgsU0FBMkJyWCxPQUFPNE8sT0FBTyxNQUM5QzFPLEtBQUs0Tyx3QkFBMEI1TyxLQUFLNk8sa0JBQWtCbEcsS0FBSzNJLE1BQzNEQSxLQUFLeUMsVUFBWXRCLEVBQ2pCbkIsS0FBS3lDLFVBQVUyVSxRQUFRQyxpQkFBaUJyVixJQUFJaEMsTUFDNUNBLEtBQUt5QyxVQUFVc00sYUFBYUMsZUFBZWhQLEtBQU0sV0FDbkQsQ0FDQSxnQkFBQXFYLEdBQ0UsSUFBSyxNQUFNblIsS0FBS2xHLEtBQUttWCxTQUFVLENBQzdCLE1BQU1HLEVBQVV0WCxLQUFLbVgsU0FBU2pSLEdBQzlCLElBQUtvUixFQUNILFNBQ0YsTUFBTXhaLEVBQU93WixFQUFRelosZ0JBQWdCc0ksV0FDakNySSxFQUFLeVosa0JBQ1B6WixFQUFLNEosWUFBYzFILEtBQUt5QyxVQUFVNUQsV0FDbENmLEVBQUswWixlQUVULENBQ0YsQ0FDQSxrQkFBQXZJLENBQW1Cb1osR0FDakIsTUFBTS9RLEVBQVV0WCxLQUFLeVgsWUFBWTRRLEdBQzNCM1EsRUFBUzJRLEVBQVMxUSxVQUN4QixPQUFJTCxFQUFRZ1IsdUJBQ1ZoUixFQUFRZ1IsdUJBQXdCLEdBQ3pCLEdBRUxoUixFQUFRTSxhQUFlRixDQUk3QixDQUNBLGFBQUF4SCxDQUFjbVksRUFBVXhsQixHQUN0QixNQUNNaEYsRUFEVW1DLEtBQUt5WCxZQUFZNFEsR0FDRHhxQixnQkFDNUJ3cUIsRUFBU3JWLGdCQUNYaFQsS0FBSzZYLFlBQVl3USxHQUVuQnJvQixLQUFLeUMsVUFBVUssWUFBWUMsTUFBTXVOLFdBQVd6UyxFQUFpQmdGLEVBQy9ELENBQ0EsZ0JBQUEwTixDQUFpQjhYLEdBQ2YsTUFDTXhxQixFQURVbUMsS0FBS3lYLFlBQVk0USxHQUNEeHFCLGdCQUM1QndxQixFQUFTclYsZ0JBQ1hoVCxLQUFLNlgsWUFBWXdRLEdBRW5CeHFCLEVBQWdCbVMsU0FBU1EsY0FBYzNTLEVBQ3pDLENBQ0EsaUJBQUFnUixDQUFrQndaLEdBQ2hCQSxFQUFTMVgsSUFBSSxZQUFhM1EsS0FBSzRPLHlCQUMvQjVPLEtBQUs4WCx1QkFBdUJ1USxFQUFTeFksSUFDdkMsQ0FDQSxzQkFBQWlJLENBQXVCeVEsR0FDckIsTUFBTWpSLEVBQVV0WCxLQUFLbVgsU0FBU29SLEdBQzlCdm9CLEtBQUt5QyxVQUFVNGxCLFNBQVNwUSx1QkFBdUJYLEVBQVFNLFlBQ3ZELElBQVFsSCxPQUFPNEcsRUFBUXpaLGlCQUN2Qm1DLEtBQUttWCxTQUFTb1IsR0FBZSxJQUMvQixDQUNBLFdBQUExUSxDQUFZd1EsR0FDVixNQUFNM1EsRUFBUzJRLEVBQVMxUSxVQUNsQkwsRUFBVXRYLEtBQUt5WCxZQUFZNFEsR0FDM0J4cUIsRUFBa0J5WixFQUFRelosZ0JBQzVCeVosRUFBUU0sYUFBZUYsR0FDekIxWCxLQUFLa1ksZUFBZW1RLEdBQVVHLE9BQU9DLElBQ25DQyxRQUFRQyxNQUFNRixFQUFFLElBR3BCSixFQUFTclYsZ0JBQWlCLEdBQzFCLEVBQUFwVixFQUFBLEdBQWlCQyxFQUFpQndxQixFQUNwQyxDQUNBLG9CQUFNblEsQ0FBZW1RLEdBQ25CQSxFQUFTclYsZ0JBQWlCLEVBQzFCLE1BQU1zRSxFQUFVdFgsS0FBS3lYLFlBQVk0USxHQUNqQyxHQUFJL1EsRUFBUXNSLGtCQUNWLE9BQ0YsTUFBTWxSLEVBQVMyUSxFQUFTMVEsVUFDeEIzWCxLQUFLeUMsVUFBVTRsQixTQUFTcFEsdUJBQXVCWCxFQUFRTSxZQUN2RE4sRUFBUXNSLG1CQUFvQixFQUM1QnRSLEVBQVFNLFdBQWFGLEVBQ3JCLE1BQU03WSxFQUFhd3BCLEVBQVN4cEIsWUFBY21CLEtBQUt5QyxVQUFVNUQsV0FDbkRkLFFBQWdCaUMsS0FBS3lDLFVBQVU0bEIsU0FBU2xRLGtCQUM1Q2tRLEVBQVN2cUIsS0FDVGUsRUFDQXdwQixFQUFTbHFCLE9BQ1RrcUIsRUFBUzFRLFdBRUw5WixFQUFrQnlaLEVBQVF6WixnQkFDaENBLEVBQWdCRSxRQUFVdVosRUFBUXZaLFFBQVVBLEVBQzVDdVosRUFBUXNSLG1CQUFvQixFQUM1QnRSLEVBQVFnUix1QkFBd0IsRUFDaENELEVBQVM3USxnQkFDVCxFQUFBNVosRUFBQSxHQUFpQkMsRUFBaUJ3cUIsRUFDcEMsQ0FDQSxXQUFBNVEsQ0FBWTRRLEdBQ1YsT0FBT3JvQixLQUFLbVgsU0FBU2tSLEVBQVN4WSxNQUFRN1AsS0FBSzBWLFlBQVkyUyxFQUN6RCxDQUNBLFdBQUEzUyxDQUFZMlMsR0FDVixNQUFNalEsRUFBYyxDQUNsQnJhLFFBQVM4SyxFQUFBLEVBQVFDLE1BQ2pCOE8sV0FBWSxLQUNaL1osZ0JBQWlCLElBQVE0QyxJQUFJNFgsRUFBQSxHQUM3QmlRLHVCQUF1QixFQUN2Qk0sbUJBQW1CLEdBRWYvcUIsRUFBa0J1YSxFQUFZdmEsZ0JBU3BDLE9BUkFBLEVBQWdCc0ksV0FBYWtpQixFQUM3QnhxQixFQUFnQjBULFVBQVk4VyxFQUFTclgsZUFDckNuVCxFQUFnQkUsUUFBVThLLEVBQUEsRUFBUUMsTUFDbENqTCxFQUFnQkcsT0FBUyxDQUFFSSxLQUFNLEVBQUdFLEtBQU0sRUFBR0QsS0FBTSxFQUFHRSxLQUFNLEdBQzVEVixFQUFnQjJULFlBQWN4UixLQUFLeUMsVUFBVXdPLGFBQWVvWCxFQUFTcFgsYUFDckVvWCxFQUFTM2dCLFlBQWMyZ0IsRUFBUzlRLGdCQUFrQnZYLEtBQUt5QyxVQUFVNUQsV0FBYXdwQixFQUFTeHBCLFdBQ3ZGbUIsS0FBS21YLFNBQVNrUixFQUFTeFksS0FBT3VJLEVBQzlCaVEsRUFBU2pYLEdBQUcsWUFBYXBSLEtBQUs0Tyx5QkFDdkJ3SixDQUNULENBQ0EsT0FBQTlXLEdBQ0UsSUFBSyxNQUFNNEUsS0FBS2xHLEtBQUttWCxTQUNuQm5YLEtBQUs4WCx1QkFBdUI1UixHQUU5QmxHLEtBQUttWCxTQUFXLEtBQ2hCblgsS0FBS3lDLFVBQVksSUFDbkIsRUFHRjJsQixFQUFhN21CLFVBQVksQ0FDdkJtQyxLQUFNLENBQ0osS0FBY0MsV0FDZCxLQUFjQyxZQUNkLEtBQWNDLGFBRWhCekcsS0FBTSxZLCtEQ3hJUixNQUFNeXJCLEVBQVEsNkJBQ1JDLEVBQVUsK0JBQ2hCLE1BQU1DLEVBQ0osV0FBQXZtQixHQUNFeEMsS0FBS2dwQixRQUFVQyxTQUFTQyxnQkFBZ0JMLEVBQU8sT0FDL0M3b0IsS0FBS21wQixjQUFnQkYsU0FBU0MsZ0JBQWdCTCxFQUFPLGlCQUNyRDdvQixLQUFLb3BCLFdBQWFILFNBQVNDLGdCQUFnQkosRUFBUyxPQUNwRDlvQixLQUFLcXBCLGFBQWVKLFNBQVNDLGdCQUFnQkosRUFBUyxTQUN0RDlvQixLQUFLdEIsTUFBUSxJQUFJNHFCLE1BQ2pCLE1BQU0sY0FBRUgsRUFBYSxRQUFFSCxFQUFPLGFBQUVLLEVBQVksV0FBRUQsR0FBZXBwQixLQUM3RG1wQixFQUFjSSxhQUFhLFFBQVMsU0FDcENKLEVBQWNJLGFBQWEsU0FBVSxTQUNyQ0osRUFBYy9mLE1BQU1vZ0IsU0FBVyxTQUMvQlIsRUFBUVMsWUFBWU4sR0FDcEJBLEVBQWNNLFlBQVlKLEdBQzFCRixFQUFjTSxZQUFZTCxFQUM1QixFLGtDQ2FGLFNBQVNNLEVBQWdCQyxHQUN2QixNQUFNNVUsRUFBUXdILEVBQUEsRUFBTWxhLE9BQU9tYSxTQUFTbU4sRUFBZ0I1VSxPQUFPMEgsU0FBU2tOLEVBQWdCanFCLE9BQU9rcUIsU0FHckZDLEVBQVcsR0FGUHJpQixLQUFLOE4sTUFBTTlOLEtBQUt3VixJQUFJMk0sRUFBZ0IxTSxPQUFTME0sRUFBZ0IvUyxlQUM3RHBQLEtBQUs4TixNQUFNOU4sS0FBSzJWLElBQUl3TSxFQUFnQjFNLE9BQVMwTSxFQUFnQi9TLGNBRXZFLE9BQUkrUyxFQUFnQi9NLEtBQU8sRUFDbEIsZ0JBQWdCaU4sS0FBWUYsRUFBZ0IvTSxVQUFVN0gsSUFFeEQsZ0JBQWdCOFUsS0FBWTlVLEdBQ3JDLENBQ0EsU0FBUytVLEVBQVlDLEdBQ25CLE1BQU8sQ0FDTCw4QkFBOEJBLEVBQU9wckIsVUFDckMsOEJBQThCNGQsRUFBQSxFQUFNbGEsT0FBT21hLFNBQVN1TixFQUFPaFYsT0FBT2lWLFVBQ2xFLHNCQUFzQkQsRUFBT3ByQixVQUM3QixzQkFBc0I0ZCxFQUFBLEVBQU1sYSxPQUFPbWEsU0FBU3VOLEVBQU9oVixPQUFPaVYsVUFDMUQsdUJBQ0F4TyxLQUFLLElBQ1QsQ0FDQSxNQUFNeU8sRUFBWSxDQUNoQnRULFNBQVUseUJBQ1ZkLFdBQVkseUJBQ1pxVSxXQUFZLHlCQUNaQyxVQUFXLHdCQUNYQyxZQUFhLDBCQUNidk0sY0FBZSw4QkFDZkgsTUFBTyx3QkFDUHhmLFFBQVMsdUJBQ1Rtc0IsV0FBWSx5QkFDWjVVLFdBQVksMkJBQ1o2VSxjQUFlLDBCQUVYL1ksRUFBWSxDQUNoQmdaLEtBQU96bEIsR0FBVSxVQUFVeVgsRUFBQSxFQUFNbGEsT0FBT21hLFNBQVMxWCxHQUFPa2xCLFVBQ3hEUSxXQUFhMWxCLEdBQVUsZUFBY0EsRUFBUSxZQUFjLGNBQzNEaWxCLE9BQVFELEVBQ1JoTyxXQUFZNE4sR0M1RGQsTUFBTWUsVUFBc0JyUixFQUFBLEVBQzFCLFdBQUE1VyxDQUFZM0MsRUFBVSxDQUFDLEdBQ3JCNE4sTUFBTTVOLEdBQ05HLEtBQUswcUIsY0FBZ0IsR0FDckIxcUIsS0FBSzJxQixlQUFpQjNxQixLQUFLMnFCLGFBQWU5cUIsRUFBUThxQixjQUNsRDNxQixLQUFLNHFCLFVBQVkvcUIsRUFBUStxQixXQUFhLENBQUMsQ0FDekMsQ0FFQSxnQkFBSUQsQ0FBYTdsQixHQUNmOUUsS0FBSzBxQixjQUFnQjVsQixhQUFpQmlQLE1BQVFqUCxFQUFRLENBQUNBLEdBQ3ZEOUUsS0FBS3FMLFFBQ1AsQ0FDQSxnQkFBSXNmLEdBQ0YsT0FBTzNxQixLQUFLMHFCLGFBQ2QsQ0FDQSxZQUFBRyxHQUVFLE9BREE3cUIsS0FBSzhxQixXQUFZLEVBQUFDLEVBQUEsR0FBcUIvcUIsTUFBUUEsS0FBSzBxQixjQUFjbFAsS0FBSyxLQUMvRHhiLEtBQUs4cUIsU0FDZCxDQUNBLE1BQUF6ZixHQUNFckwsS0FBS2dyQixVQUFZLEtBQ2pCdmQsTUFBTXBDLFFBQ1IsQ0FLQSxLQUFBNGYsR0FDRSxPQUFPLElBQUlSLEVBQWMsQ0FDdkIvTSxNQUFPMWQsS0FBSzBkLE1BQ1o4TSxXQUFZeHFCLEtBQUt3cUIsV0FDakIxTyxXQUFZOWIsS0FBSzhiLFdBQWEsSUFBSzliLEtBQUs4YixZQUFlLEtBQ3ZEeU8sS0FBTXZxQixLQUFLOFUsTUFDWGUsV0FBWTdWLEtBQUs2VixXQUNqQmMsU0FBVTNXLEtBQUsyVyxTQUNmd1QsVUFBV25xQixLQUFLbXFCLFVBQ2hCQyxZQUFhcHFCLEtBQUtvcUIsWUFDbEJGLFdBQVlscUIsS0FBS2txQixXQUNqQnJNLGNBQWU3ZCxLQUFLNmQsY0FDcEJwSSxXQUFZelYsS0FBS3lWLFdBQ2pCdlgsUUFBUzhCLEtBQUs5QixRQUNkNnJCLE9BQVEvcEIsS0FBS3lVLFFBQ2I0VixXQUFZcnFCLEtBQUtxcUIsV0FDakJhLFNBQVVsckIsS0FBS2tyQixTQUNmWixjQUFldHFCLEtBQUtzcUIsY0FDcEJLLGFBQWMzcUIsS0FBSzJxQixjQUV2QixDQUNBLFlBQUlRLEdBSUYsT0FIS25yQixLQUFLZ3JCLFlBQ1JockIsS0FBS2dyQixVRHJEWCxTQUF3QjVoQixHQUN0QixNQUFNMmdCLEVBQVMzZ0IsRUFBTXFMLFFBQ2Y4VixFQUFPbmhCLEVBQU0wTCxNQXFCYnNXLEVBQVksQ0FBQyxTQXBCSSxDQUNyQixVQUFVN08sRUFBQSxFQUFNbGEsT0FBT21hLFNBQVMrTixFQUFLeFYsT0FBT2lWLFVBQzVDLGNBQWM1Z0IsRUFBTXVOLGFBQ3BCLGdCQUFnQnZOLEVBQU15TSxhQUN0QixnQkFBZ0J6TSxFQUFNOGdCLGFBQ3RCLGVBQWU5Z0IsRUFBTStnQixZQUNyQixpQkFBaUIvZ0IsRUFBTWdoQixjQUN2QixtQkFBbUJoaEIsRUFBTXlVLGtCQUN6QixlQUFlelUsRUFBTXNVLFFBQ3JCLFlBQVl0VSxFQUFNbEwsWUFDbEIsZ0JBQXFDLFFBQXJCa0wsRUFBTWloQixZQUF3QmpoQixFQUFNOGhCLFNBQVcsV0FBYTloQixFQUFNaWhCLGdCQUMvRWpoQixFQUFNcU0sV0FBYSxDQUFDLGdCQUFnQnJNLEVBQU1xTSxnQkFBa0IsTUFDNURyTSxFQUFNOGhCLFNBQVcsQ0FDbEIsZUFBYzloQixFQUFNb2hCLFdBQWEsWUFBYyxjQUMvQyxjQUFjcGhCLEVBQU1raEIsbUJBQ2xCLE1BQ0RQLEVBQVMsQ0FBQ0QsRUFBWUMsSUFBVyxNQUNqQzNnQixFQUFNMFMsV0FBYSxDQUFDNE4sRUFBZ0J0Z0IsRUFBTTBTLGFBQWUsTUFDekQxUyxFQUFNdWhCLGNBQ1RuUCxLQUFLLFVBR1AsT0F3Q0YsU0FBdUJvUCxFQUFXcHJCLEdBQ2hDLElBQUssTUFBTTBHLEtBQUswa0IsRUFBVyxDQUN6QixNQUFNUyxFQUFXVCxFQUFVMWtCLEdBQ3JCb2xCLEVBQWMsR0FDcEIsSUFBSyxNQUFNcFcsS0FBS21XLEVBQ1Y5WixFQUFVMkQsR0FDWm9XLEVBQVk1b0IsS0FBSzZPLEVBQVUyRCxHQUFHbVcsRUFBU25XLEtBQzlCK1UsRUFBVS9VLElBQ25Cb1csRUFBWTVvQixLQUFLdW5CLEVBQVUvVSxHQUFHeFgsUUFBUSxZQUFhMnRCLEVBQVNuVyxLQUdoRTFWLEVBQUlrRCxLQUFLLEdBQUd3RCxPQUFPb2xCLEVBQVk5UCxLQUFLLFNBQ3RDLENBQ0YsQ0F0REUrUCxDQUFjbmlCLEVBQU13aEIsVUFBV1EsR0FDeEJBLEVBQVU1UCxLQUFLLElBQ3hCLENDMkJ1QmdRLENBQWV4ckIsT0FFM0JBLEtBQUtnckIsU0FDZCxDQVVBLFdBQUFTLElBQWUzbUIsR0FDYixNQUFNNG1CLEVBQVE1bUIsRUFBTXJCLFFBQVFrb0IsSUFBTzNyQixLQUFLMnFCLGFBQWFpQixTQUFTRCxLQUMxREQsRUFBTTlsQixPQUFTLElBQ2pCNUYsS0FBSzJxQixhQUFham9CLFFBQVFncEIsR0FDMUIxckIsS0FBS3FMLFNBRVQsQ0FPQSxjQUFBd2dCLElBQWtCL21CLEdBQ2hCLE1BQU1nbkIsRUFBV2huQixFQUFNckIsUUFBUWtvQixHQUFNM3JCLEtBQUsycUIsYUFBYWlCLFNBQVNELEtBQzVERyxFQUFTbG1CLE9BQVMsSUFDcEI1RixLQUFLMnFCLGFBQWUzcUIsS0FBSzJxQixhQUFhbG5CLFFBQVFrb0IsSUFBT0csRUFBU0YsU0FBU0QsS0FDdkUzckIsS0FBS3FMLFNBRVQsQ0FDQSxRQUFJa2YsQ0FBS3psQixHQUNjLGlCQUFWQSxHQUF1QyxpQkFBVkEsSUFDdEMsRUFBQWdELEVBQUEsR0FBSyxnRUFFUDJGLE1BQU04YyxLQUFPemxCLENBQ2YsQ0FDQSxVQUFJaWxCLENBQU9qbEIsR0FDTEEsR0FBMEIsaUJBQVZBLEdBQXVDLGlCQUFWQSxJQUMvQyxFQUFBZ0QsRUFBQSxHQUFLLGtFQUVQMkYsTUFBTXNjLE9BQVNqbEIsQ0FDakIsRSxjQ2pHRmluQixlQUFlQyxFQUFZNWlCLEVBQU82aUIsR0FDaEMsTUFBTUMsUUNEUkgsZUFBZ0NFLEdBQzlCLE1BQU1FLFFBQWlCLElBQVcxckIsTUFBTTJyQixNQUFNSCxHQUN4Q0ksUUFBYUYsRUFBU0UsT0FDdEJDLEVBQVMsSUFBSUMsV0FNbkIsYUFMc0IsSUFBSUMsU0FBUSxDQUFDQyxFQUFTQyxLQUMxQ0osRUFBT0ssVUFBWSxJQUFNRixFQUFRSCxFQUFPTSxRQUN4Q04sRUFBT08sUUFBVUgsRUFDakJKLEVBQU9RLGNBQWNULEVBQUssR0FHOUIsQ0RUd0JVLENBQWlCZCxHQUN2QyxNQUFPLHVDQUNlN2lCLEVBQU15TSxtQ0FDVnFXLDhCQUNHOWlCLEVBQU04Z0Isb0NBQ1A5Z0IsRUFBTStnQixtQkFFNUIsQ0VQQSxNQUFNNkMsRUFBd0MsSUFBSUMsSUNEbEQsSUFBSUMsRUNlSixNQUFNQyxFQUNKLFdBQUEzcUIsQ0FBWXJCLEdBQ1ZuQixLQUFLMlksZ0JBQWtCLENBQUMsRUFDeEIzWSxLQUFLeUMsVUFBWXRCLEVBQ2pCbkIsS0FBS290QixjQUFnQmpzQixFQUFTdUMsT0FBUyxJQUFhMnBCLE1BQ3RELENBQ0EsVUFBQXBVLENBQVdwWixHQUNULE9BQU9HLEtBQUtzdEIscUJBQ1Z6dEIsRUFBUS9CLEtBQ1IrQixFQUFRaEIsV0FDUmdCLEVBQVF1SixNQUVaLENBQ0EsaUJBQUErTyxDQUFrQnJhLEVBQU1lLEVBQVl1SyxFQUFPb1IsR0FDekMsR0FBSXhhLEtBQUsyWSxnQkFBZ0I2QixHQUV2QixPQURBeGEsS0FBS3lhLHdCQUF3QkQsR0FDdEJ4YSxLQUFLMlksZ0JBQWdCNkIsR0FBUytTLFFBRXZDLE1BQU1BLEVBQVV2dEIsS0FBS3N0QixxQkFBcUJ4dkIsRUFBTWUsRUFBWXVLLEdBQU9va0IsTUFBTXp2QixJQUN2RWlDLEtBQUsyWSxnQkFBZ0I2QixHQUFTemMsUUFBVUEsRUFDakNBLEtBT1QsT0FMQWlDLEtBQUsyWSxnQkFBZ0I2QixHQUFXLENBQzlCemMsUUFBUyxLQUNUd3ZCLFVBQ0E3UyxXQUFZLEdBRVA2UyxDQUNULENBQ0EsMEJBQU1ELENBQXFCeHZCLEVBQU1lLEVBQVl1SyxHQUMzQyxNQUFNcWtCLEVBQWUsSUFBUWh0QixJQUFJc29CLEdBQzNCMkUsRUNoRFYsU0FBNkI1dkIsRUFBTXNMLEdBQ2pDLE1BQU15TSxFQUFhek0sRUFBTXlNLFdBQ25CNlgsRUFBZSxHQUNmQyxFQUFTLENBQUMsRUFFVkMsRUFBVTl2QixFQUFLK3ZCLE1BRFAsMkJBRWQsU0FBU0MsRUFBY0MsR0FDaEJKLEVBQU9JLEtBQ1ZMLEVBQWFockIsS0FBS3FyQixHQUNsQkosRUFBT0ksSUFBZSxFQUUxQixDQUNBLEdBQUloYSxNQUFNaWEsUUFBUW5ZLEdBQ2hCLElBQUssSUFBSTNQLEVBQUksRUFBR0EsRUFBSTJQLEVBQVdqUSxPQUFRTSxJQUNyQzRuQixFQUFjalksRUFBVzNQLFNBRzNCNG5CLEVBQWNqWSxHQUVaK1gsR0FDRkEsRUFBUTFGLFNBQVMyRixJQUVmQyxFQURvQkQsRUFBTUksTUFBTSxLQUFLLEdBQUdwVSxPQUNkLElBRzlCLElBQUssTUFBTTNULEtBQUtrRCxFQUFNd2hCLFVBRXBCa0QsRUFEb0Ixa0IsRUFBTXdoQixVQUFVMWtCLEdBQUcyUCxZQUd6QyxPQUFPNlgsQ0FDVCxDRGtCeUJRLENBQW9CcHdCLEVBQU1zTCxHQUN6QytrQixRRjdDVnBDLGVBQTBCMkIsRUFBY3RrQixFQUFPa0UsR0FDN0MsTUFBTThnQixFQUFlVixFQUFhanFCLFFBQVFvUyxHQUFlRSxFQUFBLEVBQU1zWSxJQUFJLEdBQUd4WSxlQUF1QmlTLEtBQUksQ0FBQ2pTLEVBQVkzUCxLQUM1RyxJQUFLOG1CLEVBQXNCcUIsSUFBSXhZLEdBQWEsQ0FDMUMsTUFBTSxJQUFFb1csR0FBUWxXLEVBQUEsRUFBTXRWLElBQUksR0FBR29WLGFBQ25CLElBQU4zUCxFQUNGOG1CLEVBQXNCL3NCLElBQUk0VixFQUFZbVcsRUFBWSxDQUNoRDlCLFdBQVk5Z0IsRUFBTThnQixXQUNsQkMsVUFBVy9nQixFQUFNK2dCLFVBQ2pCdFUsY0FDQ29XLElBRUhlLEVBQXNCL3NCLElBQUk0VixFQUFZbVcsRUFBWSxDQUNoRDlCLFdBQVk1YyxFQUFlNGMsV0FDM0JDLFVBQVc3YyxFQUFlNmMsVUFDMUJ0VSxjQUNDb1csR0FFUCxDQUNBLE9BQU9lLEVBQXNCdnNCLElBQUlvVixFQUFXLElBRTlDLGFBQWMyVyxRQUFROEIsSUFBSUYsSUFBZTVTLEtBQUssS0FDaEQsQ0V3QjBCK1MsQ0FDcEJiLEVBQ0F0a0IsRUFDQXFoQixFQUFjK0Qsa0JBRVYzVixFRG5EVixTQUF5Qi9hLEVBQU1zTCxFQUFPcWxCLEVBQWNDLEdBQ2xEQSxJQUF1QkEsRUFBcUJ4QixJQUEyQkEsRUFBeUIsSUFBSW5FLElBQ3BHLE1BQU0sV0FBRUssRUFBVSxhQUFFQyxFQUFZLFFBQUVMLEdBQVkwRixFQUM5Q3RGLEVBQVd1RixVQUFZLFVBQVV2bEIsRUFBTStoQiwyQ0FBMkNydEIsVUFDbEZzckIsRUFBV0csYUFBYSxRQUFTLHFEQUM3QmtGLElBQ0ZwRixFQUFhdUYsWUFBY0gsR0FFN0J4RixTQUFTNEYsS0FBS3BGLFlBQVlULEdBQzFCLE1BQU04RixFQUFnQjFGLEVBQVcyRix3QkFDakMvRixFQUFRam5CLFNBQ1IsTUFBTWl0QixFQUFnQyxFQUFoQjVsQixFQUFNbEwsUUFDNUIsTUFBTyxDQUNMUyxNQUFPbXdCLEVBQWNud0IsTUFBUXF3QixFQUM3QnB3QixPQUFRa3dCLEVBQWNsd0IsT0FBU293QixFQUVuQyxDQ21DcUJDLENBQWdCbnhCLEVBQU1zTCxFQUFPK2tCLEVBQVNWLEdBQ2pEOXVCLEVBQVE2SSxLQUFLWSxLQUFLWixLQUFLWSxLQUFLWixLQUFLd1IsSUFBSSxFQUFHSCxFQUFTbGEsT0FBeUIsRUFBaEJ5SyxFQUFNbEwsU0FBZVcsR0FDL0VELEVBQVM0SSxLQUFLWSxLQUFLWixLQUFLWSxLQUFLWixLQUFLd1IsSUFBSSxFQUFHSCxFQUFTamEsUUFBMEIsRUFBaEJ3SyxFQUFNbEwsU0FBZVcsR0FDakZILEVBQVErdUIsRUFBYS91QixNQUUzQkEsRUFBTUMsTUFEZSxHQUNFLEVBQVJBLEdBQ2ZELEVBQU1FLE9BRmUsR0FFSSxFQUFUQSxHQUNoQixNQUFNc3dCLEVFN0RWLFNBQW1CcHhCLEVBQU1zTCxFQUFPdkssRUFBWXN2QixFQUFTVixHQUNuRCxNQUFNLFdBQUVyRSxFQUFVLGFBQUVDLEVBQVksUUFBRUwsR0FBWXlFLEVBQzlDckUsRUFBV3VGLFVBQVksVUFBVXZsQixFQUFNK2hCLDJDQUEyQ3J0QixVQUNsRnNyQixFQUFXRyxhQUFhLFFBQVMsb0JBQW9CMXFCLHdEQUNyRHdxQixFQUFhdUYsWUFBY1QsRUFDM0IsTUFBTSxNQUFFeHZCLEVBQUssT0FBRUMsR0FBVzZ1QixFQUFhL3VCLE1BR3ZDLE9BRkFzcUIsRUFBUU8sYUFBYSxRQUFTNXFCLEVBQU1xa0IsWUFDcENnRyxFQUFRTyxhQUFhLFNBQVUzcUIsRUFBT29rQixhQUMvQixJQUFJbU0sZUFBZ0JDLGtCQUFrQnBHLEVBQy9DLENGb0RtQnFHLENBQVV2eEIsRUFBTXNMLEVBQU92SyxFQUFZc3ZCLEVBQVNWLFNHN0QvRCxTQUFzQi91QixFQUFPdXRCLEVBQUtxRCxHQUNoQyxPQUFPLElBQUk5QyxTQUFRVCxNQUFPVSxJQUNwQjZDLFNBQ0ksSUFBSTlDLFNBQVMrQyxHQUFhQyxXQUFXRCxFQUFVLE9BRXZEN3dCLEVBQU0rd0IsT0FBUyxLQUNiaEQsR0FBUyxFQUVYL3RCLEVBQU1neEIsSUFBTSxtQ0FBbUNDLG1CQUFtQjFELEtBQ2xFdnRCLEVBQU1reEIsWUFBYyxXQUFXLEdBRW5DLENIbURVQyxDQUFhbnhCLEVBQU93d0IsRUk1RDlCLFdBQ0UsTUFBTSxVQUFFWSxHQUFjLElBQVdydkIsTUFBTXN2QixlQUN2QyxNQUFPLGlDQUFpQ0MsS0FBS0YsRUFDL0MsQ0p5RHNDRyxJQUFjdkMsRUFBYTluQixPQUFTLEdBQ3RFLE1BQU0zRyxFQUFXUCxFQUNqQixJQUFJMmEsRUFDQXJaLEtBQUtvdEIsZ0JBQ1AvVCxFS2hFTixTQUFxQzNhLEVBQU9HLEdBQzFDLE1BQU13YSxFQUFtQkcsRUFBQSxFQUFXRSwyQkFDbENoYixFQUFNQyxNQUNORCxFQUFNRSxPQUNOQyxJQUVJLFFBQUV1VSxHQUFZaUcsRUFHcEIsT0FGQWpHLEVBQVE4YyxVQUFVLEVBQUcsRUFBR3h4QixFQUFNQyxNQUFPRCxFQUFNRSxRQUMzQ3dVLEVBQVErYyxVQUFVenhCLEVBQU8sRUFBRyxHQUNyQjJhLENBQ1QsQ0xzRHlCK1csQ0FBNEIxeEIsRUFBT0csSUFFeEQsTUFBTWQsR0FBVSxFQUFBVSxFQUFBLEdBQ2Q0YSxFQUFtQkEsRUFBaUJNLE9BQVMxYSxFQUM3Q1AsRUFBTUMsTUFaYSxFQWFuQkQsRUFBTUUsT0FiYSxFQWNuQkMsR0FPRixPQUxJbUIsS0FBS290QixnQkFDUHB0QixLQUFLeUMsVUFBVTFFLFFBQVF3YixXQUFXeGIsRUFBUWdCLFFBQzFDeWEsRUFBQSxFQUFXQyx1QkFBdUJKLElBRXBDLElBQVEzSSxPQUFPK2MsR0FDUjF2QixDQUNULENBQ0EsdUJBQUEwYyxDQUF3QkQsR0FDdEJ4YSxLQUFLMlksZ0JBQWdCNkIsR0FBU0UsWUFDaEMsQ0FDQSxzQkFBQXpDLENBQXVCdUMsR0FDckIsTUFBTUcsRUFBZ0IzYSxLQUFLMlksZ0JBQWdCNkIsR0FDdENHLElBRUxBLEVBQWNELGFBQ21CLElBQTdCQyxFQUFjRCxhQUNaQyxFQUFjNWMsUUFDaEJpQyxLQUFLcXdCLFNBQVMxVixHQUVkQSxFQUFjNFMsUUFBUUMsTUFBTXp2QixJQUMxQjRjLEVBQWM1YyxRQUFVQSxFQUN4QmlDLEtBQUtxd0IsU0FBUzFWLEVBQWMsSUFDM0I2TixPQUFNLE1BQ1AsRUFBQTFnQixFQUFBLEdBQUssMENBQTBDLElBR25EOUgsS0FBSzJZLGdCQUFnQjZCLEdBQVcsTUFFcEMsQ0FDQSxRQUFBNlYsQ0FBUzFWLEdBQ1BqUyxFQUFBLEVBQVlZLGNBQWNxUixFQUFjNWMsU0FDeEM0YyxFQUFjNWMsUUFBUWdCLE9BQU9FLFNBQVcsS0FDeEMwYixFQUFjNWMsUUFBUWdCLE9BQU9DLGVBQWlCLFNBQ2hELENBQ0EsaUJBQUE0YixDQUFrQkosR0FDaEIsT0FBT3hhLEtBQUsyWSxnQkFBZ0I2QixHQUFTRSxVQUN2QyxDQUNBLE9BQUFwWixHQUNFdEIsS0FBSzJZLGdCQUFrQixJQUN6QixFQUdGd1UsRUFBZTVyQixVQUFZLENBQ3pCbUMsS0FBTSxDQUNKLEtBQWNxSixZQUNkLEtBQWNDLGFBQ2QsS0FBYzJSLGNBRWhCdmhCLEtBQU0sWUFFUit2QixFQUFlbUQsbUJBQXFCLENBQ2xDemEsV0FBWSxRQUNac1UsVUFBVyxTQUNYRCxXQUFZLFVNM0hkLEtBQVdsb0IsSUFBSW1yQixHQUNmLEtBQVduckIsSUFBSW9tQixFLCtCQ0xmLE1BQU1tSSxFQUNKLE9BQUFodEIsQ0FBUWl0QixFQUF1QjV0QixHQUM3QixNQUFNa0osRUFBUTBrQixFQUFzQjFrQixNQUM5QjNLLEVBQVdxdkIsRUFBc0JydkIsU0FDakMwSyxFQUFTakosRUFBVWlKLFFBQVUya0IsRUFBc0JDLGNBQ3pENWtCLEVBQU8yRyxVQUFVMlIsU0FBV3ZoQixFQUFVN0UsUUFBUXlPLFFBQzlDWCxFQUFPMkcsVUFBVWhJLFNBQVdnbUIsRUFBc0JwaUIsY0FDbEQsTUFBTXNpQixFQUFLdnZCLEVBQVN1dkIsR0FDZHhzQixFQUFTc3NCLEVBQXNCRyxXQUFXL3RCLEdBQ2hEekIsRUFBUzBLLE9BQU9sRCxLQUFLa0QsR0FDckIxSyxFQUFTMkssTUFBTTdMLElBQUk2TCxHQUNuQjNLLEVBQVN5SyxTQUFTakQsS0FBS3pFLEVBQU8wSCxTQUFVQyxFQUFPa0csV0FDL0MsTUFDTTZlLEVBQXNCLElBRFgxc0IsRUFBTzBILFNBQVN0SCxZQUFZZ0ksS0FBS3VrQixrQkFDbEJILEVBQUdJLGVBQWlCSixFQUFHSyxhQUN2REwsRUFBR00sYUFBYU4sRUFBR08sVUFBK0MsRUFBcENydUIsRUFBVXN1QixpQkFBaUJ0ckIsT0FBWWdyQixFQUFRLEVBQy9FLEUsdUdDZkYsU0FBU08sRUFBc0JwTCxFQUFNcUwsRUFBWSxNQUMvQyxNQUFNQyxFQUFzQixFQUFQdEwsRUFNckIsR0FMSXNMLEVBQWUsTUFDakJELElBQWNBLEVBQVksSUFBSTdzQixZQUFZOHNCLElBRTFDRCxJQUFjQSxFQUFZLElBQUlFLFlBQVlELElBRXhDRCxFQUFVeHJCLFNBQVd5ckIsRUFDdkIsTUFBTSxJQUFJRSxNQUFNLHVDQUF1Q0gsRUFBVXhyQix1QkFBdUJ5ckIsS0FFMUYsSUFBSyxJQUFJbnJCLEVBQUksRUFBR2dQLEVBQUksRUFBR2hQLEVBQUltckIsRUFBY25yQixHQUFLLEVBQUdnUCxHQUFLLEVBQ3BEa2MsRUFBVWxyQixFQUFJLEdBQUtnUCxFQUFJLEVBQ3ZCa2MsRUFBVWxyQixFQUFJLEdBQUtnUCxFQUFJLEVBQ3ZCa2MsRUFBVWxyQixFQUFJLEdBQUtnUCxFQUFJLEVBQ3ZCa2MsRUFBVWxyQixFQUFJLEdBQUtnUCxFQUFJLEVBQ3ZCa2MsRUFBVWxyQixFQUFJLEdBQUtnUCxFQUFJLEVBQ3ZCa2MsRUFBVWxyQixFQUFJLEdBQUtnUCxFQUFJLEVBRXpCLE9BQU9rYyxDQUNULENDWEEsU0FBU0ksRUFBdUJDLEVBQVlDLEdBQzFDLE1BQU1DLEVBQWdCLEdBQ3RCQSxFQUFjanZCLEtBQUssNElBU25CLElBQUlqRCxFQUFTLEVBQ2IsSUFBSyxNQUFNeUcsS0FBS3VyQixFQUFZLENBQzFCLE1BQU1HLEVBQVdILEVBQVd2ckIsR0FDeEJ3ckIsSUFBWUUsRUFBU0YsVUFFekJDLEVBQWNqdkIsS0FBSyxvQkFBb0JqRCxLQUN2Q2t5QixFQUFjanZCLEtBQUtrdkIsRUFBU0MsTUFFNUJweUIsSUFEc0IsRUFBQXF5QixFQUFBLEdBQTJCRixFQUFTeHRCLFFBQ2xDQyxPQUFTLEVBQ25DLENBQ0FzdEIsRUFBY2p2QixLQUFLLHVEQUluQml2QixFQUFjSSxRQUFRLDBCQUNEdHlCLFlBRXJCLE1BQU11eUIsRUFBaUJMLEVBQWNuVyxLQUFLLE1BQzFDLE9BQU8sSUFBSXlXLFNBQVMsS0FBTSxPQUFRLE9BQVFELEVBQzVDLENDOUJBLE1BQU1FLEVBQ0osV0FBQTF2QixDQUFZM0MsR0FDVkcsS0FBS215QixNQUFRLEVBQ2JueUIsS0FBS295Qiw2QkFBK0IsQ0FBQyxFQUNyQyxNQUFNck0sRUFBTy9sQixLQUFLbXlCLE1BQVF0eUIsRUFBUWttQixNQUFRLElBQ3BDMEwsRUFBYTV4QixFQUFRNHhCLFdBQzNCLElBQUlZLEVBQW1CLEVBQ25CQyxFQUFvQixFQUN4QixJQUFLLE1BQU1wc0IsS0FBS3VyQixFQUFZLENBQzFCLE1BQU1HLEVBQVdILEVBQVd2ckIsR0FDdEJxc0IsR0FBZ0IsRUFBQVQsRUFBQSxHQUEyQkYsRUFBU3h0QixRQUN0RHd0QixFQUFTRixRQUNYWSxHQUFxQkMsRUFBY2x1QixPQUVuQ2d1QixHQUFvQkUsRUFBY2x1QixNQUV0QyxDQUNBckUsS0FBS3d5QixlQUFpQkYsRUFBb0IsRUFDMUN0eUIsS0FBS3l5QixjQUFnQkosRUFBbUIsRUFDeENyeUIsS0FBSzB5QixzQkFBd0IsSUFBSUMsRUFBQSxFQUFzQixFQUFQNU0sRUFBV3NNLEdBQzNEcnlCLEtBQUs0eUIsdUJBQXlCLElBQUlELEVBQUEsRUFBc0IsRUFBUDVNLEVBQVd1TSxHQUM1RHR5QixLQUFLc0UsWUFBYzZzQixFQUFzQnBMLEdBQ3pDLE1BQU1uYSxFQUFXLElBQUk3SCxFQUFBLEVBQ3JCLElBQUk4dUIsRUFBZ0IsRUFDaEJDLEVBQWUsRUFDbkI5eUIsS0FBSyt5QixjQUFnQixJQUFJQyxFQUFBLEVBQU8sQ0FDOUIxbUIsS0FBTSxJQUFJbkksYUFBYSxHQUN2QnVKLE1BQU8seUJBQ1BILGFBQWEsRUFDYkksTUFBTyxJQUFZQyxPQUFTLElBQVlDLFdBRTFDN04sS0FBS2l6QixlQUFpQixJQUFJRCxFQUFBLEVBQU8sQ0FDL0IxbUIsS0FBTSxJQUFJbkksYUFBYSxHQUN2QnVKLE1BQU8sMEJBQ1BILGFBQWEsRUFDYkksTUFBTyxJQUFZQyxPQUFTLElBQVlDLFdBRTFDLElBQUssTUFBTTNILEtBQUt1ckIsRUFBWSxDQUMxQixNQUFNRyxFQUFXSCxFQUFXdnJCLEdBQ3RCcXNCLEdBQWdCLEVBQUFULEVBQUEsR0FBMkJGLEVBQVN4dEIsUUFDdER3dEIsRUFBU0YsU0FDWDlsQixFQUFTc25CLGFBQWF0QixFQUFTdUIsY0FBZSxDQUM1Q2p2QixPQUFRbEUsS0FBS2l6QixlQUNiNXVCLE9BQThCLEVBQXRCckUsS0FBS3d5QixlQUNiL3lCLE9BQXdCLEVBQWhCb3pCLEVBQ1J6dUIsT0FBUXd0QixFQUFTeHRCLFNBRW5CeXVCLEdBQWlCTixFQUFjeE0sT0FFL0JuYSxFQUFTc25CLGFBQWF0QixFQUFTdUIsY0FBZSxDQUM1Q2p2QixPQUFRbEUsS0FBSyt5QixjQUNiMXVCLE9BQTZCLEVBQXJCckUsS0FBS3l5QixjQUNiaHpCLE9BQXVCLEVBQWZxekIsRUFDUjF1QixPQUFRd3RCLEVBQVN4dEIsU0FFbkIwdUIsR0FBZ0JQLEVBQWN4TSxLQUVsQyxDQUNBbmEsRUFBU3duQixTQUFTcHpCLEtBQUtzRSxhQUN2QixNQUFNK3VCLEVBQWlCcnpCLEtBQUtzekIsa0JBQWtCN0IsR0FDOUN6eEIsS0FBS3V6QixlQUFpQkYsRUFBZUcsY0FDckN4ekIsS0FBS3l6QixjQUFnQkosRUFBZUssYUFDcEMxekIsS0FBSzRMLFNBQVdBLENBQ2xCLENBQ0EsaUJBQUEwbkIsQ0FBa0I3QixHQUNoQixNQUFNa0MsRUE4Q1YsU0FBNEJsQyxHQUMxQixNQUFNbUMsRUFBUyxHQUNmLElBQUssTUFBTUQsS0FBT2xDLEVBQVksQ0FDNUIsTUFBTUcsRUFBV0gsRUFBV2tDLEdBQzVCQyxFQUFPbHhCLEtBQUtpeEIsRUFBSy9CLEVBQVNDLEtBQU1ELEVBQVNGLFFBQVUsSUFBTSxJQUMzRCxDQUNBLE9BQU9rQyxFQUFPcFksS0FBSyxJQUNyQixDQXJEZ0JxWSxDQUFtQnBDLEdBQy9CLE9BQUl6eEIsS0FBS295Qiw2QkFBNkJ1QixLQUd0QzN6QixLQUFLb3lCLDZCQUE2QnVCLEdBQU8zekIsS0FBSzh6Qix1QkFBdUJyQyxJQUY1RHp4QixLQUFLb3lCLDZCQUE2QnVCLEVBSTdDLENBQ0Esc0JBQUFHLENBQXVCckMsR0FDckIsT0QvRUosU0FBd0NBLEdBQ3RDLE1BQU8sQ0FDTCtCLGNBQWVoQyxFQUF1QkMsR0FBWSxHQUNsRGlDLGFBQWNsQyxFQUF1QkMsR0FBWSxHQUVyRCxDQzBFV3NDLENBQStCdEMsRUFDeEMsQ0FDQSxNQUFBcG1CLENBQU8yb0IsRUFBV0MsR0FDWkQsRUFBVXB1QixPQUFTNUYsS0FBS215QixRQUMxQjhCLEdBQWUsRUFDZmowQixLQUFLbXlCLE1BQVEzcUIsS0FBS3dSLElBQUlnYixFQUFVcHVCLE9BQXFCLElBQWI1RixLQUFLbXlCLE1BQWMsR0FDM0RueUIsS0FBSzB5QixzQkFBd0IsSUFBSUMsRUFBQSxFQUFlM3lCLEtBQUtteUIsTUFBUW55QixLQUFLeXlCLGNBQWdCLEVBQUksR0FDdEZ6eUIsS0FBSzR5Qix1QkFBeUIsSUFBSUQsRUFBQSxFQUFlM3lCLEtBQUtteUIsTUFBUW55QixLQUFLd3lCLGVBQWlCLEVBQUksR0FDeEZ4eUIsS0FBS3NFLFlBQWM2c0IsRUFBc0JueEIsS0FBS215QixPQUM5Q255QixLQUFLNEwsU0FBU3RILFlBQVk0dkIsZ0JBQ3hCbDBCLEtBQUtzRSxZQUNMdEUsS0FBS3NFLFlBQVk2dkIsWUFDakIsSUFHSixNQUFNdkIsRUFBeUI1eUIsS0FBSzR5Qix1QkFPcEMsR0FOQTV5QixLQUFLdXpCLGVBQWVTLEVBQVdwQixFQUF1QndCLFlBQWF4QixFQUF1QnlCLFlBQzFGcjBCLEtBQUtpekIsZUFBZWlCLGdCQUNsQmwwQixLQUFLNHlCLHVCQUF1QndCLFlBQzVCSixFQUFVcHVCLE9BQVM1RixLQUFLd3lCLGVBQWlCLEdBQ3pDLEdBRUV5QixFQUFjLENBQ2hCLE1BQU12QixFQUF3QjF5QixLQUFLMHlCLHNCQUNuQzF5QixLQUFLeXpCLGNBQWNPLEVBQVd0QixFQUFzQjBCLFlBQWExQixFQUFzQjJCLFlBQ3ZGcjBCLEtBQUsreUIsY0FBY21CLGdCQUNqQnhCLEVBQXNCMEIsWUFDdEJKLEVBQVVwdUIsT0FBUzVGLEtBQUt5eUIsY0FBZ0IsR0FDeEMsRUFFSixDQUNGLENBQ0EsT0FBQW54QixHQUNFdEIsS0FBSyt5QixjQUFjenhCLFVBQ25CdEIsS0FBS2l6QixlQUFlM3hCLFVBQ3BCdEIsS0FBSzRMLFNBQVN0SyxTQUNoQixFLCtEQ3RIRWd6QixFQUFPLDh5Q0NZWCxNQUFNQyxVQUF1QnRpQixFQUFBLEVBQzNCLFdBQUF6UCxHQWVFaUwsTUFBTSxDQUNKc0UsVUFmZ0J5aUIsRUFBQSxFQUFVeGdCLEtBQUssQ0FDL0IzVyxPQ2ZPLDg5QkRnQlBxVSxTRWhCUyxrTEY4QlRJLFdBWmlCMmlCLEVBQUEsRUFBV3pnQixLQUFLLENBQ2pDdEMsU0FBVSxDQUNSM1MsT0FBUXUxQixFQUNSSSxXQUFZLGdCQUVkcjNCLE9BQVEsQ0FDTjBCLE9BQVF1MUIsRUFDUkksV0FBWSxnQkFNZGxpQixVQUFXLENBRVQyUixTQUFVdGIsRUFBQSxFQUFROHJCLE1BQU01MUIsT0FFeEJxbEIsU0FBVSxJQUFJd1EsRUFBQSxFQUFhLENBQUMsR0FFNUJwcUIsU0FBVSxDQUNScXFCLG1CQUFvQixDQUFFL3ZCLE1BQU8sSUFBSTRILEVBQUEsRUFBVWhKLEtBQU0sZUFDakQ0SyxPQUFRLENBQUV4SixNQUFPLElBQUl5WCxFQUFBLEVBQU0sVUFBVzdZLEtBQU0sYUFDNUM2SyxPQUFRLENBQUV6SixNQUFPLEVBQUdwQixLQUFNLE9BQzFCb3hCLFlBQWEsQ0FBRWh3QixNQUFPLENBQUMsRUFBRyxHQUFJcEIsS0FBTSxnQkFJNUMsRUdwQ0YsTUFBTXF4QixFQUtKLFdBQUF2eUIsQ0FBWXJCLEVBQVVnTixHQUNwQm5PLEtBQUs4TCxNQUFRcVgsRUFBQSxFQUFNRixRQUNuQmpqQixLQUFLZzFCLGVBQWlDbDFCLE9BQU80TyxPQUFPLE1BRXBEMU8sS0FBSzRPLHdCQUEwQjVPLEtBQUs2TyxrQkFBa0JsRyxLQUFLM0ksTUFDM0RBLEtBQUtvTyxjQUFnQixJQUFJeEosRUFBQSxFQUFhLENBQ3BDaXdCLG1CQUFvQixDQUFFL3ZCLE1BQU8sSUFBSTRILEVBQUEsRUFBVWhKLEtBQU0sZUFDakQ0SyxPQUFRLENBQUV4SixNQUFPLElBQUlYLGFBQWEsR0FBSVQsS0FBTSxhQUM1QzZLLE9BQVEsQ0FBRXpKLE1BQU8sRUFBR3BCLEtBQU0sT0FDMUJveEIsWUFBYSxDQUFFaHdCLE1BQU8sQ0FBQyxFQUFHLEdBQUlwQixLQUFNLGVBRXRDMUQsS0FBS21CLFNBQVdBLEVBQ2hCbkIsS0FBS21PLFFBQVVBLEVBQ2ZuTyxLQUFLeXdCLGNBQWdCLElBQUk4RCxFQUN6QnYwQixLQUFLOEwsTUFBUXFYLEVBQUEsRUFBTUYsT0FDckIsQ0FDQSxrQkFBQWhVLENBQW1CZ21CLEdBQ2pCLE9BQU8sQ0FDVCxDQUNBLGFBQUEva0IsQ0FBYy9KLEVBQVl0RCxHQUN4QjdDLEtBQUttQixTQUFTMkIsWUFBWUMsTUFBTUMsTUFBTUgsR0FDdENBLEVBQWViLElBQUltRSxFQUNyQixDQUNBLFVBQUF3cUIsQ0FBV3hxQixHQUNULE9BQU9uRyxLQUFLZzFCLGVBQWU3dUIsRUFBVzBKLE1BQVE3UCxLQUFLazFCLFlBQVkvdUIsRUFDakUsQ0FDQSxXQUFBK3VCLENBQVkvdUIsR0FNVixPQUxBbkcsS0FBS2cxQixlQUFlN3VCLEVBQVcwSixLQUFPLElBQUlxaUIsRUFBZSxDQUN2RG5NLEtBQU01ZixFQUFXK3FCLGlCQUFpQnRyQixPQUNsQzZyQixXQUFZdHJCLEVBQVdndkIsY0FFekJodkIsRUFBV2lMLEdBQUcsWUFBYXBSLEtBQUs0Tyx5QkFDekI1TyxLQUFLZzFCLGVBQWU3dUIsRUFBVzBKLElBQ3hDLENBQ0EsZ0JBQUFVLENBQWlCMGtCLEdBQ2pCLENBQ0EsaUJBQUFwbUIsQ0FBa0IxSSxHQUNEbkcsS0FBS2cxQixlQUFlN3VCLEVBQVcwSixLQUN2Q3ZPLFVBQ1B0QixLQUFLZzFCLGVBQWU3dUIsRUFBVzBKLEtBQU8sS0FDdEMxSixFQUFXd0ssSUFBSSxZQUFhM1EsS0FBSzRPLHdCQUNuQyxDQUNBLE9BQUFyTCxDQUFRWCxHQUNOLE1BQU13eUIsRUFBV3h5QixFQUFVc3VCLGlCQUMzQixHQUF3QixJQUFwQmtFLEVBQVN4dkIsT0FDWCxPQUVGLE1BQU16RSxFQUFXbkIsS0FBS21CLFNBQ2hCK0MsRUFBU2xFLEtBQUsyd0IsV0FBVy90QixHQUMvQkEsRUFBVTdFLFVBQVk2RSxFQUFVN0UsUUFBVXEzQixFQUFTLEdBQUdyM0IsU0FDdEQsTUFBTStOLEVBQVE5TCxLQUFLOEwsTUFDbkI1SCxFQUFPbUgsT0FBTytwQixFQUFVeHlCLEVBQVV5eUIsZ0JBQ2xDenlCLEVBQVV5eUIsZ0JBQWlCLEVBQzNCdnBCLEVBQU0rRSxXQUFZLEVBQUFDLEVBQUEsR0FBMEJsTyxFQUFVaU8sVUFBV2pPLEVBQVU3RSxRQUFReU8sU0FDbkYsTUFBTWhDLEVBQVd4SyxLQUFLb08sY0FBYzVELFNBQzlCOHFCLEVBQXVCOXFCLEVBQVNxcUIsbUJBQ3RDanlCLEVBQVV5RCxlQUFlb0csT0FBTzZvQixHQUNoQ0EsRUFBcUIzb0IsUUFBUXhMLEVBQVN5SCxlQUFlMnNCLGtCQUFrQkMsa0JBQ3ZFaHJCLEVBQVNzcUIsWUFBYzN6QixFQUFTeUgsZUFBZTJzQixrQkFBa0IxMkIsV0FDakUyTCxFQUFTK0QsT0FBU3BOLEVBQVM4UCxhQUFlck8sRUFBVXFPLGNBQ3BELE9BQ0VyTyxFQUFVc08sZ0JBQ1YxRyxFQUFTOEQsT0FDVCxHQUVGdE8sS0FBS21PLFFBQVE1SyxRQUFRdkQsS0FBTTRDLEVBQzdCLENBRUEsT0FBQXRCLEdBQ010QixLQUFLeXdCLGdCQUNQendCLEtBQUt5d0IsY0FBY252QixVQUNuQnRCLEtBQUt5d0IsY0FBZ0IsS0FFekIsRUNsRkYsTUFBTWdGLFVBQWdDVixFQUNwQyxXQUFBdnlCLENBQVlyQixHQUNWc00sTUFBTXRNLEVBQVUsSUFBSW92QixFQUN0QixFQUdGa0YsRUFBd0JsMEIsVUFBWSxDQUNsQ21DLEtBQU0sQ0FDSixLQUFjQyxZQUVoQnZHLEtBQU0sWUNkUixNQUFNczRCLEVBQ0osT0FBQW55QixDQUFRaXRCLEVBQXVCNXRCLEdBQzdCLE1BQU16QixFQUFXcXZCLEVBQXNCcnZCLFNBQ2pDMEssRUFBU2pKLEVBQVVpSixRQUFVMmtCLEVBQXNCQyxjQUN6RDVrQixFQUFPSixPQUFPLEdBQUt0SyxFQUFTMkIsWUFBWXdJLGFBQWFxcUIsb0JBQW9CbkYsRUFBc0JwaUIsZUFBZSxHQUM5R3ZDLEVBQU9KLE9BQU8sR0FBS3RLLEVBQVNwRCxRQUFRNjNCLG9CQUFvQmh6QixFQUFVN0UsU0FDbEUsTUFBTStOLEVBQVEwa0IsRUFBc0Ixa0IsTUFDOUI1SCxFQUFTc3NCLEVBQXNCRyxXQUFXL3RCLEdBQ2hEekIsRUFBU3VLLFFBQVFDLEtBQUssQ0FDcEJDLFNBQVUxSCxFQUFPMEgsU0FDakJDLE9BQVFqSixFQUFVaUosUUFBVTJrQixFQUFzQkMsY0FDbEQza0IsUUFDQWlhLEtBQTBDLEVBQXBDbmpCLEVBQVVzdUIsaUJBQWlCdHJCLFFBRXJDLEVDVkYsTUFBTWl3QixVQUFpQ2QsRUFDckMsV0FBQXZ5QixDQUFZckIsR0FDVnNNLE1BQU10TSxFQUFVLElBQUl1MEIsRUFDdEIsRUFHRkcsRUFBeUJ0MEIsVUFBWSxDQUNuQ21DLEtBQU0sQ0FDSixLQUFjRSxhQUVoQnhHLEtBQU0sWUNWUixLQUFXNEUsSUFBSXl6QixHQUNmLEtBQVd6ekIsSUFBSTZ6QixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2xvY2FsVW5pZm9ybUJpdC5tanMiLCJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC91dGlscy91cGRhdGVUZXh0Qm91bmRzLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3V0aWxzL2dldFBvMlRleHR1cmVGcm9tU291cmNlLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9ncmFwaGljcy9ncHUvY29sb3JUb1VuaWZvcm0ubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2FwcC9SZXNpemVQbHVnaW4ubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2FwcC9UaWNrZXJQbHVnaW4ubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2FwcC9pbml0Lm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL0ZpbHRlclBpcGUubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvRmlsdGVyU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvYm91bmRzL2dldFJlbmRlcmFibGVCb3VuZHMubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvaW5pdC5tanMiLCJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvbWVzaC9zaGFyZWQvTWVzaEdlb21ldHJ5Lm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9tZXNoL3NoYXJlZC9NZXNoUGlwZS5tanMiLCJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvbWVzaC9pbml0Lm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3NkZlNoYWRlci9zaGFkZXItYml0cy9sb2NhbFVuaWZvcm1NU0RGQml0Lm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3NkZlNoYWRlci9zaGFkZXItYml0cy9tU0RGQml0Lm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3NkZlNoYWRlci9TZGZTaGFkZXIubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtYml0bWFwL0JpdG1hcFRleHRQaXBlLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC9pbml0Lm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L2NhbnZhcy9DYW52YXNUZXh0UGlwZS5tanMiLCJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvdXRpbHMvY2FudmFzL2dldENhbnZhc0JvdW5kaW5nQm94Lm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L2NhbnZhcy9DYW52YXNUZXh0U3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L2luaXQubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL21lc2gtcGxhbmUvUGxhbmVHZW9tZXRyeS5tanMiLCJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLW5pbmUtc2xpY2UvTmluZVNsaWNlR2VvbWV0cnkubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS1uaW5lLXNsaWNlL05pbmVTbGljZVNwcml0ZVBpcGUubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS1uaW5lLXNsaWNlL2luaXQubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUvQmF0Y2hhYmxlU3ByaXRlLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUtdGlsaW5nL3NoYWRlci90aWxpbmdCaXQubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvc2hhZGVyL1RpbGluZ1Nwcml0ZVNoYWRlci5tanMiLCJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy91dGlscy9RdWFkR2VvbWV0cnkubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvVGlsaW5nU3ByaXRlUGlwZS5tanMiLCJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy91dGlscy9zZXRVdnMubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvdXRpbHMvYXBwbHlNYXRyaXgubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvdXRpbHMvc2V0UG9zaXRpb25zLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUtdGlsaW5nL2luaXQubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL21lc2gvc2hhcmVkL0JhdGNoYWJsZU1lc2gubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2dyYXBoaWNzL3NoYXJlZC9HcmFwaGljc1BpcGUubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2dyYXBoaWNzL2luaXQubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC9IVE1MVGV4dFBpcGUubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC9IVE1MVGV4dFJlbmRlckRhdGEubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC91dGlscy90ZXh0U3R5bGVUb0NTUy5tanMiLCJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL0hUTUxUZXh0U3R5bGUubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC91dGlscy9sb2FkRm9udENTUy5tanMiLCJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC1odG1sL3V0aWxzL2xvYWRGb250QXNCYXNlNjQubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC91dGlscy9nZXRGb250Q3NzLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvbWVhc3VyZUh0bWxUZXh0Lm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvSFRNTFRleHRTeXN0ZW0ubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC91dGlscy9leHRyYWN0Rm9udEZhbWlsaWVzLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvZ2V0U1ZHVXJsLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvbG9hZFNWR0ltYWdlLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi91dGlscy9icm93c2VyL2lzU2FmYXJpLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvZ2V0VGVtcG9yYXJ5Q2FudmFzRnJvbUltYWdlLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvaW5pdC5tanMiLCJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL2dsL0dsUGFydGljbGVDb250YWluZXJBZGFwdG9yLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvc2hhcmVkL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcy5tanMiLCJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL3NoYXJlZC91dGlscy9nZW5lcmF0ZVBhcnRpY2xlVXBkYXRlRnVuY3Rpb24ubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvUGFydGljbGVCdWZmZXIubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvc2hhZGVyL3BhcnRpY2xlcy53Z3NsLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvc2hhcmVkL3NoYWRlci9QYXJ0aWNsZVNoYWRlci5tanMiLCJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL3NoYXJlZC9zaGFkZXIvcGFydGljbGVzLnZlcnQubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvc2hhZGVyL3BhcnRpY2xlcy5mcmFnLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvc2hhcmVkL1BhcnRpY2xlQ29udGFpbmVyUGlwZS5tanMiLCJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL3NoYXJlZC9HbFBhcnRpY2xlQ29udGFpbmVyUGlwZS5tanMiLCJ3ZWJwYWNrOi8vcGl4aS1taW5pLWdhbWUvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL2dwdS9HcHVQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IubWpzIiwid2VicGFjazovL3BpeGktbWluaS1nYW1lLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvR3B1UGFydGljbGVDb250YWluZXJQaXBlLm1qcyIsIndlYnBhY2s6Ly9waXhpLW1pbmktZ2FtZS8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvaW5pdC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBsb2NhbFVuaWZvcm1CaXQgPSB7XG4gIG5hbWU6IFwibG9jYWwtdW5pZm9ybS1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG5cbiAgICAgICAgICAgIHN0cnVjdCBMb2NhbFVuaWZvcm1zIHtcbiAgICAgICAgICAgICAgICB1VHJhbnNmb3JtTWF0cml4Om1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVDb2xvcjp2ZWM0PGYzMj4sXG4gICAgICAgICAgICAgICAgdVJvdW5kOmYzMixcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQGdyb3VwKDEpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiBsb2NhbFVuaWZvcm1zIDogTG9jYWxVbmlmb3JtcztcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdkNvbG9yICo9IGxvY2FsVW5pZm9ybXMudUNvbG9yO1xuICAgICAgICAgICAgbW9kZWxNYXRyaXggKj0gbG9jYWxVbmlmb3Jtcy51VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICBgXG4gICAgKSxcbiAgICBlbmQ6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGlmKGxvY2FsVW5pZm9ybXMudVJvdW5kID09IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdlBvc2l0aW9uID0gdmVjNChyb3VuZFBpeGVscyh2UG9zaXRpb24ueHksIGdsb2JhbFVuaWZvcm1zLnVSZXNvbHV0aW9uKSwgdlBvc2l0aW9uLnp3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcbmNvbnN0IGxvY2FsVW5pZm9ybUJpdEdyb3VwMiA9IHtcbiAgLi4ubG9jYWxVbmlmb3JtQml0LFxuICB2ZXJ0ZXg6IHtcbiAgICAuLi5sb2NhbFVuaWZvcm1CaXQudmVydGV4LFxuICAgIC8vIHJlcGxhY2UgdGhlIGdyb3VwIVxuICAgIGhlYWRlcjogbG9jYWxVbmlmb3JtQml0LnZlcnRleC5oZWFkZXIucmVwbGFjZShcImdyb3VwKDEpXCIsIFwiZ3JvdXAoMilcIilcbiAgfVxufTtcbmNvbnN0IGxvY2FsVW5pZm9ybUJpdEdsID0ge1xuICBuYW1lOiBcImxvY2FsLXVuaWZvcm0tYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuXG4gICAgICAgICAgICB1bmlmb3JtIG1hdDMgdVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjNCB1Q29sb3I7XG4gICAgICAgICAgICB1bmlmb3JtIGZsb2F0IHVSb3VuZDtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdkNvbG9yICo9IHVDb2xvcjtcbiAgICAgICAgICAgIG1vZGVsTWF0cml4ID0gdVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgZW5kOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICBpZih1Um91bmQgPT0gMS4pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24ueHkgPSByb3VuZFBpeGVscyhnbF9Qb3NpdGlvbi54eSwgdVJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyBsb2NhbFVuaWZvcm1CaXQsIGxvY2FsVW5pZm9ybUJpdEdsLCBsb2NhbFVuaWZvcm1CaXRHcm91cDIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2FsVW5pZm9ybUJpdC5tanMubWFwXG4iLCJpbXBvcnQgeyB1cGRhdGVRdWFkQm91bmRzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZGF0YS91cGRhdGVRdWFkQm91bmRzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gdXBkYXRlVGV4dEJvdW5kcyhiYXRjaGFibGVTcHJpdGUsIHRleHQpIHtcbiAgY29uc3QgeyB0ZXh0dXJlLCBib3VuZHMgfSA9IGJhdGNoYWJsZVNwcml0ZTtcbiAgdXBkYXRlUXVhZEJvdW5kcyhib3VuZHMsIHRleHQuX2FuY2hvciwgdGV4dHVyZSk7XG4gIGNvbnN0IHBhZGRpbmcgPSB0ZXh0Ll9zdHlsZS5wYWRkaW5nO1xuICBib3VuZHMubWluWCAtPSBwYWRkaW5nO1xuICBib3VuZHMubWluWSAtPSBwYWRkaW5nO1xuICBib3VuZHMubWF4WCAtPSBwYWRkaW5nO1xuICBib3VuZHMubWF4WSAtPSBwYWRkaW5nO1xufVxuXG5leHBvcnQgeyB1cGRhdGVUZXh0Qm91bmRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGRhdGVUZXh0Qm91bmRzLm1qcy5tYXBcbiIsImltcG9ydCB7IFRleHR1cmVQb29sIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlUG9vbC5tanMnO1xuaW1wb3J0IHsgQm91bmRzIH0gZnJvbSAnLi4vLi4vY29udGFpbmVyL2JvdW5kcy9Cb3VuZHMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZW1wQm91bmRzID0gbmV3IEJvdW5kcygpO1xuZnVuY3Rpb24gZ2V0UG8yVGV4dHVyZUZyb21Tb3VyY2UoaW1hZ2UsIHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgY29uc3QgYm91bmRzID0gdGVtcEJvdW5kcztcbiAgYm91bmRzLm1pblggPSAwO1xuICBib3VuZHMubWluWSA9IDA7XG4gIGJvdW5kcy5tYXhYID0gaW1hZ2Uud2lkdGggLyByZXNvbHV0aW9uIHwgMDtcbiAgYm91bmRzLm1heFkgPSBpbWFnZS5oZWlnaHQgLyByZXNvbHV0aW9uIHwgMDtcbiAgY29uc3QgdGV4dHVyZSA9IFRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKFxuICAgIGJvdW5kcy53aWR0aCxcbiAgICBib3VuZHMuaGVpZ2h0LFxuICAgIHJlc29sdXRpb24sXG4gICAgZmFsc2VcbiAgKTtcbiAgdGV4dHVyZS5zb3VyY2UudXBsb2FkTWV0aG9kSWQgPSBcImltYWdlXCI7XG4gIHRleHR1cmUuc291cmNlLnJlc291cmNlID0gaW1hZ2U7XG4gIHRleHR1cmUuc291cmNlLmFscGhhTW9kZSA9IFwicHJlbXVsdGlwbHktYWxwaGEtb24tdXBsb2FkXCI7XG4gIHRleHR1cmUuZnJhbWUud2lkdGggPSB3aWR0aCAvIHJlc29sdXRpb247XG4gIHRleHR1cmUuZnJhbWUuaGVpZ2h0ID0gaGVpZ2h0IC8gcmVzb2x1dGlvbjtcbiAgdGV4dHVyZS5zb3VyY2UuZW1pdChcInVwZGF0ZVwiLCB0ZXh0dXJlLnNvdXJjZSk7XG4gIHRleHR1cmUudXBkYXRlVXZzKCk7XG4gIHJldHVybiB0ZXh0dXJlO1xufVxuXG5leHBvcnQgeyBnZXRQbzJUZXh0dXJlRnJvbVNvdXJjZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0UG8yVGV4dHVyZUZyb21Tb3VyY2UubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBjb2xvclRvVW5pZm9ybShyZ2IsIGFscGhhLCBvdXQsIG9mZnNldCkge1xuICBvdXRbb2Zmc2V0KytdID0gKHJnYiA+PiAxNiAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSAocmdiID4+IDggJiAyNTUpIC8gMjU1O1xuICBvdXRbb2Zmc2V0KytdID0gKHJnYiAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSBhbHBoYTtcbn1cbmZ1bmN0aW9uIGNvbG9yMzJCaXRUb1VuaWZvcm0oYWJnciwgb3V0LCBvZmZzZXQpIHtcbiAgY29uc3QgYWxwaGEgPSAoYWJnciA+PiAyNCAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSAoYWJnciAmIDI1NSkgLyAyNTUgKiBhbHBoYTtcbiAgb3V0W29mZnNldCsrXSA9IChhYmdyID4+IDggJiAyNTUpIC8gMjU1ICogYWxwaGE7XG4gIG91dFtvZmZzZXQrK10gPSAoYWJnciA+PiAxNiAmIDI1NSkgLyAyNTUgKiBhbHBoYTtcbiAgb3V0W29mZnNldCsrXSA9IGFscGhhO1xufVxuXG5leHBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtLCBjb2xvclRvVW5pZm9ybSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sb3JUb1VuaWZvcm0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFJlc2l6ZVBsdWdpbiB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgKiBAc3RhdGljXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUgYXBwbGljYXRpb24gb3B0aW9uc1xuICAgKi9cbiAgc3RhdGljIGluaXQob3B0aW9ucykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgIHRoaXMsXG4gICAgICBcInJlc2l6ZVRvXCIsXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBIVE1MIGVsZW1lbnQgb3Igd2luZG93IHRvIGF1dG9tYXRpY2FsbHkgcmVzaXplIHRoZVxuICAgICAgICogcmVuZGVyZXIncyB2aWV3IGVsZW1lbnQgdG8gbWF0Y2ggd2lkdGggYW5kIGhlaWdodC5cbiAgICAgICAqIEBtZW1iZXIge1dpbmRvd3xIVE1MRWxlbWVudH1cbiAgICAgICAqIEBuYW1lIHJlc2l6ZVRvXG4gICAgICAgKiBAbWVtYmVyb2YgYXBwLkFwcGxpY2F0aW9uI1xuICAgICAgICovXG4gICAgICB7XG4gICAgICAgIHNldChkb20pIHtcbiAgICAgICAgICBnbG9iYWxUaGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5xdWV1ZVJlc2l6ZSk7XG4gICAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBkb207XG4gICAgICAgICAgaWYgKGRvbSkge1xuICAgICAgICAgICAgZ2xvYmFsVGhpcy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucXVldWVSZXNpemUpO1xuICAgICAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzaXplVG87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMucXVldWVSZXNpemUgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX3Jlc2l6ZVRvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NhbmNlbFJlc2l6ZSgpO1xuICAgICAgdGhpcy5fcmVzaXplSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5yZXNpemUoKSk7XG4gICAgfTtcbiAgICB0aGlzLl9jYW5jZWxSZXNpemUgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fcmVzaXplSWQpIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVzaXplSWQpO1xuICAgICAgICB0aGlzLl9yZXNpemVJZCA9IG51bGw7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fcmVzaXplVG8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fY2FuY2VsUmVzaXplKCk7XG4gICAgICBsZXQgd2lkdGg7XG4gICAgICBsZXQgaGVpZ2h0O1xuICAgICAgaWYgKHRoaXMuX3Jlc2l6ZVRvID09PSBnbG9iYWxUaGlzLndpbmRvdykge1xuICAgICAgICB3aWR0aCA9IGdsb2JhbFRoaXMuaW5uZXJXaWR0aDtcbiAgICAgICAgaGVpZ2h0ID0gZ2xvYmFsVGhpcy5pbm5lckhlaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCB9ID0gdGhpcy5fcmVzaXplVG87XG4gICAgICAgIHdpZHRoID0gY2xpZW50V2lkdGg7XG4gICAgICAgIGhlaWdodCA9IGNsaWVudEhlaWdodDtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVuZGVyZXIucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9O1xuICAgIHRoaXMuX3Jlc2l6ZUlkID0gbnVsbDtcbiAgICB0aGlzLl9yZXNpemVUbyA9IG51bGw7XG4gICAgdGhpcy5yZXNpemVUbyA9IG9wdGlvbnMucmVzaXplVG8gfHwgbnVsbDtcbiAgfVxuICAvKipcbiAgICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBkZXN0cm95KCkge1xuICAgIGdsb2JhbFRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnF1ZXVlUmVzaXplKTtcbiAgICB0aGlzLl9jYW5jZWxSZXNpemUoKTtcbiAgICB0aGlzLl9jYW5jZWxSZXNpemUgPSBudWxsO1xuICAgIHRoaXMucXVldWVSZXNpemUgPSBudWxsO1xuICAgIHRoaXMucmVzaXplVG8gPSBudWxsO1xuICAgIHRoaXMucmVzaXplID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cblJlc2l6ZVBsdWdpbi5leHRlbnNpb24gPSBFeHRlbnNpb25UeXBlLkFwcGxpY2F0aW9uO1xuXG5leHBvcnQgeyBSZXNpemVQbHVnaW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc2l6ZVBsdWdpbi5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICcuLi90aWNrZXIvY29uc3QubWpzJztcbmltcG9ydCB7IFRpY2tlciB9IGZyb20gJy4uL3RpY2tlci9UaWNrZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBUaWNrZXJQbHVnaW4ge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2luIHdpdGggc2NvcGUgb2YgYXBwbGljYXRpb24gaW5zdGFuY2VcbiAgICogQHN0YXRpY1xuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICovXG4gIHN0YXRpYyBpbml0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBhdXRvU3RhcnQ6IHRydWUsXG4gICAgICBzaGFyZWRUaWNrZXI6IGZhbHNlXG4gICAgfSwgb3B0aW9ucyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgdGhpcyxcbiAgICAgIFwidGlja2VyXCIsXG4gICAgICB7XG4gICAgICAgIHNldCh0aWNrZXIpIHtcbiAgICAgICAgICBpZiAodGhpcy5fdGlja2VyKSB7XG4gICAgICAgICAgICB0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fdGlja2VyID0gdGlja2VyO1xuICAgICAgICAgIGlmICh0aWNrZXIpIHtcbiAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIFVQREFURV9QUklPUklUWS5MT1cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl90aWNrZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMuc3RvcCA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3RpY2tlci5zdG9wKCk7XG4gICAgfTtcbiAgICB0aGlzLnN0YXJ0ID0gKCkgPT4ge1xuICAgICAgdGhpcy5fdGlja2VyLnN0YXJ0KCk7XG4gICAgfTtcbiAgICB0aGlzLl90aWNrZXIgPSBudWxsO1xuICAgIHRoaXMudGlja2VyID0gb3B0aW9ucy5zaGFyZWRUaWNrZXIgPyBUaWNrZXIuc2hhcmVkIDogbmV3IFRpY2tlcigpO1xuICAgIGlmIChvcHRpb25zLmF1dG9TdGFydCkge1xuICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uLlxuICAgKiBAc3RhdGljXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5fdGlja2VyKSB7XG4gICAgICBjb25zdCBvbGRUaWNrZXIgPSB0aGlzLl90aWNrZXI7XG4gICAgICB0aGlzLnRpY2tlciA9IG51bGw7XG4gICAgICBvbGRUaWNrZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cblRpY2tlclBsdWdpbi5leHRlbnNpb24gPSBFeHRlbnNpb25UeXBlLkFwcGxpY2F0aW9uO1xuXG5leHBvcnQgeyBUaWNrZXJQbHVnaW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpY2tlclBsdWdpbi5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBSZXNpemVQbHVnaW4gfSBmcm9tICcuL1Jlc2l6ZVBsdWdpbi5tanMnO1xuaW1wb3J0IHsgVGlja2VyUGx1Z2luIH0gZnJvbSAnLi9UaWNrZXJQbHVnaW4ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChSZXNpemVQbHVnaW4pO1xuZXh0ZW5zaW9ucy5hZGQoVGlja2VyUGx1Z2luKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEZpbHRlclBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcHVzaChmaWx0ZXJFZmZlY3QsIGNvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCByZW5kZXJQaXBlcyA9IHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzO1xuICAgIHJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcImZpbHRlclwiLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZSxcbiAgICAgIGFjdGlvbjogXCJwdXNoRmlsdGVyXCIsXG4gICAgICBjb250YWluZXIsXG4gICAgICBmaWx0ZXJFZmZlY3RcbiAgICB9KTtcbiAgfVxuICBwb3AoX2ZpbHRlckVmZmVjdCwgX2NvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJmaWx0ZXJcIixcbiAgICAgIGFjdGlvbjogXCJwb3BGaWx0ZXJcIixcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICB9KTtcbiAgfVxuICBleGVjdXRlKGluc3RydWN0aW9uKSB7XG4gICAgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwdXNoRmlsdGVyXCIpIHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLmZpbHRlci5wdXNoKGluc3RydWN0aW9uKTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwb3BGaWx0ZXJcIikge1xuICAgICAgdGhpcy5fcmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuRmlsdGVyUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiZmlsdGVyXCJcbn07XG5cbmV4cG9ydCB7IEZpbHRlclBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbHRlclBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9tYXRocy9wb2ludC9Qb2ludC5tanMnO1xuaW1wb3J0IHsgQmluZEdyb3VwIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc2hhZGVyL0JpbmRHcm91cC5tanMnO1xuaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9nZW9tZXRyeS9HZW9tZXRyeS5tanMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVBvb2wgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVQb29sLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJlclR5cGUgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyBCb3VuZHMgfSBmcm9tICcuLi9zY2VuZS9jb250YWluZXIvYm91bmRzL0JvdW5kcy5tanMnO1xuaW1wb3J0IHsgZ2V0R2xvYmFsUmVuZGVyYWJsZUJvdW5kcyB9IGZyb20gJy4uL3NjZW5lL2NvbnRhaW5lci9ib3VuZHMvZ2V0UmVuZGVyYWJsZUJvdW5kcy5tanMnO1xuaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uL3V0aWxzL2xvZ2dpbmcvd2Fybi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHF1YWRHZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSh7XG4gIGF0dHJpYnV0ZXM6IHtcbiAgICBhUG9zaXRpb246IHtcbiAgICAgIGJ1ZmZlcjogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pLFxuICAgICAgZm9ybWF0OiBcImZsb2F0MzJ4MlwiLFxuICAgICAgc3RyaWRlOiAyICogNCxcbiAgICAgIG9mZnNldDogMFxuICAgIH1cbiAgfSxcbiAgaW5kZXhCdWZmZXI6IG5ldyBVaW50MzJBcnJheShbMCwgMSwgMiwgMCwgMiwgM10pXG59KTtcbmNsYXNzIEZpbHRlclN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fZmlsdGVyU3RhY2tJbmRleCA9IDA7XG4gICAgdGhpcy5fZmlsdGVyU3RhY2sgPSBbXTtcbiAgICB0aGlzLl9maWx0ZXJHbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgdUlucHV0U2l6ZTogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheSg0KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdUlucHV0UGl4ZWw6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoNCksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVJbnB1dENsYW1wOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KDQpLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1T3V0cHV0RnJhbWU6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoNCksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVHbG9iYWxGcmFtZTogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheSg0KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdU91dHB1dFRleHR1cmU6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoNCksIHR5cGU6IFwidmVjNDxmMzI+XCIgfVxuICAgIH0pO1xuICAgIHRoaXMuX2dsb2JhbEZpbHRlckJpbmRHcm91cCA9IG5ldyBCaW5kR3JvdXAoe30pO1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICAvKipcbiAgICogVGhlIGJhY2sgdGV4dHVyZSBvZiB0aGUgY3VycmVudGx5IGFjdGl2ZSBmaWx0ZXIuIFJlcXVpcmVzIHRoZSBmaWx0ZXIgdG8gaGF2ZSBgYmxlbmRSZXF1aXJlZGAgc2V0IHRvIHRydWUuXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGFjdGl2ZUJhY2tUZXh0dXJlKCkge1xuICAgIHJldHVybiB0aGlzLl9hY3RpdmVGaWx0ZXJEYXRhPy5iYWNrVGV4dHVyZTtcbiAgfVxuICBwdXNoKGluc3RydWN0aW9uKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIGNvbnN0IGZpbHRlcnMgPSBpbnN0cnVjdGlvbi5maWx0ZXJFZmZlY3QuZmlsdGVycztcbiAgICBpZiAoIXRoaXMuX2ZpbHRlclN0YWNrW3RoaXMuX2ZpbHRlclN0YWNrSW5kZXhdKSB7XG4gICAgICB0aGlzLl9maWx0ZXJTdGFja1t0aGlzLl9maWx0ZXJTdGFja0luZGV4XSA9IHRoaXMuX2dldEZpbHRlckRhdGEoKTtcbiAgICB9XG4gICAgY29uc3QgZmlsdGVyRGF0YSA9IHRoaXMuX2ZpbHRlclN0YWNrW3RoaXMuX2ZpbHRlclN0YWNrSW5kZXhdO1xuICAgIHRoaXMuX2ZpbHRlclN0YWNrSW5kZXgrKztcbiAgICBpZiAoZmlsdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGZpbHRlckRhdGEuc2tpcCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGJvdW5kcyA9IGZpbHRlckRhdGEuYm91bmRzO1xuICAgIGlmIChpbnN0cnVjdGlvbi5yZW5kZXJhYmxlcykge1xuICAgICAgZ2V0R2xvYmFsUmVuZGVyYWJsZUJvdW5kcyhpbnN0cnVjdGlvbi5yZW5kZXJhYmxlcywgYm91bmRzKTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uLmZpbHRlckVmZmVjdC5maWx0ZXJBcmVhKSB7XG4gICAgICBib3VuZHMuY2xlYXIoKTtcbiAgICAgIGJvdW5kcy5hZGRSZWN0KGluc3RydWN0aW9uLmZpbHRlckVmZmVjdC5maWx0ZXJBcmVhKTtcbiAgICAgIGJvdW5kcy5hcHBseU1hdHJpeChpbnN0cnVjdGlvbi5jb250YWluZXIud29ybGRUcmFuc2Zvcm0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0cnVjdGlvbi5jb250YWluZXIuZ2V0RmFzdEdsb2JhbEJvdW5kcyh0cnVlLCBib3VuZHMpO1xuICAgIH1cbiAgICBpZiAoaW5zdHJ1Y3Rpb24uY29udGFpbmVyKSB7XG4gICAgICBjb25zdCByZW5kZXJHcm91cCA9IGluc3RydWN0aW9uLmNvbnRhaW5lci5yZW5kZXJHcm91cCB8fCBpbnN0cnVjdGlvbi5jb250YWluZXIucGFyZW50UmVuZGVyR3JvdXA7XG4gICAgICBjb25zdCBmaWx0ZXJGcmFtZVRyYW5zZm9ybSA9IHJlbmRlckdyb3VwLmNhY2hlVG9Mb2NhbFRyYW5zZm9ybTtcbiAgICAgIGlmIChmaWx0ZXJGcmFtZVRyYW5zZm9ybSkge1xuICAgICAgICBib3VuZHMuYXBwbHlNYXRyaXgoZmlsdGVyRnJhbWVUcmFuc2Zvcm0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjb2xvclRleHR1cmVTb3VyY2UgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0LmNvbG9yVGV4dHVyZS5zb3VyY2U7XG4gICAgbGV0IHJlc29sdXRpb24gPSBJbmZpbml0eTtcbiAgICBsZXQgcGFkZGluZyA9IDA7XG4gICAgbGV0IGFudGlhbGlhcyA9IHRydWU7XG4gICAgbGV0IGJsZW5kUmVxdWlyZWQgPSBmYWxzZTtcbiAgICBsZXQgZW5hYmxlZCA9IGZhbHNlO1xuICAgIGxldCBjbGlwVG9WaWV3cG9ydCA9IHRydWU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBmaWx0ZXIgPSBmaWx0ZXJzW2ldO1xuICAgICAgcmVzb2x1dGlvbiA9IE1hdGgubWluKHJlc29sdXRpb24sIGZpbHRlci5yZXNvbHV0aW9uID09PSBcImluaGVyaXRcIiA/IGNvbG9yVGV4dHVyZVNvdXJjZS5fcmVzb2x1dGlvbiA6IGZpbHRlci5yZXNvbHV0aW9uKTtcbiAgICAgIHBhZGRpbmcgKz0gZmlsdGVyLnBhZGRpbmc7XG4gICAgICBpZiAoZmlsdGVyLmFudGlhbGlhcyA9PT0gXCJvZmZcIikge1xuICAgICAgICBhbnRpYWxpYXMgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyLmFudGlhbGlhcyA9PT0gXCJpbmhlcml0XCIpIHtcbiAgICAgICAgYW50aWFsaWFzICYmIChhbnRpYWxpYXMgPSBjb2xvclRleHR1cmVTb3VyY2UuYW50aWFsaWFzKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyLmNsaXBUb1ZpZXdwb3J0KSB7XG4gICAgICAgIGNsaXBUb1ZpZXdwb3J0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBpc0NvbXBhdGlibGUgPSAhIShmaWx0ZXIuY29tcGF0aWJsZVJlbmRlcmVycyAmIHJlbmRlcmVyLnR5cGUpO1xuICAgICAgaWYgKCFpc0NvbXBhdGlibGUpIHtcbiAgICAgICAgZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChmaWx0ZXIuYmxlbmRSZXF1aXJlZCAmJiAhKHJlbmRlcmVyLmJhY2tCdWZmZXI/LnVzZUJhY2tCdWZmZXIgPz8gdHJ1ZSkpIHtcbiAgICAgICAgd2FybihcIkJsZW5kIGZpbHRlciByZXF1aXJlcyBiYWNrQnVmZmVyIG9uIFdlYkdMIHJlbmRlcmVyIHRvIGJlIGVuYWJsZWQuIFNldCBgdXNlQmFja0J1ZmZlcjogdHJ1ZWAgaW4gdGhlIHJlbmRlcmVyIG9wdGlvbnMuXCIpO1xuICAgICAgICBlbmFibGVkID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZW5hYmxlZCA9IGZpbHRlci5lbmFibGVkIHx8IGVuYWJsZWQ7XG4gICAgICBibGVuZFJlcXVpcmVkIHx8IChibGVuZFJlcXVpcmVkID0gZmlsdGVyLmJsZW5kUmVxdWlyZWQpO1xuICAgIH1cbiAgICBpZiAoIWVuYWJsZWQpIHtcbiAgICAgIGZpbHRlckRhdGEuc2tpcCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjbGlwVG9WaWV3cG9ydCkge1xuICAgICAgY29uc3Qgdmlld1BvcnQgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucm9vdFZpZXdQb3J0O1xuICAgICAgY29uc3Qgcm9vdFJlc29sdXRpb24gPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0LnJlc29sdXRpb247XG4gICAgICBib3VuZHMuZml0Qm91bmRzKDAsIHZpZXdQb3J0LndpZHRoIC8gcm9vdFJlc29sdXRpb24sIDAsIHZpZXdQb3J0LmhlaWdodCAvIHJvb3RSZXNvbHV0aW9uKTtcbiAgICB9XG4gICAgYm91bmRzLnNjYWxlKHJlc29sdXRpb24pLmNlaWwoKS5zY2FsZSgxIC8gcmVzb2x1dGlvbikucGFkKHBhZGRpbmcgfCAwKTtcbiAgICBpZiAoIWJvdW5kcy5pc1Bvc2l0aXZlKSB7XG4gICAgICBmaWx0ZXJEYXRhLnNraXAgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaWx0ZXJEYXRhLnNraXAgPSBmYWxzZTtcbiAgICBmaWx0ZXJEYXRhLmJvdW5kcyA9IGJvdW5kcztcbiAgICBmaWx0ZXJEYXRhLmJsZW5kUmVxdWlyZWQgPSBibGVuZFJlcXVpcmVkO1xuICAgIGZpbHRlckRhdGEuY29udGFpbmVyID0gaW5zdHJ1Y3Rpb24uY29udGFpbmVyO1xuICAgIGZpbHRlckRhdGEuZmlsdGVyRWZmZWN0ID0gaW5zdHJ1Y3Rpb24uZmlsdGVyRWZmZWN0O1xuICAgIGZpbHRlckRhdGEucHJldmlvdXNSZW5kZXJTdXJmYWNlID0gcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnJlbmRlclN1cmZhY2U7XG4gICAgZmlsdGVyRGF0YS5pbnB1dFRleHR1cmUgPSBUZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShcbiAgICAgIGJvdW5kcy53aWR0aCxcbiAgICAgIGJvdW5kcy5oZWlnaHQsXG4gICAgICByZXNvbHV0aW9uLFxuICAgICAgYW50aWFsaWFzXG4gICAgKTtcbiAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQuYmluZChmaWx0ZXJEYXRhLmlucHV0VGV4dHVyZSwgdHJ1ZSk7XG4gICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMucHVzaCh7XG4gICAgICBvZmZzZXQ6IGJvdW5kc1xuICAgIH0pO1xuICB9XG4gIHBvcCgpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgdGhpcy5fZmlsdGVyU3RhY2tJbmRleC0tO1xuICAgIGNvbnN0IGZpbHRlckRhdGEgPSB0aGlzLl9maWx0ZXJTdGFja1t0aGlzLl9maWx0ZXJTdGFja0luZGV4XTtcbiAgICBpZiAoZmlsdGVyRGF0YS5za2lwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZUZpbHRlckRhdGEgPSBmaWx0ZXJEYXRhO1xuICAgIGNvbnN0IGlucHV0VGV4dHVyZSA9IGZpbHRlckRhdGEuaW5wdXRUZXh0dXJlO1xuICAgIGNvbnN0IGJvdW5kcyA9IGZpbHRlckRhdGEuYm91bmRzO1xuICAgIGxldCBiYWNrVGV4dHVyZSA9IFRleHR1cmUuRU1QVFk7XG4gICAgcmVuZGVyZXIucmVuZGVyVGFyZ2V0LmZpbmlzaFJlbmRlclBhc3MoKTtcbiAgICBpZiAoZmlsdGVyRGF0YS5ibGVuZFJlcXVpcmVkKSB7XG4gICAgICBjb25zdCBwcmV2aW91c0JvdW5kcyA9IHRoaXMuX2ZpbHRlclN0YWNrSW5kZXggPiAwID8gdGhpcy5fZmlsdGVyU3RhY2tbdGhpcy5fZmlsdGVyU3RhY2tJbmRleCAtIDFdLmJvdW5kcyA6IG51bGw7XG4gICAgICBjb25zdCByZW5kZXJUYXJnZXQgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQuZ2V0UmVuZGVyVGFyZ2V0KGZpbHRlckRhdGEucHJldmlvdXNSZW5kZXJTdXJmYWNlKTtcbiAgICAgIGJhY2tUZXh0dXJlID0gdGhpcy5nZXRCYWNrVGV4dHVyZShyZW5kZXJUYXJnZXQsIGJvdW5kcywgcHJldmlvdXNCb3VuZHMpO1xuICAgIH1cbiAgICBmaWx0ZXJEYXRhLmJhY2tUZXh0dXJlID0gYmFja1RleHR1cmU7XG4gICAgY29uc3QgZmlsdGVycyA9IGZpbHRlckRhdGEuZmlsdGVyRWZmZWN0LmZpbHRlcnM7XG4gICAgdGhpcy5fZ2xvYmFsRmlsdGVyQmluZEdyb3VwLnNldFJlc291cmNlKGlucHV0VGV4dHVyZS5zb3VyY2Uuc3R5bGUsIDIpO1xuICAgIHRoaXMuX2dsb2JhbEZpbHRlckJpbmRHcm91cC5zZXRSZXNvdXJjZShiYWNrVGV4dHVyZS5zb3VyY2UsIDMpO1xuICAgIHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnBvcCgpO1xuICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgZmlsdGVyc1swXS5hcHBseSh0aGlzLCBpbnB1dFRleHR1cmUsIGZpbHRlckRhdGEucHJldmlvdXNSZW5kZXJTdXJmYWNlLCBmYWxzZSk7XG4gICAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKGlucHV0VGV4dHVyZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBmbGlwID0gZmlsdGVyRGF0YS5pbnB1dFRleHR1cmU7XG4gICAgICBsZXQgZmxvcCA9IFRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKFxuICAgICAgICBib3VuZHMud2lkdGgsXG4gICAgICAgIGJvdW5kcy5oZWlnaHQsXG4gICAgICAgIGZsaXAuc291cmNlLl9yZXNvbHV0aW9uLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIGxldCBpID0gMDtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICBjb25zdCBmaWx0ZXIgPSBmaWx0ZXJzW2ldO1xuICAgICAgICBmaWx0ZXIuYXBwbHkodGhpcywgZmxpcCwgZmxvcCwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IHQgPSBmbGlwO1xuICAgICAgICBmbGlwID0gZmxvcDtcbiAgICAgICAgZmxvcCA9IHQ7XG4gICAgICB9XG4gICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGZpbHRlckRhdGEucHJldmlvdXNSZW5kZXJTdXJmYWNlLCBmYWxzZSk7XG4gICAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKGZsaXApO1xuICAgICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShmbG9wKTtcbiAgICB9XG4gICAgaWYgKGZpbHRlckRhdGEuYmxlbmRSZXF1aXJlZCkge1xuICAgICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShiYWNrVGV4dHVyZSk7XG4gICAgfVxuICB9XG4gIGdldEJhY2tUZXh0dXJlKGxhc3RSZW5kZXJTdXJmYWNlLCBib3VuZHMsIHByZXZpb3VzQm91bmRzKSB7XG4gICAgY29uc3QgYmFja2dyb3VuZFJlc29sdXRpb24gPSBsYXN0UmVuZGVyU3VyZmFjZS5jb2xvclRleHR1cmUuc291cmNlLl9yZXNvbHV0aW9uO1xuICAgIGNvbnN0IGJhY2tUZXh0dXJlID0gVGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUoXG4gICAgICBib3VuZHMud2lkdGgsXG4gICAgICBib3VuZHMuaGVpZ2h0LFxuICAgICAgYmFja2dyb3VuZFJlc29sdXRpb24sXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgbGV0IHggPSBib3VuZHMubWluWDtcbiAgICBsZXQgeSA9IGJvdW5kcy5taW5ZO1xuICAgIGlmIChwcmV2aW91c0JvdW5kcykge1xuICAgICAgeCAtPSBwcmV2aW91c0JvdW5kcy5taW5YO1xuICAgICAgeSAtPSBwcmV2aW91c0JvdW5kcy5taW5ZO1xuICAgIH1cbiAgICB4ID0gTWF0aC5mbG9vcih4ICogYmFja2dyb3VuZFJlc29sdXRpb24pO1xuICAgIHkgPSBNYXRoLmZsb29yKHkgKiBiYWNrZ3JvdW5kUmVzb2x1dGlvbik7XG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLmNlaWwoYm91bmRzLndpZHRoICogYmFja2dyb3VuZFJlc29sdXRpb24pO1xuICAgIGNvbnN0IGhlaWdodCA9IE1hdGguY2VpbChib3VuZHMuaGVpZ2h0ICogYmFja2dyb3VuZFJlc29sdXRpb24pO1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyVGFyZ2V0LmNvcHlUb1RleHR1cmUoXG4gICAgICBsYXN0UmVuZGVyU3VyZmFjZSxcbiAgICAgIGJhY2tUZXh0dXJlLFxuICAgICAgeyB4LCB5IH0sXG4gICAgICB7IHdpZHRoLCBoZWlnaHQgfSxcbiAgICAgIHsgeDogMCwgeTogMCB9XG4gICAgKTtcbiAgICByZXR1cm4gYmFja1RleHR1cmU7XG4gIH1cbiAgYXBwbHlGaWx0ZXIoZmlsdGVyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcikge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICBjb25zdCBmaWx0ZXJEYXRhID0gdGhpcy5fZmlsdGVyU3RhY2tbdGhpcy5fZmlsdGVyU3RhY2tJbmRleF07XG4gICAgY29uc3QgYm91bmRzID0gZmlsdGVyRGF0YS5ib3VuZHM7XG4gICAgY29uc3Qgb2Zmc2V0ID0gUG9pbnQuc2hhcmVkO1xuICAgIGNvbnN0IHByZXZpb3VzUmVuZGVyU3VyZmFjZSA9IGZpbHRlckRhdGEucHJldmlvdXNSZW5kZXJTdXJmYWNlO1xuICAgIGNvbnN0IGlzRmluYWxUYXJnZXQgPSBwcmV2aW91c1JlbmRlclN1cmZhY2UgPT09IG91dHB1dDtcbiAgICBsZXQgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVuZGVyVGFyZ2V0LnJvb3RSZW5kZXJUYXJnZXQuY29sb3JUZXh0dXJlLnNvdXJjZS5fcmVzb2x1dGlvbjtcbiAgICBsZXQgY3VycmVudEluZGV4ID0gdGhpcy5fZmlsdGVyU3RhY2tJbmRleCAtIDE7XG4gICAgd2hpbGUgKGN1cnJlbnRJbmRleCA+IDAgJiYgdGhpcy5fZmlsdGVyU3RhY2tbY3VycmVudEluZGV4XS5za2lwKSB7XG4gICAgICAtLWN1cnJlbnRJbmRleDtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRJbmRleCA+IDApIHtcbiAgICAgIHJlc29sdXRpb24gPSB0aGlzLl9maWx0ZXJTdGFja1tjdXJyZW50SW5kZXhdLmlucHV0VGV4dHVyZS5zb3VyY2UuX3Jlc29sdXRpb247XG4gICAgfVxuICAgIGNvbnN0IGZpbHRlclVuaWZvcm1zID0gdGhpcy5fZmlsdGVyR2xvYmFsVW5pZm9ybXM7XG4gICAgY29uc3QgdW5pZm9ybXMgPSBmaWx0ZXJVbmlmb3Jtcy51bmlmb3JtcztcbiAgICBjb25zdCBvdXRwdXRGcmFtZSA9IHVuaWZvcm1zLnVPdXRwdXRGcmFtZTtcbiAgICBjb25zdCBpbnB1dFNpemUgPSB1bmlmb3Jtcy51SW5wdXRTaXplO1xuICAgIGNvbnN0IGlucHV0UGl4ZWwgPSB1bmlmb3Jtcy51SW5wdXRQaXhlbDtcbiAgICBjb25zdCBpbnB1dENsYW1wID0gdW5pZm9ybXMudUlucHV0Q2xhbXA7XG4gICAgY29uc3QgZ2xvYmFsRnJhbWUgPSB1bmlmb3Jtcy51R2xvYmFsRnJhbWU7XG4gICAgY29uc3Qgb3V0cHV0VGV4dHVyZSA9IHVuaWZvcm1zLnVPdXRwdXRUZXh0dXJlO1xuICAgIGlmIChpc0ZpbmFsVGFyZ2V0KSB7XG4gICAgICBsZXQgbGFzdEluZGV4ID0gdGhpcy5fZmlsdGVyU3RhY2tJbmRleDtcbiAgICAgIHdoaWxlIChsYXN0SW5kZXggPiAwKSB7XG4gICAgICAgIGxhc3RJbmRleC0tO1xuICAgICAgICBjb25zdCBmaWx0ZXJEYXRhMiA9IHRoaXMuX2ZpbHRlclN0YWNrW3RoaXMuX2ZpbHRlclN0YWNrSW5kZXggLSAxXTtcbiAgICAgICAgaWYgKCFmaWx0ZXJEYXRhMi5za2lwKSB7XG4gICAgICAgICAgb2Zmc2V0LnggPSBmaWx0ZXJEYXRhMi5ib3VuZHMubWluWDtcbiAgICAgICAgICBvZmZzZXQueSA9IGZpbHRlckRhdGEyLmJvdW5kcy5taW5ZO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvdXRwdXRGcmFtZVswXSA9IGJvdW5kcy5taW5YIC0gb2Zmc2V0Lng7XG4gICAgICBvdXRwdXRGcmFtZVsxXSA9IGJvdW5kcy5taW5ZIC0gb2Zmc2V0Lnk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dEZyYW1lWzBdID0gMDtcbiAgICAgIG91dHB1dEZyYW1lWzFdID0gMDtcbiAgICB9XG4gICAgb3V0cHV0RnJhbWVbMl0gPSBpbnB1dC5mcmFtZS53aWR0aDtcbiAgICBvdXRwdXRGcmFtZVszXSA9IGlucHV0LmZyYW1lLmhlaWdodDtcbiAgICBpbnB1dFNpemVbMF0gPSBpbnB1dC5zb3VyY2Uud2lkdGg7XG4gICAgaW5wdXRTaXplWzFdID0gaW5wdXQuc291cmNlLmhlaWdodDtcbiAgICBpbnB1dFNpemVbMl0gPSAxIC8gaW5wdXRTaXplWzBdO1xuICAgIGlucHV0U2l6ZVszXSA9IDEgLyBpbnB1dFNpemVbMV07XG4gICAgaW5wdXRQaXhlbFswXSA9IGlucHV0LnNvdXJjZS5waXhlbFdpZHRoO1xuICAgIGlucHV0UGl4ZWxbMV0gPSBpbnB1dC5zb3VyY2UucGl4ZWxIZWlnaHQ7XG4gICAgaW5wdXRQaXhlbFsyXSA9IDEgLyBpbnB1dFBpeGVsWzBdO1xuICAgIGlucHV0UGl4ZWxbM10gPSAxIC8gaW5wdXRQaXhlbFsxXTtcbiAgICBpbnB1dENsYW1wWzBdID0gMC41ICogaW5wdXRQaXhlbFsyXTtcbiAgICBpbnB1dENsYW1wWzFdID0gMC41ICogaW5wdXRQaXhlbFszXTtcbiAgICBpbnB1dENsYW1wWzJdID0gaW5wdXQuZnJhbWUud2lkdGggKiBpbnB1dFNpemVbMl0gLSAwLjUgKiBpbnB1dFBpeGVsWzJdO1xuICAgIGlucHV0Q2xhbXBbM10gPSBpbnB1dC5mcmFtZS5oZWlnaHQgKiBpbnB1dFNpemVbM10gLSAwLjUgKiBpbnB1dFBpeGVsWzNdO1xuICAgIGNvbnN0IHJvb3RUZXh0dXJlID0gdGhpcy5yZW5kZXJlci5yZW5kZXJUYXJnZXQucm9vdFJlbmRlclRhcmdldC5jb2xvclRleHR1cmU7XG4gICAgZ2xvYmFsRnJhbWVbMF0gPSBvZmZzZXQueCAqIHJlc29sdXRpb247XG4gICAgZ2xvYmFsRnJhbWVbMV0gPSBvZmZzZXQueSAqIHJlc29sdXRpb247XG4gICAgZ2xvYmFsRnJhbWVbMl0gPSByb290VGV4dHVyZS5zb3VyY2Uud2lkdGggKiByZXNvbHV0aW9uO1xuICAgIGdsb2JhbEZyYW1lWzNdID0gcm9vdFRleHR1cmUuc291cmNlLmhlaWdodCAqIHJlc29sdXRpb247XG4gICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5yZW5kZXJUYXJnZXQuZ2V0UmVuZGVyVGFyZ2V0KG91dHB1dCk7XG4gICAgcmVuZGVyZXIucmVuZGVyVGFyZ2V0LmJpbmQob3V0cHV0LCAhIWNsZWFyKTtcbiAgICBpZiAob3V0cHV0IGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgb3V0cHV0VGV4dHVyZVswXSA9IG91dHB1dC5mcmFtZS53aWR0aDtcbiAgICAgIG91dHB1dFRleHR1cmVbMV0gPSBvdXRwdXQuZnJhbWUuaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXRUZXh0dXJlWzBdID0gcmVuZGVyVGFyZ2V0LndpZHRoO1xuICAgICAgb3V0cHV0VGV4dHVyZVsxXSA9IHJlbmRlclRhcmdldC5oZWlnaHQ7XG4gICAgfVxuICAgIG91dHB1dFRleHR1cmVbMl0gPSByZW5kZXJUYXJnZXQuaXNSb290ID8gLTEgOiAxO1xuICAgIGZpbHRlclVuaWZvcm1zLnVwZGF0ZSgpO1xuICAgIGlmIChyZW5kZXJlci5yZW5kZXJQaXBlcy51bmlmb3JtQmF0Y2gpIHtcbiAgICAgIGNvbnN0IGJhdGNoVW5pZm9ybXMgPSByZW5kZXJlci5yZW5kZXJQaXBlcy51bmlmb3JtQmF0Y2guZ2V0VWJvUmVzb3VyY2UoZmlsdGVyVW5pZm9ybXMpO1xuICAgICAgdGhpcy5fZ2xvYmFsRmlsdGVyQmluZEdyb3VwLnNldFJlc291cmNlKGJhdGNoVW5pZm9ybXMsIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXAuc2V0UmVzb3VyY2UoZmlsdGVyVW5pZm9ybXMsIDApO1xuICAgIH1cbiAgICB0aGlzLl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXAuc2V0UmVzb3VyY2UoaW5wdXQuc291cmNlLCAxKTtcbiAgICB0aGlzLl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXAuc2V0UmVzb3VyY2UoaW5wdXQuc291cmNlLnN0eWxlLCAyKTtcbiAgICBmaWx0ZXIuZ3JvdXBzWzBdID0gdGhpcy5fZ2xvYmFsRmlsdGVyQmluZEdyb3VwO1xuICAgIHJlbmRlcmVyLmVuY29kZXIuZHJhdyh7XG4gICAgICBnZW9tZXRyeTogcXVhZEdlb21ldHJ5LFxuICAgICAgc2hhZGVyOiBmaWx0ZXIsXG4gICAgICBzdGF0ZTogZmlsdGVyLl9zdGF0ZSxcbiAgICAgIHRvcG9sb2d5OiBcInRyaWFuZ2xlLWxpc3RcIlxuICAgIH0pO1xuICAgIGlmIChyZW5kZXJlci50eXBlID09PSBSZW5kZXJlclR5cGUuV0VCR0wpIHtcbiAgICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5maW5pc2hSZW5kZXJQYXNzKCk7XG4gICAgfVxuICB9XG4gIF9nZXRGaWx0ZXJEYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBza2lwOiBmYWxzZSxcbiAgICAgIGlucHV0VGV4dHVyZTogbnVsbCxcbiAgICAgIGJvdW5kczogbmV3IEJvdW5kcygpLFxuICAgICAgY29udGFpbmVyOiBudWxsLFxuICAgICAgZmlsdGVyRWZmZWN0OiBudWxsLFxuICAgICAgYmxlbmRSZXF1aXJlZDogZmFsc2UsXG4gICAgICBwcmV2aW91c1JlbmRlclN1cmZhY2U6IG51bGxcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNdWx0aXBseSBfaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlc18gdG8gdGhpcyBtYXRyaXggdG8gZ2V0IF9zcHJpdGUgdGV4dHVyZSBub3JtYWxpemVkIGNvb3JkaW5hdGVzXy5cbiAgICpcbiAgICogVXNlIGBvdXRwdXRNYXRyaXggKiB2VGV4dHVyZUNvb3JkYCBpbiB0aGUgc2hhZGVyLlxuICAgKiBAcGFyYW0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAqIEBwYXJhbSB7U3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHRvIG1hcCB0by5cbiAgICogQHJldHVybnMgVGhlIG1hcHBlZCBtYXRyaXguXG4gICAqL1xuICBjYWxjdWxhdGVTcHJpdGVNYXRyaXgob3V0cHV0TWF0cml4LCBzcHJpdGUpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5fYWN0aXZlRmlsdGVyRGF0YTtcbiAgICBjb25zdCBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguc2V0KFxuICAgICAgZGF0YS5pbnB1dFRleHR1cmUuX3NvdXJjZS53aWR0aCxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgZGF0YS5pbnB1dFRleHR1cmUuX3NvdXJjZS5oZWlnaHQsXG4gICAgICBkYXRhLmJvdW5kcy5taW5YLFxuICAgICAgZGF0YS5ib3VuZHMubWluWVxuICAgICk7XG4gICAgY29uc3Qgd29ybGRUcmFuc2Zvcm0gPSBzcHJpdGUud29ybGRUcmFuc2Zvcm0uY29weVRvKE1hdHJpeC5zaGFyZWQpO1xuICAgIGNvbnN0IHJlbmRlckdyb3VwID0gc3ByaXRlLnJlbmRlckdyb3VwIHx8IHNwcml0ZS5wYXJlbnRSZW5kZXJHcm91cDtcbiAgICBpZiAocmVuZGVyR3JvdXAgJiYgcmVuZGVyR3JvdXAuY2FjaGVUb0xvY2FsVHJhbnNmb3JtKSB7XG4gICAgICB3b3JsZFRyYW5zZm9ybS5wcmVwZW5kKHJlbmRlckdyb3VwLmNhY2hlVG9Mb2NhbFRyYW5zZm9ybSk7XG4gICAgfVxuICAgIHdvcmxkVHJhbnNmb3JtLmludmVydCgpO1xuICAgIG1hcHBlZE1hdHJpeC5wcmVwZW5kKHdvcmxkVHJhbnNmb3JtKTtcbiAgICBtYXBwZWRNYXRyaXguc2NhbGUoXG4gICAgICAxIC8gc3ByaXRlLnRleHR1cmUuZnJhbWUud2lkdGgsXG4gICAgICAxIC8gc3ByaXRlLnRleHR1cmUuZnJhbWUuaGVpZ2h0XG4gICAgKTtcbiAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNwcml0ZS5hbmNob3IueCwgc3ByaXRlLmFuY2hvci55KTtcbiAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuRmlsdGVyU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJmaWx0ZXJcIlxufTtcblxuZXhwb3J0IHsgRmlsdGVyU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWx0ZXJTeXN0ZW0ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBnZXRHbG9iYWxSZW5kZXJhYmxlQm91bmRzKHJlbmRlcmFibGVzLCBib3VuZHMpIHtcbiAgYm91bmRzLmNsZWFyKCk7XG4gIGNvbnN0IHRlbXBNYXRyaXggPSBib3VuZHMubWF0cml4O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcmFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcmVuZGVyYWJsZSA9IHJlbmRlcmFibGVzW2ldO1xuICAgIGlmIChyZW5kZXJhYmxlLmdsb2JhbERpc3BsYXlTdGF0dXMgPCA3KSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgYm91bmRzLm1hdHJpeCA9IHJlbmRlcmFibGUud29ybGRUcmFuc2Zvcm07XG4gICAgYm91bmRzLmFkZEJvdW5kcyhyZW5kZXJhYmxlLmJvdW5kcyk7XG4gIH1cbiAgYm91bmRzLm1hdHJpeCA9IHRlbXBNYXRyaXg7XG4gIHJldHVybiBib3VuZHM7XG59XG5cbmV4cG9ydCB7IGdldEdsb2JhbFJlbmRlcmFibGVCb3VuZHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFJlbmRlcmFibGVCb3VuZHMubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgRmlsdGVyUGlwZSB9IGZyb20gJy4vRmlsdGVyUGlwZS5tanMnO1xuaW1wb3J0IHsgRmlsdGVyU3lzdGVtIH0gZnJvbSAnLi9GaWx0ZXJTeXN0ZW0ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChGaWx0ZXJTeXN0ZW0pO1xuZXh0ZW5zaW9ucy5hZGQoRmlsdGVyUGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2J1ZmZlci9CdWZmZXIubWpzJztcbmltcG9ydCB7IEJ1ZmZlclVzYWdlIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvYnVmZmVyL2NvbnN0Lm1qcyc7XG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2dlb21ldHJ5L0dlb21ldHJ5Lm1qcyc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiwgdjhfMF8wIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvbG9nZ2luZy9kZXByZWNhdGlvbi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9NZXNoR2VvbWV0cnkgPSBjbGFzcyBfTWVzaEdlb21ldHJ5IGV4dGVuZHMgR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmdzWzBdID8/IHt9O1xuICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7XG4gICAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwidXNlIG5ldyBNZXNoR2VvbWV0cnkoeyBwb3NpdGlvbnMsIHV2cywgaW5kaWNlcyB9KSBpbnN0ZWFkXCIpO1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgcG9zaXRpb25zOiBvcHRpb25zLFxuICAgICAgICB1dnM6IGFyZ3NbMV0sXG4gICAgICAgIGluZGljZXM6IGFyZ3NbMl1cbiAgICAgIH07XG4gICAgfVxuICAgIG9wdGlvbnMgPSB7IC4uLl9NZXNoR2VvbWV0cnkuZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBvcHRpb25zLnBvc2l0aW9ucyB8fCBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAxLCAwLCAxLCAxLCAwLCAxXSk7XG4gICAgbGV0IHV2cyA9IG9wdGlvbnMudXZzO1xuICAgIGlmICghdXZzKSB7XG4gICAgICBpZiAob3B0aW9ucy5wb3NpdGlvbnMpIHtcbiAgICAgICAgdXZzID0gbmV3IEZsb2F0MzJBcnJheShwb3NpdGlvbnMubGVuZ3RoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDEsIDEsIDAsIDFdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaW5kaWNlcyA9IG9wdGlvbnMuaW5kaWNlcyB8fCBuZXcgVWludDMyQXJyYXkoWzAsIDEsIDIsIDAsIDIsIDNdKTtcbiAgICBjb25zdCBzaHJpbmtUb0ZpdCA9IG9wdGlvbnMuc2hyaW5rQnVmZmVyc1RvRml0O1xuICAgIGNvbnN0IHBvc2l0aW9uQnVmZmVyID0gbmV3IEJ1ZmZlcih7XG4gICAgICBkYXRhOiBwb3NpdGlvbnMsXG4gICAgICBsYWJlbDogXCJhdHRyaWJ1dGUtbWVzaC1wb3NpdGlvbnNcIixcbiAgICAgIHNocmlua1RvRml0LFxuICAgICAgdXNhZ2U6IEJ1ZmZlclVzYWdlLlZFUlRFWCB8IEJ1ZmZlclVzYWdlLkNPUFlfRFNUXG4gICAgfSk7XG4gICAgY29uc3QgdXZCdWZmZXIgPSBuZXcgQnVmZmVyKHtcbiAgICAgIGRhdGE6IHV2cyxcbiAgICAgIGxhYmVsOiBcImF0dHJpYnV0ZS1tZXNoLXV2c1wiLFxuICAgICAgc2hyaW5rVG9GaXQsXG4gICAgICB1c2FnZTogQnVmZmVyVXNhZ2UuVkVSVEVYIHwgQnVmZmVyVXNhZ2UuQ09QWV9EU1RcbiAgICB9KTtcbiAgICBjb25zdCBpbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoe1xuICAgICAgZGF0YTogaW5kaWNlcyxcbiAgICAgIGxhYmVsOiBcImluZGV4LW1lc2gtYnVmZmVyXCIsXG4gICAgICBzaHJpbmtUb0ZpdCxcbiAgICAgIHVzYWdlOiBCdWZmZXJVc2FnZS5JTkRFWCB8IEJ1ZmZlclVzYWdlLkNPUFlfRFNUXG4gICAgfSk7XG4gICAgc3VwZXIoe1xuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICBhUG9zaXRpb246IHtcbiAgICAgICAgICBidWZmZXI6IHBvc2l0aW9uQnVmZmVyLFxuICAgICAgICAgIGZvcm1hdDogXCJmbG9hdDMyeDJcIixcbiAgICAgICAgICBzdHJpZGU6IDIgKiA0LFxuICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9LFxuICAgICAgICBhVVY6IHtcbiAgICAgICAgICBidWZmZXI6IHV2QnVmZmVyLFxuICAgICAgICAgIGZvcm1hdDogXCJmbG9hdDMyeDJcIixcbiAgICAgICAgICBzdHJpZGU6IDIgKiA0LFxuICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaW5kZXhCdWZmZXIsXG4gICAgICB0b3BvbG9neTogb3B0aW9ucy50b3BvbG9neVxuICAgIH0pO1xuICAgIHRoaXMuYmF0Y2hNb2RlID0gXCJhdXRvXCI7XG4gIH1cbiAgLyoqIFRoZSBwb3NpdGlvbnMgb2YgdGhlIG1lc2guICovXG4gIGdldCBwb3NpdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlcy5hUG9zaXRpb24uYnVmZmVyLmRhdGE7XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgcG9zaXRpb25zIG9mIHRoZSBtZXNoLlxuICAgKiBXaGVuIHNldHRpbmcgdGhlIHBvc2l0aW9ucywgaXRzIGltcG9ydGFudCB0aGF0IHRoZSB1dnMgYXJyYXkgaXMgYXQgbGVhc3QgYXMgbG9uZyBhcyB0aGUgcG9zaXRpb25zIGFycmF5LlxuICAgKiBvdGhlcndpc2UgdGhlIGdlb21ldHJ5IHdpbGwgbm90IGJlIHZhbGlkLlxuICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmFsdWUgLSBUaGUgcG9zaXRpb25zIG9mIHRoZSBtZXNoLlxuICAgKi9cbiAgc2V0IHBvc2l0aW9ucyh2YWx1ZSkge1xuICAgIHRoaXMuYXR0cmlidXRlcy5hUG9zaXRpb24uYnVmZmVyLmRhdGEgPSB2YWx1ZTtcbiAgfVxuICAvKiogVGhlIFVWcyBvZiB0aGUgbWVzaC4gKi9cbiAgZ2V0IHV2cygpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmFVVi5idWZmZXIuZGF0YTtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBVVnMgb2YgdGhlIG1lc2guXG4gICAqIEl0cyBpbXBvcnRhbnQgdGhhdCB0aGUgdXZzIGFycmF5IHlvdSBzZXQgaXMgYXQgbGVhc3QgYXMgbG9uZyBhcyB0aGUgcG9zaXRpb25zIGFycmF5LlxuICAgKiBvdGhlcndpc2UgdGhlIGdlb21ldHJ5IHdpbGwgbm90IGJlIHZhbGlkLlxuICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmFsdWUgLSBUaGUgVVZzIG9mIHRoZSBtZXNoLlxuICAgKi9cbiAgc2V0IHV2cyh2YWx1ZSkge1xuICAgIHRoaXMuYXR0cmlidXRlcy5hVVYuYnVmZmVyLmRhdGEgPSB2YWx1ZTtcbiAgfVxuICAvKiogVGhlIGluZGljZXMgb2YgdGhlIG1lc2guICovXG4gIGdldCBpbmRpY2VzKCkge1xuICAgIHJldHVybiB0aGlzLmluZGV4QnVmZmVyLmRhdGE7XG4gIH1cbiAgc2V0IGluZGljZXModmFsdWUpIHtcbiAgICB0aGlzLmluZGV4QnVmZmVyLmRhdGEgPSB2YWx1ZTtcbiAgfVxufTtcbl9NZXNoR2VvbWV0cnkuZGVmYXVsdE9wdGlvbnMgPSB7XG4gIHRvcG9sb2d5OiBcInRyaWFuZ2xlLWxpc3RcIixcbiAgc2hyaW5rQnVmZmVyc1RvRml0OiBmYWxzZVxufTtcbmxldCBNZXNoR2VvbWV0cnkgPSBfTWVzaEdlb21ldHJ5O1xuXG5leHBvcnQgeyBNZXNoR2VvbWV0cnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lc2hHZW9tZXRyeS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBCaW5kR3JvdXAgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dwdS9zaGFkZXIvQmluZEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBVbmlmb3JtR3JvdXAgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvVW5pZm9ybUdyb3VwLm1qcyc7XG5pbXBvcnQgeyBnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc3RhdGUvZ2V0QWRqdXN0ZWRCbGVuZE1vZGVCbGVuZC5tanMnO1xuaW1wb3J0IHsgQmlnUG9vbCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3Bvb2wvUG9vbEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtIH0gZnJvbSAnLi4vLi4vZ3JhcGhpY3MvZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVNZXNoIH0gZnJvbSAnLi9CYXRjaGFibGVNZXNoLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgTWVzaFBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgYWRhcHRvcikge1xuICAgIHRoaXMubG9jYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgdVRyYW5zZm9ybU1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgIHVDb2xvcjogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1Um91bmQ6IHsgdmFsdWU6IDAsIHR5cGU6IFwiZjMyXCIgfVxuICAgIH0pO1xuICAgIHRoaXMubG9jYWxVbmlmb3Jtc0JpbmRHcm91cCA9IG5ldyBCaW5kR3JvdXAoe1xuICAgICAgMDogdGhpcy5sb2NhbFVuaWZvcm1zXG4gICAgfSk7XG4gICAgdGhpcy5fbWVzaERhdGFIYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZ3B1QmF0Y2hhYmxlTWVzaEhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kID0gdGhpcy5kZXN0cm95UmVuZGVyYWJsZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9hZGFwdG9yID0gYWRhcHRvcjtcbiAgICB0aGlzLl9hZGFwdG9yLmluaXQoKTtcbiAgICByZW5kZXJlci5yZW5kZXJhYmxlR0MuYWRkTWFuYWdlZEhhc2godGhpcywgXCJfZ3B1QmF0Y2hhYmxlTWVzaEhhc2hcIik7XG4gICAgcmVuZGVyZXIucmVuZGVyYWJsZUdDLmFkZE1hbmFnZWRIYXNoKHRoaXMsIFwiX21lc2hEYXRhSGFzaFwiKTtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUobWVzaCkge1xuICAgIGNvbnN0IG1lc2hEYXRhID0gdGhpcy5fZ2V0TWVzaERhdGEobWVzaCk7XG4gICAgY29uc3Qgd2FzQmF0Y2hlZCA9IG1lc2hEYXRhLmJhdGNoZWQ7XG4gICAgY29uc3QgaXNCYXRjaGVkID0gbWVzaC5iYXRjaGVkO1xuICAgIG1lc2hEYXRhLmJhdGNoZWQgPSBpc0JhdGNoZWQ7XG4gICAgaWYgKHdhc0JhdGNoZWQgIT09IGlzQmF0Y2hlZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChpc0JhdGNoZWQpIHtcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbWVzaC5fZ2VvbWV0cnk7XG4gICAgICBpZiAoZ2VvbWV0cnkuaW5kaWNlcy5sZW5ndGggIT09IG1lc2hEYXRhLmluZGV4U2l6ZSB8fCBnZW9tZXRyeS5wb3NpdGlvbnMubGVuZ3RoICE9PSBtZXNoRGF0YS52ZXJ0ZXhTaXplKSB7XG4gICAgICAgIG1lc2hEYXRhLmluZGV4U2l6ZSA9IGdlb21ldHJ5LmluZGljZXMubGVuZ3RoO1xuICAgICAgICBtZXNoRGF0YS52ZXJ0ZXhTaXplID0gZ2VvbWV0cnkucG9zaXRpb25zLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBjb25zdCBiYXRjaGFibGVNZXNoID0gdGhpcy5fZ2V0QmF0Y2hhYmxlTWVzaChtZXNoKTtcbiAgICAgIGlmIChiYXRjaGFibGVNZXNoLnRleHR1cmUudWlkICE9PSBtZXNoLl90ZXh0dXJlLnVpZCkge1xuICAgICAgICBiYXRjaGFibGVNZXNoLl90ZXh0dXJlTWF0cml4VXBkYXRlSWQgPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhYmF0Y2hhYmxlTWVzaC5fYmF0Y2hlci5jaGVja0FuZFVwZGF0ZVRleHR1cmUoXG4gICAgICAgIGJhdGNoYWJsZU1lc2gsXG4gICAgICAgIG1lc2guX3RleHR1cmVcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKG1lc2gsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgYmF0Y2hlciA9IHRoaXMucmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2g7XG4gICAgY29uc3QgeyBiYXRjaGVkIH0gPSB0aGlzLl9nZXRNZXNoRGF0YShtZXNoKTtcbiAgICBpZiAoYmF0Y2hlZCkge1xuICAgICAgY29uc3QgZ3B1QmF0Y2hhYmxlTWVzaCA9IHRoaXMuX2dldEJhdGNoYWJsZU1lc2gobWVzaCk7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLnNldFRleHR1cmUobWVzaC5fdGV4dHVyZSk7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLmdlb21ldHJ5ID0gbWVzaC5fZ2VvbWV0cnk7XG4gICAgICBiYXRjaGVyLmFkZFRvQmF0Y2goZ3B1QmF0Y2hhYmxlTWVzaCwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYXRjaGVyLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICAgIGluc3RydWN0aW9uU2V0LmFkZChtZXNoKTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZShtZXNoKSB7XG4gICAgaWYgKG1lc2guYmF0Y2hlZCkge1xuICAgICAgY29uc3QgZ3B1QmF0Y2hhYmxlTWVzaCA9IHRoaXMuX2dwdUJhdGNoYWJsZU1lc2hIYXNoW21lc2gudWlkXTtcbiAgICAgIGdwdUJhdGNoYWJsZU1lc2guc2V0VGV4dHVyZShtZXNoLl90ZXh0dXJlKTtcbiAgICAgIGdwdUJhdGNoYWJsZU1lc2guZ2VvbWV0cnkgPSBtZXNoLl9nZW9tZXRyeTtcbiAgICAgIGdwdUJhdGNoYWJsZU1lc2guX2JhdGNoZXIudXBkYXRlRWxlbWVudChncHVCYXRjaGFibGVNZXNoKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveVJlbmRlcmFibGUobWVzaCkge1xuICAgIHRoaXMuX21lc2hEYXRhSGFzaFttZXNoLnVpZF0gPSBudWxsO1xuICAgIGNvbnN0IGdwdU1lc2ggPSB0aGlzLl9ncHVCYXRjaGFibGVNZXNoSGFzaFttZXNoLnVpZF07XG4gICAgaWYgKGdwdU1lc2gpIHtcbiAgICAgIEJpZ1Bvb2wucmV0dXJuKGdwdU1lc2gpO1xuICAgICAgdGhpcy5fZ3B1QmF0Y2hhYmxlTWVzaEhhc2hbbWVzaC51aWRdID0gbnVsbDtcbiAgICB9XG4gICAgbWVzaC5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gIH1cbiAgZXhlY3V0ZShtZXNoKSB7XG4gICAgaWYgKCFtZXNoLmlzUmVuZGVyYWJsZSlcbiAgICAgIHJldHVybjtcbiAgICBtZXNoLnN0YXRlLmJsZW5kTW9kZSA9IGdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQobWVzaC5ncm91cEJsZW5kTW9kZSwgbWVzaC50ZXh0dXJlLl9zb3VyY2UpO1xuICAgIGNvbnN0IGxvY2FsVW5pZm9ybXMgPSB0aGlzLmxvY2FsVW5pZm9ybXM7XG4gICAgbG9jYWxVbmlmb3Jtcy51bmlmb3Jtcy51VHJhbnNmb3JtTWF0cml4ID0gbWVzaC5ncm91cFRyYW5zZm9ybTtcbiAgICBsb2NhbFVuaWZvcm1zLnVuaWZvcm1zLnVSb3VuZCA9IHRoaXMucmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgbWVzaC5fcm91bmRQaXhlbHM7XG4gICAgbG9jYWxVbmlmb3Jtcy51cGRhdGUoKTtcbiAgICBjb2xvcjMyQml0VG9Vbmlmb3JtKFxuICAgICAgbWVzaC5ncm91cENvbG9yQWxwaGEsXG4gICAgICBsb2NhbFVuaWZvcm1zLnVuaWZvcm1zLnVDb2xvcixcbiAgICAgIDBcbiAgICApO1xuICAgIHRoaXMuX2FkYXB0b3IuZXhlY3V0ZSh0aGlzLCBtZXNoKTtcbiAgfVxuICBfZ2V0TWVzaERhdGEobWVzaCkge1xuICAgIHJldHVybiB0aGlzLl9tZXNoRGF0YUhhc2hbbWVzaC51aWRdIHx8IHRoaXMuX2luaXRNZXNoRGF0YShtZXNoKTtcbiAgfVxuICBfaW5pdE1lc2hEYXRhKG1lc2gpIHtcbiAgICB0aGlzLl9tZXNoRGF0YUhhc2hbbWVzaC51aWRdID0ge1xuICAgICAgYmF0Y2hlZDogbWVzaC5iYXRjaGVkLFxuICAgICAgaW5kZXhTaXplOiBtZXNoLl9nZW9tZXRyeS5pbmRpY2VzPy5sZW5ndGgsXG4gICAgICB2ZXJ0ZXhTaXplOiBtZXNoLl9nZW9tZXRyeS5wb3NpdGlvbnM/Lmxlbmd0aFxuICAgIH07XG4gICAgbWVzaC5vbihcImRlc3Ryb3llZFwiLCB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kKTtcbiAgICByZXR1cm4gdGhpcy5fbWVzaERhdGFIYXNoW21lc2gudWlkXTtcbiAgfVxuICBfZ2V0QmF0Y2hhYmxlTWVzaChtZXNoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dwdUJhdGNoYWJsZU1lc2hIYXNoW21lc2gudWlkXSB8fCB0aGlzLl9pbml0QmF0Y2hhYmxlTWVzaChtZXNoKTtcbiAgfVxuICBfaW5pdEJhdGNoYWJsZU1lc2gobWVzaCkge1xuICAgIGNvbnN0IGdwdU1lc2ggPSBCaWdQb29sLmdldChCYXRjaGFibGVNZXNoKTtcbiAgICBncHVNZXNoLnJlbmRlcmFibGUgPSBtZXNoO1xuICAgIGdwdU1lc2guc2V0VGV4dHVyZShtZXNoLl90ZXh0dXJlKTtcbiAgICBncHVNZXNoLnRyYW5zZm9ybSA9IG1lc2guZ3JvdXBUcmFuc2Zvcm07XG4gICAgZ3B1TWVzaC5yb3VuZFBpeGVscyA9IHRoaXMucmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgbWVzaC5fcm91bmRQaXhlbHM7XG4gICAgdGhpcy5fZ3B1QmF0Y2hhYmxlTWVzaEhhc2hbbWVzaC51aWRdID0gZ3B1TWVzaDtcbiAgICByZXR1cm4gZ3B1TWVzaDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl9ncHVCYXRjaGFibGVNZXNoSGFzaCkge1xuICAgICAgaWYgKHRoaXMuX2dwdUJhdGNoYWJsZU1lc2hIYXNoW2ldKSB7XG4gICAgICAgIEJpZ1Bvb2wucmV0dXJuKHRoaXMuX2dwdUJhdGNoYWJsZU1lc2hIYXNoW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fZ3B1QmF0Y2hhYmxlTWVzaEhhc2ggPSBudWxsO1xuICAgIHRoaXMuX21lc2hEYXRhSGFzaCA9IG51bGw7XG4gICAgdGhpcy5sb2NhbFVuaWZvcm1zID0gbnVsbDtcbiAgICB0aGlzLmxvY2FsVW5pZm9ybXNCaW5kR3JvdXAgPSBudWxsO1xuICAgIHRoaXMuX2FkYXB0b3IuZGVzdHJveSgpO1xuICAgIHRoaXMuX2FkYXB0b3IgPSBudWxsO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuTWVzaFBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcIm1lc2hcIlxufTtcblxuZXhwb3J0IHsgTWVzaFBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lc2hQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IE1lc2hQaXBlIH0gZnJvbSAnLi9zaGFyZWQvTWVzaFBpcGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChNZXNoUGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgbG9jYWxVbmlmb3JtTVNERkJpdCA9IHtcbiAgbmFtZTogXCJsb2NhbC11bmlmb3JtLW1zZGYtYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgc3RydWN0IExvY2FsVW5pZm9ybXMge1xuICAgICAgICAgICAgICAgIHVDb2xvcjp2ZWM0PGYzMj4sXG4gICAgICAgICAgICAgICAgdVRyYW5zZm9ybU1hdHJpeDptYXQzeDM8ZjMyPixcbiAgICAgICAgICAgICAgICB1RGlzdGFuY2U6IGYzMixcbiAgICAgICAgICAgICAgICB1Um91bmQ6ZjMyLFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGxvY2FsVW5pZm9ybXMgOiBMb2NhbFVuaWZvcm1zO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gbG9jYWxVbmlmb3Jtcy51Q29sb3I7XG4gICAgICAgICAgICBtb2RlbE1hdHJpeCAqPSBsb2NhbFVuaWZvcm1zLnVUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgIGBcbiAgICApLFxuICAgIGVuZDogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgaWYobG9jYWxVbmlmb3Jtcy51Um91bmQgPT0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2UG9zaXRpb24gPSB2ZWM0KHJvdW5kUGl4ZWxzKHZQb3NpdGlvbi54eSwgZ2xvYmFsVW5pZm9ybXMudVJlc29sdXRpb24pLCB2UG9zaXRpb24uencpO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9LFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgc3RydWN0IExvY2FsVW5pZm9ybXMge1xuICAgICAgICAgICAgICAgIHVDb2xvcjp2ZWM0PGYzMj4sXG4gICAgICAgICAgICAgICAgdVRyYW5zZm9ybU1hdHJpeDptYXQzeDM8ZjMyPixcbiAgICAgICAgICAgICAgICB1RGlzdGFuY2U6IGYzMlxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGxvY2FsVW5pZm9ybXMgOiBMb2NhbFVuaWZvcm1zO1xuICAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYCBcbiAgICAgICAgICAgIG91dENvbG9yID0gdmVjNDxmMzI+KGNhbGN1bGF0ZU1TREZBbHBoYShvdXRDb2xvciwgbG9jYWxVbmlmb3Jtcy51Q29sb3IsIGxvY2FsVW5pZm9ybXMudURpc3RhbmNlKSk7XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCBsb2NhbFVuaWZvcm1NU0RGQml0R2wgPSB7XG4gIG5hbWU6IFwibG9jYWwtdW5pZm9ybS1tc2RmLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWM0IHVDb2xvcjtcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgdVJvdW5kO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gdUNvbG9yO1xuICAgICAgICAgICAgbW9kZWxNYXRyaXggKj0gdVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgZW5kOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICBpZih1Um91bmQgPT0gMS4pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24ueHkgPSByb3VuZFBpeGVscyhnbF9Qb3NpdGlvbi54eSwgdVJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9LFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdW5pZm9ybSBmbG9hdCB1RGlzdGFuY2U7XG4gICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgIFxuICAgICAgICAgICAgb3V0Q29sb3IgPSB2ZWM0KGNhbGN1bGF0ZU1TREZBbHBoYShvdXRDb2xvciwgdkNvbG9yLCB1RGlzdGFuY2UpKTtcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcblxuZXhwb3J0IHsgbG9jYWxVbmlmb3JtTVNERkJpdCwgbG9jYWxVbmlmb3JtTVNERkJpdEdsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2NhbFVuaWZvcm1NU0RGQml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgbVNERkJpdCA9IHtcbiAgbmFtZTogXCJtc2RmLWJpdFwiLFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgZm4gY2FsY3VsYXRlTVNERkFscGhhKG1zZGZDb2xvcjp2ZWM0PGYzMj4sIHNoYXBlQ29sb3I6dmVjNDxmMzI+LCBkaXN0YW5jZTpmMzIpIC0+IGYzMiB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gTVNERlxuICAgICAgICAgICAgICAgIHZhciBtZWRpYW4gPSBtc2RmQ29sb3IuciArIG1zZGZDb2xvci5nICsgbXNkZkNvbG9yLmIgLVxuICAgICAgICAgICAgICAgICAgICBtaW4obXNkZkNvbG9yLnIsIG1pbihtc2RmQ29sb3IuZywgbXNkZkNvbG9yLmIpKSAtXG4gICAgICAgICAgICAgICAgICAgIG1heChtc2RmQ29sb3IuciwgbWF4KG1zZGZDb2xvci5nLCBtc2RmQ29sb3IuYikpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU0RGXG4gICAgICAgICAgICAgICAgbWVkaWFuID0gbWluKG1lZGlhbiwgbXNkZkNvbG9yLmEpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHNjcmVlblB4RGlzdGFuY2UgPSBkaXN0YW5jZSAqIChtZWRpYW4gLSAwLjUpO1xuICAgICAgICAgICAgICAgIHZhciBhbHBoYSA9IGNsYW1wKHNjcmVlblB4RGlzdGFuY2UgKyAwLjUsIDAuMCwgMS4wKTtcbiAgICAgICAgICAgICAgICBpZiAobWVkaWFuIDwgMC4wMSkge1xuICAgICAgICAgICAgICAgICAgICBhbHBoYSA9IDAuMDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1lZGlhbiA+IDAuOTkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxwaGEgPSAxLjA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gR2FtbWEgY29ycmVjdGlvbiBmb3IgY292ZXJhZ2UtbGlrZSBhbHBoYVxuICAgICAgICAgICAgICAgIHZhciBsdW1hOiBmMzIgPSBkb3Qoc2hhcGVDb2xvci5yZ2IsIHZlYzM8ZjMyPigwLjI5OSwgMC41ODcsIDAuMTE0KSk7XG4gICAgICAgICAgICAgICAgdmFyIGdhbW1hOiBmMzIgPSBtaXgoMS4wLCAxLjAgLyAyLjIsIGx1bWEpO1xuICAgICAgICAgICAgICAgIHZhciBjb3ZlcmFnZTogZjMyID0gcG93KHNoYXBlQ29sb3IuYSAqIGFscGhhLCBnYW1tYSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY292ZXJhZ2U7XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCBtU0RGQml0R2wgPSB7XG4gIG5hbWU6IFwibXNkZi1iaXRcIixcbiAgZnJhZ21lbnQ6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGZsb2F0IGNhbGN1bGF0ZU1TREZBbHBoYSh2ZWM0IG1zZGZDb2xvciwgdmVjNCBzaGFwZUNvbG9yLCBmbG9hdCBkaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIE1TREZcbiAgICAgICAgICAgICAgICBmbG9hdCBtZWRpYW4gPSBtc2RmQ29sb3IuciArIG1zZGZDb2xvci5nICsgbXNkZkNvbG9yLmIgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4obXNkZkNvbG9yLnIsIG1pbihtc2RmQ29sb3IuZywgbXNkZkNvbG9yLmIpKSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heChtc2RmQ29sb3IuciwgbWF4KG1zZGZDb2xvci5nLCBtc2RmQ29sb3IuYikpO1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU0RGXG4gICAgICAgICAgICAgICAgbWVkaWFuID0gbWluKG1lZGlhbiwgbXNkZkNvbG9yLmEpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZmxvYXQgc2NyZWVuUHhEaXN0YW5jZSA9IGRpc3RhbmNlICogKG1lZGlhbiAtIDAuNSk7XG4gICAgICAgICAgICAgICAgZmxvYXQgYWxwaGEgPSBjbGFtcChzY3JlZW5QeERpc3RhbmNlICsgMC41LCAwLjAsIDEuMCk7XG4gICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChtZWRpYW4gPCAwLjAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFscGhhID0gMC4wO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWVkaWFuID4gMC45OSkge1xuICAgICAgICAgICAgICAgICAgICBhbHBoYSA9IDEuMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBHYW1tYSBjb3JyZWN0aW9uIGZvciBjb3ZlcmFnZS1saWtlIGFscGhhXG4gICAgICAgICAgICAgICAgZmxvYXQgbHVtYSA9IGRvdChzaGFwZUNvbG9yLnJnYiwgdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KSk7XG4gICAgICAgICAgICAgICAgZmxvYXQgZ2FtbWEgPSBtaXgoMS4wLCAxLjAgLyAyLjIsIGx1bWEpO1xuICAgICAgICAgICAgICAgIGZsb2F0IGNvdmVyYWdlID0gcG93KHNoYXBlQ29sb3IuYSAqIGFscGhhLCBnYW1tYSk7ICBcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvdmVyYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyBtU0RGQml0LCBtU0RGQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1TREZCaXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgZ2V0TWF4VGV4dHVyZXNQZXJCYXRjaCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9iYXRjaGVyL2dsL3V0aWxzL21heFJlY29tbWVuZGVkVGV4dHVyZXMubWpzJztcbmltcG9ydCB7IGNvbXBpbGVIaWdoU2hhZGVyR3B1UHJvZ3JhbSwgY29tcGlsZUhpZ2hTaGFkZXJHbFByb2dyYW0gfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvY29tcGlsZUhpZ2hTaGFkZXJUb1Byb2dyYW0ubWpzJztcbmltcG9ydCB7IGNvbG9yQml0LCBjb2xvckJpdEdsIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2NvbG9yQml0Lm1qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdCwgZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXRHbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9nZW5lcmF0ZVRleHR1cmVCYXRjaEJpdC5tanMnO1xuaW1wb3J0IHsgcm91bmRQaXhlbHNCaXQsIHJvdW5kUGl4ZWxzQml0R2wgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvcm91bmRQaXhlbHNCaXQubWpzJztcbmltcG9ydCB7IGdldEJhdGNoU2FtcGxlcnNVbmlmb3JtR3JvdXAgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dsL3NoYWRlci9nZXRCYXRjaFNhbXBsZXJzVW5pZm9ybUdyb3VwLm1qcyc7XG5pbXBvcnQgeyBTaGFkZXIgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvU2hhZGVyLm1qcyc7XG5pbXBvcnQgeyBVbmlmb3JtR3JvdXAgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvVW5pZm9ybUdyb3VwLm1qcyc7XG5pbXBvcnQgeyBsb2NhbFVuaWZvcm1NU0RGQml0LCBsb2NhbFVuaWZvcm1NU0RGQml0R2wgfSBmcm9tICcuL3NoYWRlci1iaXRzL2xvY2FsVW5pZm9ybU1TREZCaXQubWpzJztcbmltcG9ydCB7IG1TREZCaXQsIG1TREZCaXRHbCB9IGZyb20gJy4vc2hhZGVyLWJpdHMvbVNERkJpdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmxldCBncHVQcm9ncmFtO1xubGV0IGdsUHJvZ3JhbTtcbmNsYXNzIFNkZlNoYWRlciBleHRlbmRzIFNoYWRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnN0IHVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1Q29sb3I6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdVRyYW5zZm9ybU1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgIHVEaXN0YW5jZTogeyB2YWx1ZTogNCwgdHlwZTogXCJmMzJcIiB9LFxuICAgICAgdVJvdW5kOiB7IHZhbHVlOiAwLCB0eXBlOiBcImYzMlwiIH1cbiAgICB9KTtcbiAgICBjb25zdCBtYXhUZXh0dXJlcyA9IGdldE1heFRleHR1cmVzUGVyQmF0Y2goKTtcbiAgICBncHVQcm9ncmFtID8/IChncHVQcm9ncmFtID0gY29tcGlsZUhpZ2hTaGFkZXJHcHVQcm9ncmFtKHtcbiAgICAgIG5hbWU6IFwic2RmLXNoYWRlclwiLFxuICAgICAgYml0czogW1xuICAgICAgICBjb2xvckJpdCxcbiAgICAgICAgZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXQobWF4VGV4dHVyZXMpLFxuICAgICAgICBsb2NhbFVuaWZvcm1NU0RGQml0LFxuICAgICAgICBtU0RGQml0LFxuICAgICAgICByb3VuZFBpeGVsc0JpdFxuICAgICAgXVxuICAgIH0pKTtcbiAgICBnbFByb2dyYW0gPz8gKGdsUHJvZ3JhbSA9IGNvbXBpbGVIaWdoU2hhZGVyR2xQcm9ncmFtKHtcbiAgICAgIG5hbWU6IFwic2RmLXNoYWRlclwiLFxuICAgICAgYml0czogW1xuICAgICAgICBjb2xvckJpdEdsLFxuICAgICAgICBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdEdsKG1heFRleHR1cmVzKSxcbiAgICAgICAgbG9jYWxVbmlmb3JtTVNERkJpdEdsLFxuICAgICAgICBtU0RGQml0R2wsXG4gICAgICAgIHJvdW5kUGl4ZWxzQml0R2xcbiAgICAgIF1cbiAgICB9KSk7XG4gICAgc3VwZXIoe1xuICAgICAgZ2xQcm9ncmFtLFxuICAgICAgZ3B1UHJvZ3JhbSxcbiAgICAgIHJlc291cmNlczoge1xuICAgICAgICBsb2NhbFVuaWZvcm1zOiB1bmlmb3JtcyxcbiAgICAgICAgYmF0Y2hTYW1wbGVyczogZ2V0QmF0Y2hTYW1wbGVyc1VuaWZvcm1Hcm91cChtYXhUZXh0dXJlcylcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBTZGZTaGFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNkZlNoYWRlci5tanMubWFwXG4iLCJpbXBvcnQgeyBDYWNoZSB9IGZyb20gJy4uLy4uL2Fzc2V0cy9jYWNoZS9DYWNoZS5tanMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQmlnUG9vbCB9IGZyb20gJy4uLy4uL3V0aWxzL3Bvb2wvUG9vbEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gJy4uL2dyYXBoaWNzL3NoYXJlZC9HcmFwaGljcy5tanMnO1xuaW1wb3J0IHsgU2RmU2hhZGVyIH0gZnJvbSAnLi4vdGV4dC9zZGZTaGFkZXIvU2RmU2hhZGVyLm1qcyc7XG5pbXBvcnQgeyBCaXRtYXBGb250TWFuYWdlciB9IGZyb20gJy4vQml0bWFwRm9udE1hbmFnZXIubWpzJztcbmltcG9ydCB7IGdldEJpdG1hcFRleHRMYXlvdXQgfSBmcm9tICcuL3V0aWxzL2dldEJpdG1hcFRleHRMYXlvdXQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBCaXRtYXBUZXh0UGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fZ3B1Qml0bWFwVGV4dCA9IHt9O1xuICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQgPSB0aGlzLmRlc3Ryb3lSZW5kZXJhYmxlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJhYmxlR0MuYWRkTWFuYWdlZEhhc2godGhpcywgXCJfZ3B1Qml0bWFwVGV4dFwiKTtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUoYml0bWFwVGV4dCkge1xuICAgIGNvbnN0IGdyYXBoaWNzUmVuZGVyYWJsZSA9IHRoaXMuX2dldEdwdUJpdG1hcFRleHQoYml0bWFwVGV4dCk7XG4gICAgaWYgKGJpdG1hcFRleHQuX2RpZFRleHRVcGRhdGUpIHtcbiAgICAgIGJpdG1hcFRleHQuX2RpZFRleHRVcGRhdGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3VwZGF0ZUNvbnRleHQoYml0bWFwVGV4dCwgZ3JhcGhpY3NSZW5kZXJhYmxlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmdyYXBoaWNzLnZhbGlkYXRlUmVuZGVyYWJsZShncmFwaGljc1JlbmRlcmFibGUpO1xuICB9XG4gIGFkZFJlbmRlcmFibGUoYml0bWFwVGV4dCwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBncmFwaGljc1JlbmRlcmFibGUgPSB0aGlzLl9nZXRHcHVCaXRtYXBUZXh0KGJpdG1hcFRleHQpO1xuICAgIHN5bmNXaXRoUHJveHkoYml0bWFwVGV4dCwgZ3JhcGhpY3NSZW5kZXJhYmxlKTtcbiAgICBpZiAoYml0bWFwVGV4dC5fZGlkVGV4dFVwZGF0ZSkge1xuICAgICAgYml0bWFwVGV4dC5fZGlkVGV4dFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fdXBkYXRlQ29udGV4dChiaXRtYXBUZXh0LCBncmFwaGljc1JlbmRlcmFibGUpO1xuICAgIH1cbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5ncmFwaGljcy5hZGRSZW5kZXJhYmxlKGdyYXBoaWNzUmVuZGVyYWJsZSwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGlmIChncmFwaGljc1JlbmRlcmFibGUuY29udGV4dC5jdXN0b21TaGFkZXIpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZURpc3RhbmNlRmllbGQoYml0bWFwVGV4dCk7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3lSZW5kZXJhYmxlKGJpdG1hcFRleHQpIHtcbiAgICBiaXRtYXBUZXh0Lm9mZihcImRlc3Ryb3llZFwiLCB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kKTtcbiAgICB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJ5VWlkKGJpdG1hcFRleHQudWlkKTtcbiAgfVxuICBfZGVzdHJveVJlbmRlcmFibGVCeVVpZChyZW5kZXJhYmxlVWlkKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuX2dwdUJpdG1hcFRleHRbcmVuZGVyYWJsZVVpZF0uY29udGV4dDtcbiAgICBpZiAoY29udGV4dC5jdXN0b21TaGFkZXIpIHtcbiAgICAgIEJpZ1Bvb2wucmV0dXJuKGNvbnRleHQuY3VzdG9tU2hhZGVyKTtcbiAgICAgIGNvbnRleHQuY3VzdG9tU2hhZGVyID0gbnVsbDtcbiAgICB9XG4gICAgQmlnUG9vbC5yZXR1cm4odGhpcy5fZ3B1Qml0bWFwVGV4dFtyZW5kZXJhYmxlVWlkXSk7XG4gICAgdGhpcy5fZ3B1Qml0bWFwVGV4dFtyZW5kZXJhYmxlVWlkXSA9IG51bGw7XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZShiaXRtYXBUZXh0KSB7XG4gICAgY29uc3QgZ3JhcGhpY3NSZW5kZXJhYmxlID0gdGhpcy5fZ2V0R3B1Qml0bWFwVGV4dChiaXRtYXBUZXh0KTtcbiAgICBzeW5jV2l0aFByb3h5KGJpdG1hcFRleHQsIGdyYXBoaWNzUmVuZGVyYWJsZSk7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuZ3JhcGhpY3MudXBkYXRlUmVuZGVyYWJsZShncmFwaGljc1JlbmRlcmFibGUpO1xuICAgIGlmIChncmFwaGljc1JlbmRlcmFibGUuY29udGV4dC5jdXN0b21TaGFkZXIpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZURpc3RhbmNlRmllbGQoYml0bWFwVGV4dCk7XG4gICAgfVxuICB9XG4gIF91cGRhdGVDb250ZXh0KGJpdG1hcFRleHQsIHByb3h5R3JhcGhpY3MpIHtcbiAgICBjb25zdCB7IGNvbnRleHQgfSA9IHByb3h5R3JhcGhpY3M7XG4gICAgY29uc3QgYml0bWFwRm9udCA9IEJpdG1hcEZvbnRNYW5hZ2VyLmdldEZvbnQoYml0bWFwVGV4dC50ZXh0LCBiaXRtYXBUZXh0Ll9zdHlsZSk7XG4gICAgY29udGV4dC5jbGVhcigpO1xuICAgIGlmIChiaXRtYXBGb250LmRpc3RhbmNlRmllbGQudHlwZSAhPT0gXCJub25lXCIpIHtcbiAgICAgIGlmICghY29udGV4dC5jdXN0b21TaGFkZXIpIHtcbiAgICAgICAgY29udGV4dC5jdXN0b21TaGFkZXIgPSBCaWdQb29sLmdldChTZGZTaGFkZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjaGFycyA9IEFycmF5LmZyb20oYml0bWFwVGV4dC50ZXh0KTtcbiAgICBjb25zdCBzdHlsZSA9IGJpdG1hcFRleHQuX3N0eWxlO1xuICAgIGxldCBjdXJyZW50WSA9IGJpdG1hcEZvbnQuYmFzZUxpbmVPZmZzZXQ7XG4gICAgY29uc3QgYml0bWFwVGV4dExheW91dCA9IGdldEJpdG1hcFRleHRMYXlvdXQoY2hhcnMsIHN0eWxlLCBiaXRtYXBGb250LCB0cnVlKTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGNvbnN0IHBhZGRpbmcgPSBzdHlsZS5wYWRkaW5nO1xuICAgIGNvbnN0IHNjYWxlID0gYml0bWFwVGV4dExheW91dC5zY2FsZTtcbiAgICBsZXQgdHggPSBiaXRtYXBUZXh0TGF5b3V0LndpZHRoO1xuICAgIGxldCB0eSA9IGJpdG1hcFRleHRMYXlvdXQuaGVpZ2h0ICsgYml0bWFwVGV4dExheW91dC5vZmZzZXRZO1xuICAgIGlmIChzdHlsZS5fc3Ryb2tlKSB7XG4gICAgICB0eCArPSBzdHlsZS5fc3Ryb2tlLndpZHRoIC8gc2NhbGU7XG4gICAgICB0eSArPSBzdHlsZS5fc3Ryb2tlLndpZHRoIC8gc2NhbGU7XG4gICAgfVxuICAgIGNvbnRleHQudHJhbnNsYXRlKC1iaXRtYXBUZXh0Ll9hbmNob3IuX3ggKiB0eCAtIHBhZGRpbmcsIC1iaXRtYXBUZXh0Ll9hbmNob3IuX3kgKiB0eSAtIHBhZGRpbmcpLnNjYWxlKHNjYWxlLCBzY2FsZSk7XG4gICAgY29uc3QgdGludCA9IGJpdG1hcEZvbnQuYXBwbHlGaWxsQXNUaW50ID8gc3R5bGUuX2ZpbGwuY29sb3IgOiAxNjc3NzIxNTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpdG1hcFRleHRMYXlvdXQubGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGxpbmUgPSBiaXRtYXBUZXh0TGF5b3V0LmxpbmVzW2ldO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsaW5lLmNoYXJQb3NpdGlvbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgY2hhciA9IGNoYXJzW2luZGV4KytdO1xuICAgICAgICBjb25zdCBjaGFyRGF0YSA9IGJpdG1hcEZvbnQuY2hhcnNbY2hhcl07XG4gICAgICAgIGlmIChjaGFyRGF0YT8udGV4dHVyZSkge1xuICAgICAgICAgIGNvbnRleHQudGV4dHVyZShcbiAgICAgICAgICAgIGNoYXJEYXRhLnRleHR1cmUsXG4gICAgICAgICAgICB0aW50ID8gdGludCA6IFwiYmxhY2tcIixcbiAgICAgICAgICAgIE1hdGgucm91bmQobGluZS5jaGFyUG9zaXRpb25zW2pdICsgY2hhckRhdGEueE9mZnNldCksXG4gICAgICAgICAgICBNYXRoLnJvdW5kKGN1cnJlbnRZICsgY2hhckRhdGEueU9mZnNldClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdXJyZW50WSArPSBiaXRtYXBGb250LmxpbmVIZWlnaHQ7XG4gICAgfVxuICB9XG4gIF9nZXRHcHVCaXRtYXBUZXh0KGJpdG1hcFRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ3B1Qml0bWFwVGV4dFtiaXRtYXBUZXh0LnVpZF0gfHwgdGhpcy5pbml0R3B1VGV4dChiaXRtYXBUZXh0KTtcbiAgfVxuICBpbml0R3B1VGV4dChiaXRtYXBUZXh0KSB7XG4gICAgY29uc3QgcHJveHlSZW5kZXJhYmxlID0gQmlnUG9vbC5nZXQoR3JhcGhpY3MpO1xuICAgIHRoaXMuX2dwdUJpdG1hcFRleHRbYml0bWFwVGV4dC51aWRdID0gcHJveHlSZW5kZXJhYmxlO1xuICAgIHRoaXMuX3VwZGF0ZUNvbnRleHQoYml0bWFwVGV4dCwgcHJveHlSZW5kZXJhYmxlKTtcbiAgICBiaXRtYXBUZXh0Lm9uKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICAgIHJldHVybiB0aGlzLl9ncHVCaXRtYXBUZXh0W2JpdG1hcFRleHQudWlkXTtcbiAgfVxuICBfdXBkYXRlRGlzdGFuY2VGaWVsZChiaXRtYXBUZXh0KSB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuX2dldEdwdUJpdG1hcFRleHQoYml0bWFwVGV4dCkuY29udGV4dDtcbiAgICBjb25zdCBmb250RmFtaWx5ID0gYml0bWFwVGV4dC5fc3R5bGUuZm9udEZhbWlseTtcbiAgICBjb25zdCBkeW5hbWljRm9udCA9IENhY2hlLmdldChgJHtmb250RmFtaWx5fS1iaXRtYXBgKTtcbiAgICBjb25zdCB7IGEsIGIsIGMsIGQgfSA9IGJpdG1hcFRleHQuZ3JvdXBUcmFuc2Zvcm07XG4gICAgY29uc3QgZHggPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYik7XG4gICAgY29uc3QgZHkgPSBNYXRoLnNxcnQoYyAqIGMgKyBkICogZCk7XG4gICAgY29uc3Qgd29ybGRTY2FsZSA9IChNYXRoLmFicyhkeCkgKyBNYXRoLmFicyhkeSkpIC8gMjtcbiAgICBjb25zdCBmb250U2NhbGUgPSBkeW5hbWljRm9udC5iYXNlUmVuZGVyZWRGb250U2l6ZSAvIGJpdG1hcFRleHQuX3N0eWxlLmZvbnRTaXplO1xuICAgIGNvbnN0IGRpc3RhbmNlID0gd29ybGRTY2FsZSAqIGR5bmFtaWNGb250LmRpc3RhbmNlRmllbGQucmFuZ2UgKiAoMSAvIGZvbnRTY2FsZSk7XG4gICAgY29udGV4dC5jdXN0b21TaGFkZXIucmVzb3VyY2VzLmxvY2FsVW5pZm9ybXMudW5pZm9ybXMudURpc3RhbmNlID0gZGlzdGFuY2U7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBmb3IgKGNvbnN0IHVpZCBpbiB0aGlzLl9ncHVCaXRtYXBUZXh0KSB7XG4gICAgICB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJ5VWlkKHVpZCk7XG4gICAgfVxuICAgIHRoaXMuX2dwdUJpdG1hcFRleHQgPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkJpdG1hcFRleHRQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJiaXRtYXBUZXh0XCJcbn07XG5mdW5jdGlvbiBzeW5jV2l0aFByb3h5KGNvbnRhaW5lciwgcHJveHkpIHtcbiAgcHJveHkuZ3JvdXBUcmFuc2Zvcm0gPSBjb250YWluZXIuZ3JvdXBUcmFuc2Zvcm07XG4gIHByb3h5Lmdyb3VwQ29sb3JBbHBoYSA9IGNvbnRhaW5lci5ncm91cENvbG9yQWxwaGE7XG4gIHByb3h5Lmdyb3VwQ29sb3IgPSBjb250YWluZXIuZ3JvdXBDb2xvcjtcbiAgcHJveHkuZ3JvdXBCbGVuZE1vZGUgPSBjb250YWluZXIuZ3JvdXBCbGVuZE1vZGU7XG4gIHByb3h5Lmdsb2JhbERpc3BsYXlTdGF0dXMgPSBjb250YWluZXIuZ2xvYmFsRGlzcGxheVN0YXR1cztcbiAgcHJveHkuZ3JvdXBUcmFuc2Zvcm0gPSBjb250YWluZXIuZ3JvdXBUcmFuc2Zvcm07XG4gIHByb3h5LmxvY2FsRGlzcGxheVN0YXR1cyA9IGNvbnRhaW5lci5sb2NhbERpc3BsYXlTdGF0dXM7XG4gIHByb3h5Lmdyb3VwQWxwaGEgPSBjb250YWluZXIuZ3JvdXBBbHBoYTtcbiAgcHJveHkuX3JvdW5kUGl4ZWxzID0gY29udGFpbmVyLl9yb3VuZFBpeGVscztcbn1cblxuZXhwb3J0IHsgQml0bWFwVGV4dFBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpdG1hcFRleHRQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEJpdG1hcFRleHRQaXBlIH0gZnJvbSAnLi9CaXRtYXBUZXh0UGlwZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmV4dGVuc2lvbnMuYWRkKEJpdG1hcFRleHRQaXBlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQmlnUG9vbCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3Bvb2wvUG9vbEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVTcHJpdGUgfSBmcm9tICcuLi8uLi9zcHJpdGUvQmF0Y2hhYmxlU3ByaXRlLm1qcyc7XG5pbXBvcnQgeyB1cGRhdGVUZXh0Qm91bmRzIH0gZnJvbSAnLi4vdXRpbHMvdXBkYXRlVGV4dEJvdW5kcy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIENhbnZhc1RleHRQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9ncHVUZXh0ID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCA9IHRoaXMuZGVzdHJveVJlbmRlcmFibGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJ1bm5lcnMucmVzb2x1dGlvbkNoYW5nZS5hZGQodGhpcyk7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyYWJsZUdDLmFkZE1hbmFnZWRIYXNoKHRoaXMsIFwiX2dwdVRleHRcIik7XG4gIH1cbiAgcmVzb2x1dGlvbkNoYW5nZSgpIHtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fZ3B1VGV4dCkge1xuICAgICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dwdVRleHRbaV07XG4gICAgICBpZiAoIWdwdVRleHQpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgY29uc3QgdGV4dCA9IGdwdVRleHQuYmF0Y2hhYmxlU3ByaXRlLnJlbmRlcmFibGU7XG4gICAgICBpZiAodGV4dC5fYXV0b1Jlc29sdXRpb24pIHtcbiAgICAgICAgdGV4dC5fcmVzb2x1dGlvbiA9IHRoaXMuX3JlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIHRleHQub25WaWV3VXBkYXRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZSh0ZXh0KSB7XG4gICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dldEdwdVRleHQodGV4dCk7XG4gICAgY29uc3QgbmV3S2V5ID0gdGV4dC5fZ2V0S2V5KCk7XG4gICAgaWYgKGdwdVRleHQuY3VycmVudEtleSAhPT0gbmV3S2V5KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGFkZFJlbmRlcmFibGUodGV4dCwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dCh0ZXh0KTtcbiAgICBjb25zdCBiYXRjaGFibGVTcHJpdGUgPSBncHVUZXh0LmJhdGNoYWJsZVNwcml0ZTtcbiAgICBpZiAodGV4dC5fZGlkVGV4dFVwZGF0ZSkge1xuICAgICAgdGhpcy5fdXBkYXRlVGV4dCh0ZXh0KTtcbiAgICB9XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYWRkVG9CYXRjaChiYXRjaGFibGVTcHJpdGUsIGluc3RydWN0aW9uU2V0KTtcbiAgfVxuICB1cGRhdGVSZW5kZXJhYmxlKHRleHQpIHtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dCh0ZXh0KTtcbiAgICBjb25zdCBiYXRjaGFibGVTcHJpdGUgPSBncHVUZXh0LmJhdGNoYWJsZVNwcml0ZTtcbiAgICBpZiAodGV4dC5fZGlkVGV4dFVwZGF0ZSkge1xuICAgICAgdGhpcy5fdXBkYXRlVGV4dCh0ZXh0KTtcbiAgICB9XG4gICAgYmF0Y2hhYmxlU3ByaXRlLl9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQoYmF0Y2hhYmxlU3ByaXRlKTtcbiAgfVxuICBkZXN0cm95UmVuZGVyYWJsZSh0ZXh0KSB7XG4gICAgdGV4dC5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCeUlkKHRleHQudWlkKTtcbiAgfVxuICBfZGVzdHJveVJlbmRlcmFibGVCeUlkKHRleHRVaWQpIHtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ3B1VGV4dFt0ZXh0VWlkXTtcbiAgICB0aGlzLl9yZW5kZXJlci5jYW52YXNUZXh0LmRlY3JlYXNlUmVmZXJlbmNlQ291bnQoZ3B1VGV4dC5jdXJyZW50S2V5KTtcbiAgICBCaWdQb29sLnJldHVybihncHVUZXh0LmJhdGNoYWJsZVNwcml0ZSk7XG4gICAgdGhpcy5fZ3B1VGV4dFt0ZXh0VWlkXSA9IG51bGw7XG4gIH1cbiAgX3VwZGF0ZVRleHQodGV4dCkge1xuICAgIGNvbnN0IG5ld0tleSA9IHRleHQuX2dldEtleSgpO1xuICAgIGNvbnN0IGdwdVRleHQgPSB0aGlzLl9nZXRHcHVUZXh0KHRleHQpO1xuICAgIGNvbnN0IGJhdGNoYWJsZVNwcml0ZSA9IGdwdVRleHQuYmF0Y2hhYmxlU3ByaXRlO1xuICAgIGlmIChncHVUZXh0LmN1cnJlbnRLZXkgIT09IG5ld0tleSkge1xuICAgICAgdGhpcy5fdXBkYXRlR3B1VGV4dCh0ZXh0KTtcbiAgICB9XG4gICAgdGV4dC5fZGlkVGV4dFVwZGF0ZSA9IGZhbHNlO1xuICAgIHVwZGF0ZVRleHRCb3VuZHMoYmF0Y2hhYmxlU3ByaXRlLCB0ZXh0KTtcbiAgfVxuICBfdXBkYXRlR3B1VGV4dCh0ZXh0KSB7XG4gICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dldEdwdVRleHQodGV4dCk7XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGU7XG4gICAgaWYgKGdwdVRleHQudGV4dHVyZSkge1xuICAgICAgdGhpcy5fcmVuZGVyZXIuY2FudmFzVGV4dC5kZWNyZWFzZVJlZmVyZW5jZUNvdW50KGdwdVRleHQuY3VycmVudEtleSk7XG4gICAgfVxuICAgIGdwdVRleHQudGV4dHVyZSA9IGJhdGNoYWJsZVNwcml0ZS50ZXh0dXJlID0gdGhpcy5fcmVuZGVyZXIuY2FudmFzVGV4dC5nZXRNYW5hZ2VkVGV4dHVyZSh0ZXh0KTtcbiAgICBncHVUZXh0LmN1cnJlbnRLZXkgPSB0ZXh0Ll9nZXRLZXkoKTtcbiAgICBiYXRjaGFibGVTcHJpdGUudGV4dHVyZSA9IGdwdVRleHQudGV4dHVyZTtcbiAgfVxuICBfZ2V0R3B1VGV4dCh0ZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuX2dwdVRleHRbdGV4dC51aWRdIHx8IHRoaXMuaW5pdEdwdVRleHQodGV4dCk7XG4gIH1cbiAgaW5pdEdwdVRleHQodGV4dCkge1xuICAgIGNvbnN0IGdwdVRleHREYXRhID0ge1xuICAgICAgdGV4dHVyZTogbnVsbCxcbiAgICAgIGN1cnJlbnRLZXk6IFwiLS1cIixcbiAgICAgIGJhdGNoYWJsZVNwcml0ZTogQmlnUG9vbC5nZXQoQmF0Y2hhYmxlU3ByaXRlKVxuICAgIH07XG4gICAgZ3B1VGV4dERhdGEuYmF0Y2hhYmxlU3ByaXRlLnJlbmRlcmFibGUgPSB0ZXh0O1xuICAgIGdwdVRleHREYXRhLmJhdGNoYWJsZVNwcml0ZS50cmFuc2Zvcm0gPSB0ZXh0Lmdyb3VwVHJhbnNmb3JtO1xuICAgIGdwdVRleHREYXRhLmJhdGNoYWJsZVNwcml0ZS5ib3VuZHMgPSB7IG1pblg6IDAsIG1heFg6IDEsIG1pblk6IDAsIG1heFk6IDAgfTtcbiAgICBncHVUZXh0RGF0YS5iYXRjaGFibGVTcHJpdGUucm91bmRQaXhlbHMgPSB0aGlzLl9yZW5kZXJlci5fcm91bmRQaXhlbHMgfCB0ZXh0Ll9yb3VuZFBpeGVscztcbiAgICB0aGlzLl9ncHVUZXh0W3RleHQudWlkXSA9IGdwdVRleHREYXRhO1xuICAgIHRleHQuX3Jlc29sdXRpb24gPSB0ZXh0Ll9hdXRvUmVzb2x1dGlvbiA/IHRoaXMuX3JlbmRlcmVyLnJlc29sdXRpb24gOiB0ZXh0LnJlc29sdXRpb247XG4gICAgdGhpcy5fdXBkYXRlVGV4dCh0ZXh0KTtcbiAgICB0ZXh0Lm9uKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICAgIHJldHVybiBncHVUZXh0RGF0YTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl9ncHVUZXh0KSB7XG4gICAgICB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJ5SWQoaSk7XG4gICAgfVxuICAgIHRoaXMuX2dwdVRleHQgPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkNhbnZhc1RleHRQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJ0ZXh0XCJcbn07XG5cbmV4cG9ydCB7IENhbnZhc1RleHRQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNUZXh0UGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICcuLi8uLi9tYXRocy9zaGFwZXMvUmVjdGFuZ2xlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gY2hlY2tSb3coZGF0YSwgd2lkdGgsIHkpIHtcbiAgZm9yIChsZXQgeCA9IDAsIGluZGV4ID0gNCAqIHkgKiB3aWR0aDsgeCA8IHdpZHRoOyArK3gsIGluZGV4ICs9IDQpIHtcbiAgICBpZiAoZGF0YVtpbmRleCArIDNdICE9PSAwKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gY2hlY2tDb2x1bW4oZGF0YSwgd2lkdGgsIHgsIHRvcCwgYm90dG9tKSB7XG4gIGNvbnN0IHN0cmlkZSA9IDQgKiB3aWR0aDtcbiAgZm9yIChsZXQgeSA9IHRvcCwgaW5kZXggPSB0b3AgKiBzdHJpZGUgKyA0ICogeDsgeSA8PSBib3R0b207ICsreSwgaW5kZXggKz0gc3RyaWRlKSB7XG4gICAgaWYgKGRhdGFbaW5kZXggKyAzXSAhPT0gMClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGdldENhbnZhc0JvdW5kaW5nQm94KGNhbnZhcywgcmVzb2x1dGlvbiA9IDEpIHtcbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBjYW52YXM7XG4gIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIsIHtcbiAgICB3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWVcbiAgfSk7XG4gIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBnZXQgY2FudmFzIDJEIGNvbnRleHRcIik7XG4gIH1cbiAgY29uc3QgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gIGNvbnN0IGRhdGEgPSBpbWFnZURhdGEuZGF0YTtcbiAgbGV0IGxlZnQgPSAwO1xuICBsZXQgdG9wID0gMDtcbiAgbGV0IHJpZ2h0ID0gd2lkdGggLSAxO1xuICBsZXQgYm90dG9tID0gaGVpZ2h0IC0gMTtcbiAgd2hpbGUgKHRvcCA8IGhlaWdodCAmJiBjaGVja1JvdyhkYXRhLCB3aWR0aCwgdG9wKSlcbiAgICArK3RvcDtcbiAgaWYgKHRvcCA9PT0gaGVpZ2h0KVxuICAgIHJldHVybiBSZWN0YW5nbGUuRU1QVFk7XG4gIHdoaWxlIChjaGVja1JvdyhkYXRhLCB3aWR0aCwgYm90dG9tKSlcbiAgICAtLWJvdHRvbTtcbiAgd2hpbGUgKGNoZWNrQ29sdW1uKGRhdGEsIHdpZHRoLCBsZWZ0LCB0b3AsIGJvdHRvbSkpXG4gICAgKytsZWZ0O1xuICB3aGlsZSAoY2hlY2tDb2x1bW4oZGF0YSwgd2lkdGgsIHJpZ2h0LCB0b3AsIGJvdHRvbSkpXG4gICAgLS1yaWdodDtcbiAgKytyaWdodDtcbiAgKytib3R0b207XG4gIHJldHVybiBuZXcgUmVjdGFuZ2xlKGxlZnQgLyByZXNvbHV0aW9uLCB0b3AgLyByZXNvbHV0aW9uLCAocmlnaHQgLSBsZWZ0KSAvIHJlc29sdXRpb24sIChib3R0b20gLSB0b3ApIC8gcmVzb2x1dGlvbik7XG59XG5cbmV4cG9ydCB7IGdldENhbnZhc0JvdW5kaW5nQm94IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRDYW52YXNCb3VuZGluZ0JveC5tanMubWFwXG4iLCJpbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uLy4uL2NvbG9yL0NvbG9yLm1qcyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBuZXh0UG93MiB9IGZyb20gJy4uLy4uLy4uL21hdGhzL21pc2MvcG93Mi5tanMnO1xuaW1wb3J0IHsgQ2FudmFzUG9vbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvQ2FudmFzUG9vbC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVBvb2wgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVQb29sLm1qcyc7XG5pbXBvcnQgeyBnZXRDYW52YXNCb3VuZGluZ0JveCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2NhbnZhcy9nZXRDYW52YXNCb3VuZGluZ0JveC5tanMnO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24gfSBmcm9tICcuLi8uLi8uLi91dGlscy9sb2dnaW5nL2RlcHJlY2F0aW9uLm1qcyc7XG5pbXBvcnQgeyBUZXh0U3R5bGUgfSBmcm9tICcuLi9UZXh0U3R5bGUubWpzJztcbmltcG9ydCB7IGdldFBvMlRleHR1cmVGcm9tU291cmNlIH0gZnJvbSAnLi4vdXRpbHMvZ2V0UG8yVGV4dHVyZUZyb21Tb3VyY2UubWpzJztcbmltcG9ydCB7IENhbnZhc1RleHRNZXRyaWNzIH0gZnJvbSAnLi9DYW52YXNUZXh0TWV0cmljcy5tanMnO1xuaW1wb3J0IHsgZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUgfSBmcm9tICcuL3V0aWxzL2ZvbnRTdHJpbmdGcm9tVGV4dFN0eWxlLm1qcyc7XG5pbXBvcnQgeyBnZXRDYW52YXNGaWxsU3R5bGUgfSBmcm9tICcuL3V0aWxzL2dldENhbnZhc0ZpbGxTdHlsZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIENhbnZhc1RleHRTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihfcmVuZGVyZXIpIHtcbiAgICB0aGlzLl9hY3RpdmVUZXh0dXJlcyA9IHt9O1xuICAgIHRoaXMuX3JlbmRlcmVyID0gX3JlbmRlcmVyO1xuICB9XG4gIGdldFRleHR1cmVTaXplKHRleHQsIHJlc29sdXRpb24sIHN0eWxlKSB7XG4gICAgY29uc3QgbWVhc3VyZWQgPSBDYW52YXNUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCh0ZXh0IHx8IFwiIFwiLCBzdHlsZSk7XG4gICAgbGV0IHdpZHRoID0gTWF0aC5jZWlsKE1hdGguY2VpbChNYXRoLm1heCgxLCBtZWFzdXJlZC53aWR0aCkgKyBzdHlsZS5wYWRkaW5nICogMikgKiByZXNvbHV0aW9uKTtcbiAgICBsZXQgaGVpZ2h0ID0gTWF0aC5jZWlsKE1hdGguY2VpbChNYXRoLm1heCgxLCBtZWFzdXJlZC5oZWlnaHQpICsgc3R5bGUucGFkZGluZyAqIDIpICogcmVzb2x1dGlvbik7XG4gICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGggLSAxZS02KTtcbiAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IC0gMWUtNik7XG4gICAgd2lkdGggPSBuZXh0UG93Mih3aWR0aCk7XG4gICAgaGVpZ2h0ID0gbmV4dFBvdzIoaGVpZ2h0KTtcbiAgICByZXR1cm4geyB3aWR0aCwgaGVpZ2h0IH07XG4gIH1cbiAgZ2V0VGV4dHVyZShvcHRpb25zLCByZXNvbHV0aW9uLCBzdHlsZSwgX3RleHRLZXkpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGRlcHJlY2F0aW9uKFwiOC4wLjBcIiwgXCJDYW52YXNUZXh0U3lzdGVtLmdldFRleHR1cmU6IFVzZSBvYmplY3QgVGV4dE9wdGlvbnMgaW5zdGVhZCBvZiBzZXBhcmF0ZSBhcmd1bWVudHNcIik7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICB0ZXh0OiBvcHRpb25zLFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgcmVzb2x1dGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCEob3B0aW9ucy5zdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSkpIHtcbiAgICAgIG9wdGlvbnMuc3R5bGUgPSBuZXcgVGV4dFN0eWxlKG9wdGlvbnMuc3R5bGUpO1xuICAgIH1cbiAgICBjb25zdCB7IHRleHR1cmUsIGNhbnZhc0FuZENvbnRleHQgfSA9IHRoaXMuY3JlYXRlVGV4dHVyZUFuZENhbnZhcyhcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuICAgIHRoaXMuX3JlbmRlcmVyLnRleHR1cmUuaW5pdFNvdXJjZSh0ZXh0dXJlLl9zb3VyY2UpO1xuICAgIENhbnZhc1Bvb2wucmV0dXJuQ2FudmFzQW5kQ29udGV4dChjYW52YXNBbmRDb250ZXh0KTtcbiAgICByZXR1cm4gdGV4dHVyZTtcbiAgfVxuICBjcmVhdGVUZXh0dXJlQW5kQ2FudmFzKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHRleHQsIHN0eWxlIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24gPz8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICBjb25zdCBtZWFzdXJlZCA9IENhbnZhc1RleHRNZXRyaWNzLm1lYXN1cmVUZXh0KHRleHQgfHwgXCIgXCIsIHN0eWxlKTtcbiAgICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbChNYXRoLmNlaWwoTWF0aC5tYXgoMSwgbWVhc3VyZWQud2lkdGgpICsgc3R5bGUucGFkZGluZyAqIDIpICogcmVzb2x1dGlvbik7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5jZWlsKE1hdGguY2VpbChNYXRoLm1heCgxLCBtZWFzdXJlZC5oZWlnaHQpICsgc3R5bGUucGFkZGluZyAqIDIpICogcmVzb2x1dGlvbik7XG4gICAgY29uc3QgY2FudmFzQW5kQ29udGV4dCA9IENhbnZhc1Bvb2wuZ2V0T3B0aW1hbENhbnZhc0FuZENvbnRleHQod2lkdGgsIGhlaWdodCk7XG4gICAgY29uc3QgeyBjYW52YXMgfSA9IGNhbnZhc0FuZENvbnRleHQ7XG4gICAgdGhpcy5yZW5kZXJUZXh0VG9DYW52YXModGV4dCwgc3R5bGUsIHJlc29sdXRpb24sIGNhbnZhc0FuZENvbnRleHQpO1xuICAgIGNvbnN0IHRleHR1cmUgPSBnZXRQbzJUZXh0dXJlRnJvbVNvdXJjZShjYW52YXMsIHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pO1xuICAgIGlmIChzdHlsZS50cmltKSB7XG4gICAgICBjb25zdCB0cmltbWVkID0gZ2V0Q2FudmFzQm91bmRpbmdCb3goY2FudmFzLCByZXNvbHV0aW9uKTtcbiAgICAgIHRleHR1cmUuZnJhbWUuY29weUZyb20odHJpbW1lZCk7XG4gICAgICB0ZXh0dXJlLnVwZGF0ZVV2cygpO1xuICAgIH1cbiAgICByZXR1cm4geyB0ZXh0dXJlLCBjYW52YXNBbmRDb250ZXh0IH07XG4gIH1cbiAgZ2V0TWFuYWdlZFRleHR1cmUodGV4dCkge1xuICAgIHRleHQuX3Jlc29sdXRpb24gPSB0ZXh0Ll9hdXRvUmVzb2x1dGlvbiA/IHRoaXMuX3JlbmRlcmVyLnJlc29sdXRpb24gOiB0ZXh0LnJlc29sdXRpb247XG4gICAgY29uc3QgdGV4dEtleSA9IHRleHQuX2dldEtleSgpO1xuICAgIGlmICh0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XSkge1xuICAgICAgdGhpcy5faW5jcmVhc2VSZWZlcmVuY2VDb3VudCh0ZXh0S2V5KTtcbiAgICAgIHJldHVybiB0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XS50ZXh0dXJlO1xuICAgIH1cbiAgICBjb25zdCB7IHRleHR1cmUsIGNhbnZhc0FuZENvbnRleHQgfSA9IHRoaXMuY3JlYXRlVGV4dHVyZUFuZENhbnZhcyh0ZXh0KTtcbiAgICB0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XSA9IHtcbiAgICAgIGNhbnZhc0FuZENvbnRleHQsXG4gICAgICB0ZXh0dXJlLFxuICAgICAgdXNhZ2VDb3VudDogMVxuICAgIH07XG4gICAgcmV0dXJuIHRleHR1cmU7XG4gIH1cbiAgX2luY3JlYXNlUmVmZXJlbmNlQ291bnQodGV4dEtleSkge1xuICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldLnVzYWdlQ291bnQrKztcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHRleHR1cmUgdGhhdCB3YXMgY3JlYXRlZCB3aXQgdGhlIGFib3ZlIGBnZXRUZXh0dXJlYCBmdW5jdGlvbi5cbiAgICogSGFuZHkgaWYgeW91IGFyZSBkb25lIHdpdGggYSB0ZXh0dXJlIGFuZCB3YW50IHRvIHJldHVybiBpdCB0byB0aGUgcG9vbC5cbiAgICogQHBhcmFtIHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byBiZSByZXR1cm5lZC5cbiAgICovXG4gIHJldHVyblRleHR1cmUodGV4dHVyZSkge1xuICAgIGNvbnN0IHNvdXJjZSA9IHRleHR1cmUuc291cmNlO1xuICAgIHNvdXJjZS5yZXNvdXJjZSA9IG51bGw7XG4gICAgc291cmNlLnVwbG9hZE1ldGhvZElkID0gXCJ1bmtub3duXCI7XG4gICAgc291cmNlLmFscGhhTW9kZSA9IFwibm8tcHJlbXVsdGlwbHktYWxwaGFcIjtcbiAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHRleHR1cmUpO1xuICB9XG4gIGRlY3JlYXNlUmVmZXJlbmNlQ291bnQodGV4dEtleSkge1xuICAgIGNvbnN0IGFjdGl2ZVRleHR1cmUgPSB0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XTtcbiAgICBhY3RpdmVUZXh0dXJlLnVzYWdlQ291bnQtLTtcbiAgICBpZiAoYWN0aXZlVGV4dHVyZS51c2FnZUNvdW50ID09PSAwKSB7XG4gICAgICBDYW52YXNQb29sLnJldHVybkNhbnZhc0FuZENvbnRleHQoYWN0aXZlVGV4dHVyZS5jYW52YXNBbmRDb250ZXh0KTtcbiAgICAgIHRoaXMucmV0dXJuVGV4dHVyZShhY3RpdmVUZXh0dXJlLnRleHR1cmUpO1xuICAgICAgdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0gPSBudWxsO1xuICAgIH1cbiAgfVxuICBnZXRSZWZlcmVuY2VDb3VudCh0ZXh0S2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldLnVzYWdlQ291bnQ7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlcnMgdGV4dCB0byBpdHMgY2FudmFzLCBhbmQgdXBkYXRlcyBpdHMgdGV4dHVyZS5cbiAgICpcbiAgICogQnkgZGVmYXVsdCB0aGlzIGlzIHVzZWQgaW50ZXJuYWxseSB0byBlbnN1cmUgdGhlIHRleHR1cmUgaXMgY29ycmVjdCBiZWZvcmUgcmVuZGVyaW5nLFxuICAgKiBidXQgaXQgY2FuIGJlIHVzZWQgY2FsbGVkIGV4dGVybmFsbHksIGZvciBleGFtcGxlIGZyb20gdGhpcyBjbGFzcyB0byAncHJlLWdlbmVyYXRlJyB0aGUgdGV4dHVyZSBmcm9tIGEgcGllY2Ugb2YgdGV4dCxcbiAgICogYW5kIHRoZW4gc2hhcmVkIGFjcm9zcyBtdWx0aXBsZSBTcHJpdGVzLlxuICAgKiBAcGFyYW0gdGV4dFxuICAgKiBAcGFyYW0gc3R5bGVcbiAgICogQHBhcmFtIHJlc29sdXRpb25cbiAgICogQHBhcmFtIGNhbnZhc0FuZENvbnRleHRcbiAgICovXG4gIHJlbmRlclRleHRUb0NhbnZhcyh0ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgY2FudmFzQW5kQ29udGV4dCkge1xuICAgIGNvbnN0IHsgY2FudmFzLCBjb250ZXh0IH0gPSBjYW52YXNBbmRDb250ZXh0O1xuICAgIGNvbnN0IGZvbnQgPSBmb250U3RyaW5nRnJvbVRleHRTdHlsZShzdHlsZSk7XG4gICAgY29uc3QgbWVhc3VyZWQgPSBDYW52YXNUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCh0ZXh0IHx8IFwiIFwiLCBzdHlsZSk7XG4gICAgY29uc3QgbGluZXMgPSBtZWFzdXJlZC5saW5lcztcbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICBjb25zdCBsaW5lV2lkdGhzID0gbWVhc3VyZWQubGluZVdpZHRocztcbiAgICBjb25zdCBtYXhMaW5lV2lkdGggPSBtZWFzdXJlZC5tYXhMaW5lV2lkdGg7XG4gICAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcbiAgICBjb25zdCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuICAgIGNvbnRleHQucmVzZXRUcmFuc2Zvcm0oKTtcbiAgICBjb250ZXh0LnNjYWxlKHJlc29sdXRpb24sIHJlc29sdXRpb24pO1xuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgIGlmIChzdHlsZS5fc3Ryb2tlPy53aWR0aCkge1xuICAgICAgY29uc3Qgc3Ryb2tlU3R5bGUgPSBzdHlsZS5fc3Ryb2tlO1xuICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHJva2VTdHlsZS53aWR0aDtcbiAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0cm9rZVN0eWxlLm1pdGVyTGltaXQ7XG4gICAgICBjb250ZXh0LmxpbmVKb2luID0gc3Ryb2tlU3R5bGUuam9pbjtcbiAgICAgIGNvbnRleHQubGluZUNhcCA9IHN0cm9rZVN0eWxlLmNhcDtcbiAgICB9XG4gICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICBsZXQgbGluZVBvc2l0aW9uWDtcbiAgICBsZXQgbGluZVBvc2l0aW9uWTtcbiAgICBjb25zdCBwYXNzZXNDb3VudCA9IHN0eWxlLmRyb3BTaGFkb3cgPyAyIDogMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3Nlc0NvdW50OyArK2kpIHtcbiAgICAgIGNvbnN0IGlzU2hhZG93UGFzcyA9IHN0eWxlLmRyb3BTaGFkb3cgJiYgaSA9PT0gMDtcbiAgICAgIGNvbnN0IGRzT2Zmc2V0VGV4dCA9IGlzU2hhZG93UGFzcyA/IE1hdGguY2VpbChNYXRoLm1heCgxLCBoZWlnaHQpICsgc3R5bGUucGFkZGluZyAqIDIpIDogMDtcbiAgICAgIGNvbnN0IGRzT2Zmc2V0U2hhZG93ID0gZHNPZmZzZXRUZXh0ICogcmVzb2x1dGlvbjtcbiAgICAgIGlmIChpc1NoYWRvd1Bhc3MpIHtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgICAgIGNvbnN0IHNoYWRvd09wdGlvbnMgPSBzdHlsZS5kcm9wU2hhZG93O1xuICAgICAgICBjb25zdCBkcm9wU2hhZG93Q29sb3IgPSBzaGFkb3dPcHRpb25zLmNvbG9yO1xuICAgICAgICBjb25zdCBkcm9wU2hhZG93QWxwaGEgPSBzaGFkb3dPcHRpb25zLmFscGhhO1xuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gQ29sb3Iuc2hhcmVkLnNldFZhbHVlKGRyb3BTaGFkb3dDb2xvcikuc2V0QWxwaGEoZHJvcFNoYWRvd0FscGhhKS50b1JnYmFTdHJpbmcoKTtcbiAgICAgICAgY29uc3QgZHJvcFNoYWRvd0JsdXIgPSBzaGFkb3dPcHRpb25zLmJsdXIgKiByZXNvbHV0aW9uO1xuICAgICAgICBjb25zdCBkcm9wU2hhZG93RGlzdGFuY2UgPSBzaGFkb3dPcHRpb25zLmRpc3RhbmNlICogcmVzb2x1dGlvbjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHNoYWRvd09wdGlvbnMuYW5nbGUpICogZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSBNYXRoLnNpbihzaGFkb3dPcHRpb25zLmFuZ2xlKSAqIGRyb3BTaGFkb3dEaXN0YW5jZSArIGRzT2Zmc2V0U2hhZG93O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBzdHlsZS5fZmlsbCA/IGdldENhbnZhc0ZpbGxTdHlsZShzdHlsZS5fZmlsbCwgY29udGV4dCwgbWVhc3VyZWQpIDogbnVsbDtcbiAgICAgICAgaWYgKHN0eWxlLl9zdHJva2U/LndpZHRoKSB7XG4gICAgICAgICAgY29uc3QgcGFkZGluZyA9IHN0eWxlLl9zdHJva2Uud2lkdGggKiBzdHlsZS5fc3Ryb2tlLmFsaWdubWVudDtcbiAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gZ2V0Q2FudmFzRmlsbFN0eWxlKHN0eWxlLl9zdHJva2UsIGNvbnRleHQsIG1lYXN1cmVkLCBwYWRkaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gXCJibGFja1wiO1xuICAgICAgfVxuICAgICAgbGV0IGxpbmVQb3NpdGlvbllTaGlmdCA9IChsaW5lSGVpZ2h0IC0gZm9udFByb3BlcnRpZXMuZm9udFNpemUpIC8gMjtcbiAgICAgIGlmIChsaW5lSGVpZ2h0IC0gZm9udFByb3BlcnRpZXMuZm9udFNpemUgPCAwKSB7XG4gICAgICAgIGxpbmVQb3NpdGlvbllTaGlmdCA9IDA7XG4gICAgICB9XG4gICAgICBjb25zdCBzdHJva2VXaWR0aCA9IHN0eWxlLl9zdHJva2U/LndpZHRoID8/IDA7XG4gICAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgbGluZXMubGVuZ3RoOyBpMisrKSB7XG4gICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHJva2VXaWR0aCAvIDI7XG4gICAgICAgIGxpbmVQb3NpdGlvblkgPSBzdHJva2VXaWR0aCAvIDIgKyBpMiAqIGxpbmVIZWlnaHQgKyBmb250UHJvcGVydGllcy5hc2NlbnQgKyBsaW5lUG9zaXRpb25ZU2hpZnQ7XG4gICAgICAgIGlmIChzdHlsZS5hbGlnbiA9PT0gXCJyaWdodFwiKSB7XG4gICAgICAgICAgbGluZVBvc2l0aW9uWCArPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2kyXTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gXCJjZW50ZXJcIikge1xuICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaTJdKSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlLl9zdHJva2U/LndpZHRoKSB7XG4gICAgICAgICAgdGhpcy5fZHJhd0xldHRlclNwYWNpbmcoXG4gICAgICAgICAgICBsaW5lc1tpMl0sXG4gICAgICAgICAgICBzdHlsZSxcbiAgICAgICAgICAgIGNhbnZhc0FuZENvbnRleHQsXG4gICAgICAgICAgICBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZyxcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlLl9maWxsICE9PSB2b2lkIDApIHtcbiAgICAgICAgICB0aGlzLl9kcmF3TGV0dGVyU3BhY2luZyhcbiAgICAgICAgICAgIGxpbmVzW2kyXSxcbiAgICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgICAgY2FudmFzQW5kQ29udGV4dCxcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLFxuICAgICAgICAgICAgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcgLSBkc09mZnNldFRleHRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZW5kZXIgdGhlIHRleHQgd2l0aCBsZXR0ZXItc3BhY2luZy5cbiAgICogQHBhcmFtIHRleHQgLSBUaGUgdGV4dCB0byBkcmF3XG4gICAqIEBwYXJhbSBzdHlsZVxuICAgKiBAcGFyYW0gY2FudmFzQW5kQ29udGV4dFxuICAgKiBAcGFyYW0geCAtIEhvcml6b250YWwgcG9zaXRpb24gdG8gZHJhdyB0aGUgdGV4dFxuICAgKiBAcGFyYW0geSAtIFZlcnRpY2FsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICogQHBhcmFtIGlzU3Ryb2tlIC0gSXMgdGhpcyBkcmF3aW5nIGZvciB0aGUgb3V0c2lkZSBzdHJva2Ugb2YgdGhlXG4gICAqICB0ZXh0PyBJZiBub3QsIGl0J3MgZm9yIHRoZSBpbnNpZGUgZmlsbFxuICAgKi9cbiAgX2RyYXdMZXR0ZXJTcGFjaW5nKHRleHQsIHN0eWxlLCBjYW52YXNBbmRDb250ZXh0LCB4LCB5LCBpc1N0cm9rZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgeyBjb250ZXh0IH0gPSBjYW52YXNBbmRDb250ZXh0O1xuICAgIGNvbnN0IGxldHRlclNwYWNpbmcgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuICAgIGxldCB1c2VFeHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nID0gZmFsc2U7XG4gICAgaWYgKENhbnZhc1RleHRNZXRyaWNzLmV4cGVyaW1lbnRhbExldHRlclNwYWNpbmdTdXBwb3J0ZWQpIHtcbiAgICAgIGlmIChDYW52YXNUZXh0TWV0cmljcy5leHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgIGNvbnRleHQubGV0dGVyU3BhY2luZyA9IGAke2xldHRlclNwYWNpbmd9cHhgO1xuICAgICAgICBjb250ZXh0LnRleHRMZXR0ZXJTcGFjaW5nID0gYCR7bGV0dGVyU3BhY2luZ31weGA7XG4gICAgICAgIHVzZUV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dC5sZXR0ZXJTcGFjaW5nID0gXCIwcHhcIjtcbiAgICAgICAgY29udGV4dC50ZXh0TGV0dGVyU3BhY2luZyA9IFwiMHB4XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChsZXR0ZXJTcGFjaW5nID09PSAwIHx8IHVzZUV4cGVyaW1lbnRhbExldHRlclNwYWNpbmcpIHtcbiAgICAgIGlmIChpc1N0cm9rZSkge1xuICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGV4dCwgeCwgeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgY3VycmVudFBvc2l0aW9uID0geDtcbiAgICBjb25zdCBzdHJpbmdBcnJheSA9IENhbnZhc1RleHRNZXRyaWNzLmdyYXBoZW1lU2VnbWVudGVyKHRleHQpO1xuICAgIGxldCBwcmV2aW91c1dpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aDtcbiAgICBsZXQgY3VycmVudFdpZHRoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ0FycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCBjdXJyZW50Q2hhciA9IHN0cmluZ0FycmF5W2ldO1xuICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoY3VycmVudENoYXIsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICB9XG4gICAgICBsZXQgdGV4dFN0ciA9IFwiXCI7XG4gICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBzdHJpbmdBcnJheS5sZW5ndGg7ICsraikge1xuICAgICAgICB0ZXh0U3RyICs9IHN0cmluZ0FycmF5W2pdO1xuICAgICAgfVxuICAgICAgY3VycmVudFdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0U3RyKS53aWR0aDtcbiAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSBwcmV2aW91c1dpZHRoIC0gY3VycmVudFdpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgIHByZXZpb3VzV2lkdGggPSBjdXJyZW50V2lkdGg7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fYWN0aXZlVGV4dHVyZXMgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuQ2FudmFzVGV4dFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwiY2FudmFzVGV4dFwiXG59O1xuXG5leHBvcnQgeyBDYW52YXNUZXh0U3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNUZXh0U3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IENhbnZhc1RleHRQaXBlIH0gZnJvbSAnLi9jYW52YXMvQ2FudmFzVGV4dFBpcGUubWpzJztcbmltcG9ydCB7IENhbnZhc1RleHRTeXN0ZW0gfSBmcm9tICcuL2NhbnZhcy9DYW52YXNUZXh0U3lzdGVtLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoQ2FudmFzVGV4dFN5c3RlbSk7XG5leHRlbnNpb25zLmFkZChDYW52YXNUZXh0UGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IGRlcHJlY2F0aW9uLCB2OF8wXzAgfSBmcm9tICcuLi8uLi91dGlscy9sb2dnaW5nL2RlcHJlY2F0aW9uLm1qcyc7XG5pbXBvcnQgeyBNZXNoR2VvbWV0cnkgfSBmcm9tICcuLi9tZXNoL3NoYXJlZC9NZXNoR2VvbWV0cnkubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfUGxhbmVHZW9tZXRyeSA9IGNsYXNzIF9QbGFuZUdlb21ldHJ5IGV4dGVuZHMgTWVzaEdlb21ldHJ5IHtcbiAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgIHN1cGVyKHt9KTtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3NbMF0gPz8ge307XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm51bWJlclwiKSB7XG4gICAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiUGxhbmVHZW9tZXRyeSBjb25zdHJ1Y3RvciBjaGFuZ2VkIHBsZWFzZSB1c2UgeyB3aWR0aCwgaGVpZ2h0LCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSB9IGluc3RlYWRcIik7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICB3aWR0aDogb3B0aW9ucyxcbiAgICAgICAgaGVpZ2h0OiBhcmdzWzFdLFxuICAgICAgICB2ZXJ0aWNlc1g6IGFyZ3NbMl0sXG4gICAgICAgIHZlcnRpY2VzWTogYXJnc1szXVxuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5idWlsZChvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogUmVmcmVzaGVzIHBsYW5lIGNvb3JkaW5hdGVzXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyB0byBiZSBhcHBsaWVkIHRvIHBsYW5lIGdlb21ldHJ5XG4gICAqL1xuICBidWlsZChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX1BsYW5lR2VvbWV0cnkuZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICB0aGlzLnZlcnRpY2VzWCA9IHRoaXMudmVydGljZXNYID8/IG9wdGlvbnMudmVydGljZXNYO1xuICAgIHRoaXMudmVydGljZXNZID0gdGhpcy52ZXJ0aWNlc1kgPz8gb3B0aW9ucy52ZXJ0aWNlc1k7XG4gICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggPz8gb3B0aW9ucy53aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHRoaXMuaGVpZ2h0ID8/IG9wdGlvbnMuaGVpZ2h0O1xuICAgIGNvbnN0IHRvdGFsID0gdGhpcy52ZXJ0aWNlc1ggKiB0aGlzLnZlcnRpY2VzWTtcbiAgICBjb25zdCB2ZXJ0cyA9IFtdO1xuICAgIGNvbnN0IHV2cyA9IFtdO1xuICAgIGNvbnN0IGluZGljZXMgPSBbXTtcbiAgICBjb25zdCB2ZXJ0aWNlc1ggPSB0aGlzLnZlcnRpY2VzWCAtIDE7XG4gICAgY29uc3QgdmVydGljZXNZID0gdGhpcy52ZXJ0aWNlc1kgLSAxO1xuICAgIGNvbnN0IHNpemVYID0gdGhpcy53aWR0aCAvIHZlcnRpY2VzWDtcbiAgICBjb25zdCBzaXplWSA9IHRoaXMuaGVpZ2h0IC8gdmVydGljZXNZO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgY29uc3QgeCA9IGkgJSB0aGlzLnZlcnRpY2VzWDtcbiAgICAgIGNvbnN0IHkgPSBpIC8gdGhpcy52ZXJ0aWNlc1ggfCAwO1xuICAgICAgdmVydHMucHVzaCh4ICogc2l6ZVgsIHkgKiBzaXplWSk7XG4gICAgICB1dnMucHVzaCh4IC8gdmVydGljZXNYLCB5IC8gdmVydGljZXNZKTtcbiAgICB9XG4gICAgY29uc3QgdG90YWxTdWIgPSB2ZXJ0aWNlc1ggKiB2ZXJ0aWNlc1k7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbFN1YjsgaSsrKSB7XG4gICAgICBjb25zdCB4cG9zID0gaSAlIHZlcnRpY2VzWDtcbiAgICAgIGNvbnN0IHlwb3MgPSBpIC8gdmVydGljZXNYIHwgMDtcbiAgICAgIGNvbnN0IHZhbHVlID0geXBvcyAqIHRoaXMudmVydGljZXNYICsgeHBvcztcbiAgICAgIGNvbnN0IHZhbHVlMiA9IHlwb3MgKiB0aGlzLnZlcnRpY2VzWCArIHhwb3MgKyAxO1xuICAgICAgY29uc3QgdmFsdWUzID0gKHlwb3MgKyAxKSAqIHRoaXMudmVydGljZXNYICsgeHBvcztcbiAgICAgIGNvbnN0IHZhbHVlNCA9ICh5cG9zICsgMSkgKiB0aGlzLnZlcnRpY2VzWCArIHhwb3MgKyAxO1xuICAgICAgaW5kaWNlcy5wdXNoKFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgdmFsdWUyLFxuICAgICAgICB2YWx1ZTMsXG4gICAgICAgIHZhbHVlMixcbiAgICAgICAgdmFsdWU0LFxuICAgICAgICB2YWx1ZTNcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuYnVmZmVyc1swXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cyk7XG4gICAgdGhpcy5idWZmZXJzWzFdLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHV2cyk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQzMkFycmF5KGluZGljZXMpO1xuICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICB0aGlzLmJ1ZmZlcnNbMV0udXBkYXRlKCk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgfVxufTtcbl9QbGFuZUdlb21ldHJ5LmRlZmF1bHRPcHRpb25zID0ge1xuICB3aWR0aDogMTAwLFxuICBoZWlnaHQ6IDEwMCxcbiAgdmVydGljZXNYOiAxMCxcbiAgdmVydGljZXNZOiAxMFxufTtcbmxldCBQbGFuZUdlb21ldHJ5ID0gX1BsYW5lR2VvbWV0cnk7XG5cbmV4cG9ydCB7IFBsYW5lR2VvbWV0cnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBsYW5lR2VvbWV0cnkubWpzLm1hcFxuIiwiaW1wb3J0IHsgUGxhbmVHZW9tZXRyeSB9IGZyb20gJy4uL21lc2gtcGxhbmUvUGxhbmVHZW9tZXRyeS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9OaW5lU2xpY2VHZW9tZXRyeSA9IGNsYXNzIF9OaW5lU2xpY2VHZW9tZXRyeSBleHRlbmRzIFBsYW5lR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBvcHRpb25zID0geyAuLi5fTmluZVNsaWNlR2VvbWV0cnkuZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICBzdXBlcih7XG4gICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCxcbiAgICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHQsXG4gICAgICB2ZXJ0aWNlc1g6IDQsXG4gICAgICB2ZXJ0aWNlc1k6IDRcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZShvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgTmluZVNsaWNlR2VvbWV0cnkgd2l0aCB0aGUgb3B0aW9ucy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBvZiB0aGUgTmluZVNsaWNlR2VvbWV0cnkuXG4gICAqL1xuICB1cGRhdGUob3B0aW9ucykge1xuICAgIHRoaXMud2lkdGggPSBvcHRpb25zLndpZHRoID8/IHRoaXMud2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCA/PyB0aGlzLmhlaWdodDtcbiAgICB0aGlzLl9vcmlnaW5hbFdpZHRoID0gb3B0aW9ucy5vcmlnaW5hbFdpZHRoID8/IHRoaXMuX29yaWdpbmFsV2lkdGg7XG4gICAgdGhpcy5fb3JpZ2luYWxIZWlnaHQgPSBvcHRpb25zLm9yaWdpbmFsSGVpZ2h0ID8/IHRoaXMuX29yaWdpbmFsSGVpZ2h0O1xuICAgIHRoaXMuX2xlZnRXaWR0aCA9IG9wdGlvbnMubGVmdFdpZHRoID8/IHRoaXMuX2xlZnRXaWR0aDtcbiAgICB0aGlzLl9yaWdodFdpZHRoID0gb3B0aW9ucy5yaWdodFdpZHRoID8/IHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgdGhpcy5fdG9wSGVpZ2h0ID0gb3B0aW9ucy50b3BIZWlnaHQgPz8gdGhpcy5fdG9wSGVpZ2h0O1xuICAgIHRoaXMuX2JvdHRvbUhlaWdodCA9IG9wdGlvbnMuYm90dG9tSGVpZ2h0ID8/IHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICB0aGlzLl9hbmNob3JYID0gb3B0aW9ucy5hbmNob3I/Lng7XG4gICAgdGhpcy5fYW5jaG9yWSA9IG9wdGlvbnMuYW5jaG9yPy55O1xuICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgdGhpcy51cGRhdGVQb3NpdGlvbnMoKTtcbiAgfVxuICAvKiogVXBkYXRlcyB0aGUgcG9zaXRpb25zIG9mIHRoZSB2ZXJ0aWNlcy4gKi9cbiAgdXBkYXRlUG9zaXRpb25zKCkge1xuICAgIGNvbnN0IHAgPSB0aGlzLnBvc2l0aW9ucztcbiAgICBjb25zdCB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIF9sZWZ0V2lkdGgsXG4gICAgICBfcmlnaHRXaWR0aCxcbiAgICAgIF90b3BIZWlnaHQsXG4gICAgICBfYm90dG9tSGVpZ2h0LFxuICAgICAgX2FuY2hvclgsXG4gICAgICBfYW5jaG9yWVxuICAgIH0gPSB0aGlzO1xuICAgIGNvbnN0IHcgPSBfbGVmdFdpZHRoICsgX3JpZ2h0V2lkdGg7XG4gICAgY29uc3Qgc2NhbGVXID0gd2lkdGggPiB3ID8gMSA6IHdpZHRoIC8gdztcbiAgICBjb25zdCBoID0gX3RvcEhlaWdodCArIF9ib3R0b21IZWlnaHQ7XG4gICAgY29uc3Qgc2NhbGVIID0gaGVpZ2h0ID4gaCA/IDEgOiBoZWlnaHQgLyBoO1xuICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4oc2NhbGVXLCBzY2FsZUgpO1xuICAgIGNvbnN0IGFuY2hvck9mZnNldFggPSBfYW5jaG9yWCAqIHdpZHRoO1xuICAgIGNvbnN0IGFuY2hvck9mZnNldFkgPSBfYW5jaG9yWSAqIGhlaWdodDtcbiAgICBwWzBdID0gcFs4XSA9IHBbMTZdID0gcFsyNF0gPSAtYW5jaG9yT2Zmc2V0WDtcbiAgICBwWzJdID0gcFsxMF0gPSBwWzE4XSA9IHBbMjZdID0gX2xlZnRXaWR0aCAqIHNjYWxlIC0gYW5jaG9yT2Zmc2V0WDtcbiAgICBwWzRdID0gcFsxMl0gPSBwWzIwXSA9IHBbMjhdID0gd2lkdGggLSBfcmlnaHRXaWR0aCAqIHNjYWxlIC0gYW5jaG9yT2Zmc2V0WDtcbiAgICBwWzZdID0gcFsxNF0gPSBwWzIyXSA9IHBbMzBdID0gd2lkdGggLSBhbmNob3JPZmZzZXRYO1xuICAgIHBbMV0gPSBwWzNdID0gcFs1XSA9IHBbN10gPSAtYW5jaG9yT2Zmc2V0WTtcbiAgICBwWzldID0gcFsxMV0gPSBwWzEzXSA9IHBbMTVdID0gX3RvcEhlaWdodCAqIHNjYWxlIC0gYW5jaG9yT2Zmc2V0WTtcbiAgICBwWzE3XSA9IHBbMTldID0gcFsyMV0gPSBwWzIzXSA9IGhlaWdodCAtIF9ib3R0b21IZWlnaHQgKiBzY2FsZSAtIGFuY2hvck9mZnNldFk7XG4gICAgcFsyNV0gPSBwWzI3XSA9IHBbMjldID0gcFszMV0gPSBoZWlnaHQgLSBhbmNob3JPZmZzZXRZO1xuICAgIHRoaXMuZ2V0QnVmZmVyKFwiYVBvc2l0aW9uXCIpLnVwZGF0ZSgpO1xuICB9XG4gIC8qKiBVcGRhdGVzIHRoZSBVVnMgb2YgdGhlIHZlcnRpY2VzLiAqL1xuICB1cGRhdGVVdnMoKSB7XG4gICAgY29uc3QgdXZzID0gdGhpcy51dnM7XG4gICAgdXZzWzBdID0gdXZzWzhdID0gdXZzWzE2XSA9IHV2c1syNF0gPSAwO1xuICAgIHV2c1sxXSA9IHV2c1szXSA9IHV2c1s1XSA9IHV2c1s3XSA9IDA7XG4gICAgdXZzWzZdID0gdXZzWzE0XSA9IHV2c1syMl0gPSB1dnNbMzBdID0gMTtcbiAgICB1dnNbMjVdID0gdXZzWzI3XSA9IHV2c1syOV0gPSB1dnNbMzFdID0gMTtcbiAgICBjb25zdCBfdXZ3ID0gMSAvIHRoaXMuX29yaWdpbmFsV2lkdGg7XG4gICAgY29uc3QgX3V2aCA9IDEgLyB0aGlzLl9vcmlnaW5hbEhlaWdodDtcbiAgICB1dnNbMl0gPSB1dnNbMTBdID0gdXZzWzE4XSA9IHV2c1syNl0gPSBfdXZ3ICogdGhpcy5fbGVmdFdpZHRoO1xuICAgIHV2c1s5XSA9IHV2c1sxMV0gPSB1dnNbMTNdID0gdXZzWzE1XSA9IF91dmggKiB0aGlzLl90b3BIZWlnaHQ7XG4gICAgdXZzWzRdID0gdXZzWzEyXSA9IHV2c1syMF0gPSB1dnNbMjhdID0gMSAtIF91dncgKiB0aGlzLl9yaWdodFdpZHRoO1xuICAgIHV2c1sxN10gPSB1dnNbMTldID0gdXZzWzIxXSA9IHV2c1syM10gPSAxIC0gX3V2aCAqIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICB0aGlzLmdldEJ1ZmZlcihcImFVVlwiKS51cGRhdGUoKTtcbiAgfVxufTtcbi8qKiBUaGUgZGVmYXVsdCBvcHRpb25zIGZvciB0aGUgTmluZVNsaWNlR2VvbWV0cnkuICovXG5fTmluZVNsaWNlR2VvbWV0cnkuZGVmYXVsdE9wdGlvbnMgPSB7XG4gIC8qKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmUuICovXG4gIHdpZHRoOiAxMDAsXG4gIC8qKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lLiAqL1xuICBoZWlnaHQ6IDEwMCxcbiAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW4uICovXG4gIGxlZnRXaWR0aDogMTAsXG4gIC8qKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93LiAqL1xuICB0b3BIZWlnaHQ6IDEwLFxuICAvKiogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW4uICovXG4gIHJpZ2h0V2lkdGg6IDEwLFxuICAvKiogVGhlIGhlaWdodCBvZiB0aGUgYm90dG9tIHJvdy4gKi9cbiAgYm90dG9tSGVpZ2h0OiAxMCxcbiAgLyoqIFRoZSBvcmlnaW5hbCB3aWR0aCBvZiB0aGUgdGV4dHVyZSAqL1xuICBvcmlnaW5hbFdpZHRoOiAxMDAsXG4gIC8qKiBUaGUgb3JpZ2luYWwgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlICovXG4gIG9yaWdpbmFsSGVpZ2h0OiAxMDBcbn07XG5sZXQgTmluZVNsaWNlR2VvbWV0cnkgPSBfTmluZVNsaWNlR2VvbWV0cnk7XG5cbmV4cG9ydCB7IE5pbmVTbGljZUdlb21ldHJ5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OaW5lU2xpY2VHZW9tZXRyeS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IEJhdGNoYWJsZU1lc2ggfSBmcm9tICcuLi9tZXNoL3NoYXJlZC9CYXRjaGFibGVNZXNoLm1qcyc7XG5pbXBvcnQgeyBOaW5lU2xpY2VHZW9tZXRyeSB9IGZyb20gJy4vTmluZVNsaWNlR2VvbWV0cnkubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBOaW5lU2xpY2VTcHJpdGVQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9ncHVTcHJpdGVIYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCA9IHRoaXMuZGVzdHJveVJlbmRlcmFibGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlcmFibGVHQy5hZGRNYW5hZ2VkSGFzaCh0aGlzLCBcIl9ncHVTcHJpdGVIYXNoXCIpO1xuICB9XG4gIGFkZFJlbmRlcmFibGUoc3ByaXRlLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGdwdVNwcml0ZSA9IHRoaXMuX2dldEdwdVNwcml0ZShzcHJpdGUpO1xuICAgIGlmIChzcHJpdGUuZGlkVmlld1VwZGF0ZSlcbiAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZShzcHJpdGUsIGdwdVNwcml0ZSk7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYWRkVG9CYXRjaChncHVTcHJpdGUsIGluc3RydWN0aW9uU2V0KTtcbiAgfVxuICB1cGRhdGVSZW5kZXJhYmxlKHNwcml0ZSkge1xuICAgIGNvbnN0IGdwdVNwcml0ZSA9IHRoaXMuX2dwdVNwcml0ZUhhc2hbc3ByaXRlLnVpZF07XG4gICAgaWYgKHNwcml0ZS5kaWRWaWV3VXBkYXRlKVxuICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hhYmxlU3ByaXRlKHNwcml0ZSwgZ3B1U3ByaXRlKTtcbiAgICBncHVTcHJpdGUuX2JhdGNoZXIudXBkYXRlRWxlbWVudChncHVTcHJpdGUpO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShzcHJpdGUpIHtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9nZXRHcHVTcHJpdGUoc3ByaXRlKTtcbiAgICByZXR1cm4gIWdwdVNwcml0ZS5fYmF0Y2hlci5jaGVja0FuZFVwZGF0ZVRleHR1cmUoXG4gICAgICBncHVTcHJpdGUsXG4gICAgICBzcHJpdGUuX3RleHR1cmVcbiAgICApO1xuICB9XG4gIGRlc3Ryb3lSZW5kZXJhYmxlKHNwcml0ZSkge1xuICAgIGNvbnN0IGJhdGNoYWJsZU1lc2ggPSB0aGlzLl9ncHVTcHJpdGVIYXNoW3Nwcml0ZS51aWRdO1xuICAgIEJpZ1Bvb2wucmV0dXJuKGJhdGNoYWJsZU1lc2guZ2VvbWV0cnkpO1xuICAgIEJpZ1Bvb2wucmV0dXJuKGJhdGNoYWJsZU1lc2gpO1xuICAgIHRoaXMuX2dwdVNwcml0ZUhhc2hbc3ByaXRlLnVpZF0gPSBudWxsO1xuICAgIHNwcml0ZS5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gIH1cbiAgX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZShzcHJpdGUsIGJhdGNoYWJsZVNwcml0ZSkge1xuICAgIGJhdGNoYWJsZVNwcml0ZS5nZW9tZXRyeS51cGRhdGUoc3ByaXRlKTtcbiAgICBiYXRjaGFibGVTcHJpdGUuc2V0VGV4dHVyZShzcHJpdGUuX3RleHR1cmUpO1xuICB9XG4gIF9nZXRHcHVTcHJpdGUoc3ByaXRlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dwdVNwcml0ZUhhc2hbc3ByaXRlLnVpZF0gfHwgdGhpcy5faW5pdEdQVVNwcml0ZShzcHJpdGUpO1xuICB9XG4gIF9pbml0R1BVU3ByaXRlKHNwcml0ZSkge1xuICAgIGNvbnN0IGJhdGNoYWJsZU1lc2ggPSBCaWdQb29sLmdldChCYXRjaGFibGVNZXNoKTtcbiAgICBiYXRjaGFibGVNZXNoLmdlb21ldHJ5ID0gQmlnUG9vbC5nZXQoTmluZVNsaWNlR2VvbWV0cnkpO1xuICAgIGJhdGNoYWJsZU1lc2gucmVuZGVyYWJsZSA9IHNwcml0ZTtcbiAgICBiYXRjaGFibGVNZXNoLnRyYW5zZm9ybSA9IHNwcml0ZS5ncm91cFRyYW5zZm9ybTtcbiAgICBiYXRjaGFibGVNZXNoLnRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgYmF0Y2hhYmxlTWVzaC5yb3VuZFBpeGVscyA9IHRoaXMuX3JlbmRlcmVyLl9yb3VuZFBpeGVscyB8IHNwcml0ZS5fcm91bmRQaXhlbHM7XG4gICAgdGhpcy5fZ3B1U3ByaXRlSGFzaFtzcHJpdGUudWlkXSA9IGJhdGNoYWJsZU1lc2g7XG4gICAgaWYgKCFzcHJpdGUuZGlkVmlld1VwZGF0ZSkge1xuICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hhYmxlU3ByaXRlKHNwcml0ZSwgYmF0Y2hhYmxlTWVzaCk7XG4gICAgfVxuICAgIHNwcml0ZS5vbihcImRlc3Ryb3llZFwiLCB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kKTtcbiAgICByZXR1cm4gYmF0Y2hhYmxlTWVzaDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl9ncHVTcHJpdGVIYXNoKSB7XG4gICAgICBjb25zdCBiYXRjaGFibGVNZXNoID0gdGhpcy5fZ3B1U3ByaXRlSGFzaFtpXTtcbiAgICAgIGJhdGNoYWJsZU1lc2guZ2VvbWV0cnkuZGVzdHJveSgpO1xuICAgIH1cbiAgICB0aGlzLl9ncHVTcHJpdGVIYXNoID0gbnVsbDtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5OaW5lU2xpY2VTcHJpdGVQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJuaW5lU2xpY2VTcHJpdGVcIlxufTtcblxuZXhwb3J0IHsgTmluZVNsaWNlU3ByaXRlUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TmluZVNsaWNlU3ByaXRlUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBOaW5lU2xpY2VTcHJpdGVQaXBlIH0gZnJvbSAnLi9OaW5lU2xpY2VTcHJpdGVQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoTmluZVNsaWNlU3ByaXRlUGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgYmxlbmRNb2RlSWRzID0ge1xuICBub3JtYWw6IDAsXG4gIGFkZDogMSxcbiAgbXVsdGlwbHk6IDIsXG4gIHNjcmVlbjogMyxcbiAgb3ZlcmxheTogNCxcbiAgZXJhc2U6IDUsXG4gIFwibm9ybWFsLW5wbVwiOiA2LFxuICBcImFkZC1ucG1cIjogNyxcbiAgXCJzY3JlZW4tbnBtXCI6IDgsXG4gIG1pbjogOSxcbiAgbWF4OiAxMFxufTtcbmNvbnN0IEJMRU5EID0gMDtcbmNvbnN0IE9GRlNFVCA9IDE7XG5jb25zdCBDVUxMSU5HID0gMjtcbmNvbnN0IERFUFRIX1RFU1QgPSAzO1xuY29uc3QgV0lORElORyA9IDQ7XG5jb25zdCBERVBUSF9NQVNLID0gNTtcbmNvbnN0IF9TdGF0ZSA9IGNsYXNzIF9TdGF0ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGF0YSA9IDA7XG4gICAgdGhpcy5ibGVuZE1vZGUgPSBcIm5vcm1hbFwiO1xuICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG4gICAgdGhpcy5ibGVuZCA9IHRydWU7XG4gICAgdGhpcy5kZXB0aE1hc2sgPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgYmxlbmRpbmcgb2YgdGhlIGNvbXB1dGVkIGZyYWdtZW50IGNvbG9yIHZhbHVlcy5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgZ2V0IGJsZW5kKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IEJMRU5EKTtcbiAgfVxuICBzZXQgYmxlbmQodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBCTEVORCkgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBCTEVORDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBhZGRpbmcgYW4gb2Zmc2V0IHRvIGRlcHRoIHZhbHVlcyBvZiBwb2x5Z29uJ3MgZnJhZ21lbnRzXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgb2Zmc2V0cygpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBPRkZTRVQpO1xuICB9XG4gIHNldCBvZmZzZXRzKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgT0ZGU0VUKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IE9GRlNFVDtcbiAgICB9XG4gIH1cbiAgLyoqIFRoZSBjdWxsaW5nIHNldHRpbmdzIGZvciB0aGlzIHN0YXRlIG5vbmUgLSBObyBjdWxsaW5nIGJhY2sgLSBCYWNrIGZhY2UgY3VsbGluZyBmcm9udCAtIEZyb250IGZhY2UgY3VsbGluZyAqL1xuICBzZXQgY3VsbE1vZGUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IFwibm9uZVwiKSB7XG4gICAgICB0aGlzLmN1bGxpbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jdWxsaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmNsb2Nrd2lzZUZyb250RmFjZSA9IHZhbHVlID09PSBcImZyb250XCI7XG4gIH1cbiAgZ2V0IGN1bGxNb2RlKCkge1xuICAgIGlmICghdGhpcy5jdWxsaW5nKSB7XG4gICAgICByZXR1cm4gXCJub25lXCI7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNsb2Nrd2lzZUZyb250RmFjZSA/IFwiZnJvbnRcIiA6IFwiYmFja1wiO1xuICB9XG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgY3VsbGluZyBvZiBwb2x5Z29ucy5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGdldCBjdWxsaW5nKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IENVTExJTkcpO1xuICB9XG4gIHNldCBjdWxsaW5nKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgQ1VMTElORykgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBDVUxMSU5HO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIGRlcHRoIGNvbXBhcmlzb25zIGFuZCB1cGRhdGVzIHRvIHRoZSBkZXB0aCBidWZmZXIuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgZGVwdGhUZXN0KCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX1RFU1QpO1xuICB9XG4gIHNldCBkZXB0aFRlc3QodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9URVNUKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IERFUFRIX1RFU1Q7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIHdyaXRpbmcgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgZ2V0IGRlcHRoTWFzaygpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9NQVNLKTtcbiAgfVxuICBzZXQgZGVwdGhNYXNrKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgREVQVEhfTUFTSykgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBERVBUSF9NQVNLO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IGZyb250IG9yIGJhY2stZmFjaW5nIHBvbHlnb25zIGNhbiBiZSBjdWxsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgY2xvY2t3aXNlRnJvbnRGYWNlKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IFdJTkRJTkcpO1xuICB9XG4gIHNldCBjbG9ja3dpc2VGcm9udEZhY2UodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBXSU5ESU5HKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IFdJTkRJTkc7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHdoZW4gdGhpcyBzdGF0ZSBpcyBzZXQuIEFwcGx5IGEgdmFsdWUgb2YgYG5vcm1hbGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAqIFNldHRpbmcgdGhpcyBtb2RlIHRvIGFueXRoaW5nIG90aGVyIHRoYW4gTk9fQkxFTkQgd2lsbCBhdXRvbWF0aWNhbGx5IHN3aXRjaCBibGVuZGluZyBvbi5cbiAgICogQGRlZmF1bHQgJ25vcm1hbCdcbiAgICovXG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbiAgfVxuICBzZXQgYmxlbmRNb2RlKHZhbHVlKSB7XG4gICAgdGhpcy5ibGVuZCA9IHZhbHVlICE9PSBcIm5vbmVcIjtcbiAgICB0aGlzLl9ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB0aGlzLl9ibGVuZE1vZGVJZCA9IGJsZW5kTW9kZUlkc1t2YWx1ZV0gfHwgMDtcbiAgfVxuICAvKipcbiAgICogVGhlIHBvbHlnb24gb2Zmc2V0LiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiAwIHdpbGwgYXV0b21hdGljYWxseSBlbmFibGUgcG9seWdvbiBvZmZzZXQgZmlsbC5cbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgZ2V0IHBvbHlnb25PZmZzZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BvbHlnb25PZmZzZXQ7XG4gIH1cbiAgc2V0IHBvbHlnb25PZmZzZXQodmFsdWUpIHtcbiAgICB0aGlzLm9mZnNldHMgPSAhIXZhbHVlO1xuICAgIHRoaXMuX3BvbHlnb25PZmZzZXQgPSB2YWx1ZTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFtwaXhpLmpzL2NvcmU6U3RhdGUgYmxlbmRNb2RlPSR7dGhpcy5ibGVuZE1vZGV9IGNsb2Nrd2lzZUZyb250RmFjZT0ke3RoaXMuY2xvY2t3aXNlRnJvbnRGYWNlfSBjdWxsaW5nPSR7dGhpcy5jdWxsaW5nfSBkZXB0aE1hc2s9JHt0aGlzLmRlcHRoTWFza30gcG9seWdvbk9mZnNldD0ke3RoaXMucG9seWdvbk9mZnNldH1dYDtcbiAgfVxuICAvKipcbiAgICogQSBxdWlja2x5IGdldHRpbmcgYW4gaW5zdGFuY2Ugb2YgYSBTdGF0ZSB0aGF0IGlzIGNvbmZpZ3VyZWQgZm9yIDJkIHJlbmRlcmluZy5cbiAgICogQHJldHVybnMgYSBuZXcgU3RhdGUgd2l0aCB2YWx1ZXMgc2V0IGZvciAyZCByZW5kZXJpbmdcbiAgICovXG4gIHN0YXRpYyBmb3IyZCgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IG5ldyBfU3RhdGUoKTtcbiAgICBzdGF0ZS5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICBzdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG59O1xuX1N0YXRlLmRlZmF1bHQyZCA9IF9TdGF0ZS5mb3IyZCgpO1xubGV0IFN0YXRlID0gX1N0YXRlO1xuXG5leHBvcnQgeyBTdGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhdGUubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBCYXRjaGFibGVTcHJpdGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJhdGNoZXJOYW1lID0gXCJkZWZhdWx0XCI7XG4gICAgdGhpcy50b3BvbG9neSA9IFwidHJpYW5nbGUtbGlzdFwiO1xuICAgIC8vIGJhdGNoIHNwZWNpZmljLi5cbiAgICB0aGlzLmF0dHJpYnV0ZVNpemUgPSA0O1xuICAgIHRoaXMuaW5kZXhTaXplID0gNjtcbiAgICB0aGlzLnBhY2tBc1F1YWQgPSB0cnVlO1xuICAgIHRoaXMucm91bmRQaXhlbHMgPSAwO1xuICAgIHRoaXMuX2F0dHJpYnV0ZVN0YXJ0ID0gMDtcbiAgICAvLyBsb2NhdGlvbiBpbiB0aGUgYnVmZmVyXG4gICAgdGhpcy5fYmF0Y2hlciA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2ggPSBudWxsO1xuICB9XG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyYWJsZS5ncm91cEJsZW5kTW9kZTtcbiAgfVxuICBnZXQgY29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyYWJsZS5ncm91cENvbG9yQWxwaGE7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5yZW5kZXJhYmxlID0gbnVsbDtcbiAgICB0aGlzLnRleHR1cmUgPSBudWxsO1xuICAgIHRoaXMuX2JhdGNoZXIgPSBudWxsO1xuICAgIHRoaXMuX2JhdGNoID0gbnVsbDtcbiAgICB0aGlzLmJvdW5kcyA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmF0Y2hhYmxlU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaGFibGVTcHJpdGUubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0aWxpbmdCaXQgPSB7XG4gIG5hbWU6IFwidGlsaW5nLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHN0cnVjdCBUaWxpbmdVbmlmb3JtcyB7XG4gICAgICAgICAgICAgICAgdU1hcENvb3JkOm1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVDbGFtcEZyYW1lOnZlYzQ8ZjMyPixcbiAgICAgICAgICAgICAgICB1Q2xhbXBPZmZzZXQ6dmVjMjxmMzI+LFxuICAgICAgICAgICAgICAgIHVUZXh0dXJlVHJhbnNmb3JtOm1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVTaXplQW5jaG9yOnZlYzQ8ZjMyPlxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiB0aWxpbmdVbmlmb3JtczogVGlsaW5nVW5pZm9ybXM7XG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMSkgdmFyIHVUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMikgdmFyIHVTYW1wbGVyOiBzYW1wbGVyO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICB1diA9ICh0aWxpbmdVbmlmb3Jtcy51VGV4dHVyZVRyYW5zZm9ybSAqIHZlYzModXYsIDEuMCkpLnh5O1xuXG4gICAgICAgICAgICBwb3NpdGlvbiA9IChwb3NpdGlvbiAtIHRpbGluZ1VuaWZvcm1zLnVTaXplQW5jaG9yLnp3KSAqIHRpbGluZ1VuaWZvcm1zLnVTaXplQW5jaG9yLnh5O1xuICAgICAgICBgXG4gICAgKVxuICB9LFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgc3RydWN0IFRpbGluZ1VuaWZvcm1zIHtcbiAgICAgICAgICAgICAgICB1TWFwQ29vcmQ6bWF0M3gzPGYzMj4sXG4gICAgICAgICAgICAgICAgdUNsYW1wRnJhbWU6dmVjNDxmMzI+LFxuICAgICAgICAgICAgICAgIHVDbGFtcE9mZnNldDp2ZWMyPGYzMj4sXG4gICAgICAgICAgICAgICAgdVRleHR1cmVUcmFuc2Zvcm06bWF0M3gzPGYzMj4sXG4gICAgICAgICAgICAgICAgdVNpemVBbmNob3I6dmVjNDxmMzI+XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IHRpbGluZ1VuaWZvcm1zOiBUaWxpbmdVbmlmb3JtcztcbiAgICAgICAgICAgIEBncm91cCgyKSBAYmluZGluZygxKSB2YXIgdVRleHR1cmU6IHRleHR1cmVfMmQ8ZjMyPjtcbiAgICAgICAgICAgIEBncm91cCgyKSBAYmluZGluZygyKSB2YXIgdVNhbXBsZXI6IHNhbXBsZXI7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcblxuICAgICAgICAgICAgdmFyIGNvb3JkID0gdlVWICsgY2VpbCh0aWxpbmdVbmlmb3Jtcy51Q2xhbXBPZmZzZXQgLSB2VVYpO1xuICAgICAgICAgICAgY29vcmQgPSAodGlsaW5nVW5pZm9ybXMudU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XG4gICAgICAgICAgICB2YXIgdW5jbGFtcGVkID0gY29vcmQ7XG4gICAgICAgICAgICBjb29yZCA9IGNsYW1wKGNvb3JkLCB0aWxpbmdVbmlmb3Jtcy51Q2xhbXBGcmFtZS54eSwgdGlsaW5nVW5pZm9ybXMudUNsYW1wRnJhbWUuencpO1xuXG4gICAgICAgICAgICB2YXIgYmlhcyA9IDAuO1xuXG4gICAgICAgICAgICBpZih1bmNsYW1wZWQueCA9PSBjb29yZC54ICYmIHVuY2xhbXBlZC55ID09IGNvb3JkLnkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmlhcyA9IC0zMi47XG4gICAgICAgICAgICB9IFxuXG4gICAgICAgICAgICBvdXRDb2xvciA9IHRleHR1cmVTYW1wbGVCaWFzKHVUZXh0dXJlLCB1U2FtcGxlciwgY29vcmQsIGJpYXMpO1xuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuY29uc3QgdGlsaW5nQml0R2wgPSB7XG4gIG5hbWU6IFwidGlsaW5nLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHVuaWZvcm0gbWF0MyB1VGV4dHVyZVRyYW5zZm9ybTtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjNCB1U2l6ZUFuY2hvcjtcbiAgICAgICAgXG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHV2ID0gKHVUZXh0dXJlVHJhbnNmb3JtICogdmVjMyhhVVYsIDEuMCkpLnh5O1xuXG4gICAgICAgICAgICBwb3NpdGlvbiA9IChwb3NpdGlvbiAtIHVTaXplQW5jaG9yLnp3KSAqIHVTaXplQW5jaG9yLnh5O1xuICAgICAgICBgXG4gICAgKVxuICB9LFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XG4gICAgICAgICAgICB1bmlmb3JtIG1hdDMgdU1hcENvb3JkO1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWM0IHVDbGFtcEZyYW1lO1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuXG4gICAgICAgIHZlYzIgY29vcmQgPSB2VVYgKyBjZWlsKHVDbGFtcE9mZnNldCAtIHZVVik7XG4gICAgICAgIGNvb3JkID0gKHVNYXBDb29yZCAqIHZlYzMoY29vcmQsIDEuMCkpLnh5O1xuICAgICAgICB2ZWMyIHVuY2xhbXBlZCA9IGNvb3JkO1xuICAgICAgICBjb29yZCA9IGNsYW1wKGNvb3JkLCB1Q2xhbXBGcmFtZS54eSwgdUNsYW1wRnJhbWUuencpO1xuICAgICAgICBcbiAgICAgICAgb3V0Q29sb3IgPSB0ZXh0dXJlKHVUZXh0dXJlLCBjb29yZCwgdW5jbGFtcGVkID09IGNvb3JkID8gMC4wIDogLTMyLjApOy8vIGxvZC1iaWFzIHZlcnkgbmVnYXRpdmUgdG8gZm9yY2UgbG9kIDBcbiAgICBcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcblxuZXhwb3J0IHsgdGlsaW5nQml0LCB0aWxpbmdCaXRHbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlsaW5nQml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IGNvbXBpbGVIaWdoU2hhZGVyR3B1UHJvZ3JhbSwgY29tcGlsZUhpZ2hTaGFkZXJHbFByb2dyYW0gfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvY29tcGlsZUhpZ2hTaGFkZXJUb1Byb2dyYW0ubWpzJztcbmltcG9ydCB7IGxvY2FsVW5pZm9ybUJpdCwgbG9jYWxVbmlmb3JtQml0R2wgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvbG9jYWxVbmlmb3JtQml0Lm1qcyc7XG5pbXBvcnQgeyByb3VuZFBpeGVsc0JpdCwgcm91bmRQaXhlbHNCaXRHbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9yb3VuZFBpeGVsc0JpdC5tanMnO1xuaW1wb3J0IHsgU2hhZGVyIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1NoYWRlci5tanMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgdGlsaW5nQml0LCB0aWxpbmdCaXRHbCB9IGZyb20gJy4vdGlsaW5nQml0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xubGV0IGdwdVByb2dyYW07XG5sZXQgZ2xQcm9ncmFtO1xuY2xhc3MgVGlsaW5nU3ByaXRlU2hhZGVyIGV4dGVuZHMgU2hhZGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgZ3B1UHJvZ3JhbSA/PyAoZ3B1UHJvZ3JhbSA9IGNvbXBpbGVIaWdoU2hhZGVyR3B1UHJvZ3JhbSh7XG4gICAgICBuYW1lOiBcInRpbGluZy1zcHJpdGUtc2hhZGVyXCIsXG4gICAgICBiaXRzOiBbXG4gICAgICAgIGxvY2FsVW5pZm9ybUJpdCxcbiAgICAgICAgdGlsaW5nQml0LFxuICAgICAgICByb3VuZFBpeGVsc0JpdFxuICAgICAgXVxuICAgIH0pKTtcbiAgICBnbFByb2dyYW0gPz8gKGdsUHJvZ3JhbSA9IGNvbXBpbGVIaWdoU2hhZGVyR2xQcm9ncmFtKHtcbiAgICAgIG5hbWU6IFwidGlsaW5nLXNwcml0ZS1zaGFkZXJcIixcbiAgICAgIGJpdHM6IFtcbiAgICAgICAgbG9jYWxVbmlmb3JtQml0R2wsXG4gICAgICAgIHRpbGluZ0JpdEdsLFxuICAgICAgICByb3VuZFBpeGVsc0JpdEdsXG4gICAgICBdXG4gICAgfSkpO1xuICAgIGNvbnN0IHRpbGluZ1VuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1TWFwQ29vcmQ6IHsgdmFsdWU6IG5ldyBNYXRyaXgoKSwgdHlwZTogXCJtYXQzeDM8ZjMyPlwiIH0sXG4gICAgICB1Q2xhbXBGcmFtZTogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMV0pLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1Q2xhbXBPZmZzZXQ6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDBdKSwgdHlwZTogXCJ2ZWMyPGYzMj5cIiB9LFxuICAgICAgdVRleHR1cmVUcmFuc2Zvcm06IHsgdmFsdWU6IG5ldyBNYXRyaXgoKSwgdHlwZTogXCJtYXQzeDM8ZjMyPlwiIH0sXG4gICAgICB1U2l6ZUFuY2hvcjogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheShbMTAwLCAxMDAsIDAuNSwgMC41XSksIHR5cGU6IFwidmVjNDxmMzI+XCIgfVxuICAgIH0pO1xuICAgIHN1cGVyKHtcbiAgICAgIGdsUHJvZ3JhbSxcbiAgICAgIGdwdVByb2dyYW0sXG4gICAgICByZXNvdXJjZXM6IHtcbiAgICAgICAgbG9jYWxVbmlmb3JtczogbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICAgICAgdVRyYW5zZm9ybU1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgICAgICB1Q29sb3I6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgICAgIHVSb3VuZDogeyB2YWx1ZTogMCwgdHlwZTogXCJmMzJcIiB9XG4gICAgICAgIH0pLFxuICAgICAgICB0aWxpbmdVbmlmb3JtcyxcbiAgICAgICAgdVRleHR1cmU6IFRleHR1cmUuRU1QVFkuc291cmNlLFxuICAgICAgICB1U2FtcGxlcjogVGV4dHVyZS5FTVBUWS5zb3VyY2Uuc3R5bGVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICB1cGRhdGVVbmlmb3Jtcyh3aWR0aCwgaGVpZ2h0LCBtYXRyaXgsIGFuY2hvclgsIGFuY2hvclksIHRleHR1cmUpIHtcbiAgICBjb25zdCB0aWxpbmdVbmlmb3JtcyA9IHRoaXMucmVzb3VyY2VzLnRpbGluZ1VuaWZvcm1zO1xuICAgIGNvbnN0IHRleHR1cmVXaWR0aCA9IHRleHR1cmUud2lkdGg7XG4gICAgY29uc3QgdGV4dHVyZUhlaWdodCA9IHRleHR1cmUuaGVpZ2h0O1xuICAgIGNvbnN0IHRleHR1cmVNYXRyaXggPSB0ZXh0dXJlLnRleHR1cmVNYXRyaXg7XG4gICAgY29uc3QgdVRleHR1cmVUcmFuc2Zvcm0gPSB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51VGV4dHVyZVRyYW5zZm9ybTtcbiAgICB1VGV4dHVyZVRyYW5zZm9ybS5zZXQoXG4gICAgICBtYXRyaXguYSAqIHRleHR1cmVXaWR0aCAvIHdpZHRoLFxuICAgICAgbWF0cml4LmIgKiB0ZXh0dXJlV2lkdGggLyBoZWlnaHQsXG4gICAgICBtYXRyaXguYyAqIHRleHR1cmVIZWlnaHQgLyB3aWR0aCxcbiAgICAgIG1hdHJpeC5kICogdGV4dHVyZUhlaWdodCAvIGhlaWdodCxcbiAgICAgIG1hdHJpeC50eCAvIHdpZHRoLFxuICAgICAgbWF0cml4LnR5IC8gaGVpZ2h0XG4gICAgKTtcbiAgICB1VGV4dHVyZVRyYW5zZm9ybS5pbnZlcnQoKTtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51TWFwQ29vcmQgPSB0ZXh0dXJlTWF0cml4Lm1hcENvb3JkO1xuICAgIHRpbGluZ1VuaWZvcm1zLnVuaWZvcm1zLnVDbGFtcEZyYW1lID0gdGV4dHVyZU1hdHJpeC51Q2xhbXBGcmFtZTtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB0ZXh0dXJlTWF0cml4LnVDbGFtcE9mZnNldDtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51VGV4dHVyZVRyYW5zZm9ybSA9IHVUZXh0dXJlVHJhbnNmb3JtO1xuICAgIHRpbGluZ1VuaWZvcm1zLnVuaWZvcm1zLnVTaXplQW5jaG9yWzBdID0gd2lkdGg7XG4gICAgdGlsaW5nVW5pZm9ybXMudW5pZm9ybXMudVNpemVBbmNob3JbMV0gPSBoZWlnaHQ7XG4gICAgdGlsaW5nVW5pZm9ybXMudW5pZm9ybXMudVNpemVBbmNob3JbMl0gPSBhbmNob3JYO1xuICAgIHRpbGluZ1VuaWZvcm1zLnVuaWZvcm1zLnVTaXplQW5jaG9yWzNdID0gYW5jaG9yWTtcbiAgICBpZiAodGV4dHVyZSkge1xuICAgICAgdGhpcy5yZXNvdXJjZXMudVRleHR1cmUgPSB0ZXh0dXJlLnNvdXJjZTtcbiAgICAgIHRoaXMucmVzb3VyY2VzLnVTYW1wbGVyID0gdGV4dHVyZS5zb3VyY2Uuc3R5bGU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFRpbGluZ1Nwcml0ZVNoYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsaW5nU3ByaXRlU2hhZGVyLm1qcy5tYXBcbiIsImltcG9ydCB7IE1lc2hHZW9tZXRyeSB9IGZyb20gJy4uLy4uL21lc2gvc2hhcmVkL01lc2hHZW9tZXRyeS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFF1YWRHZW9tZXRyeSBleHRlbmRzIE1lc2hHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIHBvc2l0aW9uczogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pLFxuICAgICAgdXZzOiBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAxLCAwLCAxLCAxLCAwLCAxXSksXG4gICAgICBpbmRpY2VzOiBuZXcgVWludDMyQXJyYXkoWzAsIDEsIDIsIDAsIDIsIDNdKVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IFF1YWRHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UXVhZEdlb21ldHJ5Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IGdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9nZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kLm1qcyc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJlclR5cGUgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtIH0gZnJvbSAnLi4vZ3JhcGhpY3MvZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVNZXNoIH0gZnJvbSAnLi4vbWVzaC9zaGFyZWQvQmF0Y2hhYmxlTWVzaC5tanMnO1xuaW1wb3J0IHsgTWVzaEdlb21ldHJ5IH0gZnJvbSAnLi4vbWVzaC9zaGFyZWQvTWVzaEdlb21ldHJ5Lm1qcyc7XG5pbXBvcnQgeyBUaWxpbmdTcHJpdGVTaGFkZXIgfSBmcm9tICcuL3NoYWRlci9UaWxpbmdTcHJpdGVTaGFkZXIubWpzJztcbmltcG9ydCB7IFF1YWRHZW9tZXRyeSB9IGZyb20gJy4vdXRpbHMvUXVhZEdlb21ldHJ5Lm1qcyc7XG5pbXBvcnQgeyBzZXRQb3NpdGlvbnMgfSBmcm9tICcuL3V0aWxzL3NldFBvc2l0aW9ucy5tanMnO1xuaW1wb3J0IHsgc2V0VXZzIH0gZnJvbSAnLi91dGlscy9zZXRVdnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBzaGFyZWRRdWFkID0gbmV3IFF1YWRHZW9tZXRyeSgpO1xuY2xhc3MgVGlsaW5nU3ByaXRlUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fc3RhdGUgPSBTdGF0ZS5kZWZhdWx0MmQ7XG4gICAgdGhpcy5fdGlsaW5nU3ByaXRlRGF0YUhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kID0gdGhpcy5kZXN0cm95UmVuZGVyYWJsZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyYWJsZUdDLmFkZE1hbmFnZWRIYXNoKHRoaXMsIFwiX3RpbGluZ1Nwcml0ZURhdGFIYXNoXCIpO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShyZW5kZXJhYmxlKSB7XG4gICAgY29uc3QgdGlsaW5nU3ByaXRlRGF0YSA9IHRoaXMuX2dldFRpbGluZ1Nwcml0ZURhdGEocmVuZGVyYWJsZSk7XG4gICAgY29uc3QgY291bGRCYXRjaCA9IHRpbGluZ1Nwcml0ZURhdGEuY2FuQmF0Y2g7XG4gICAgdGhpcy5fdXBkYXRlQ2FuQmF0Y2gocmVuZGVyYWJsZSk7XG4gICAgY29uc3QgY2FuQmF0Y2ggPSB0aWxpbmdTcHJpdGVEYXRhLmNhbkJhdGNoO1xuICAgIGlmIChjYW5CYXRjaCAmJiBjYW5CYXRjaCA9PT0gY291bGRCYXRjaCkge1xuICAgICAgY29uc3QgeyBiYXRjaGFibGVNZXNoIH0gPSB0aWxpbmdTcHJpdGVEYXRhO1xuICAgICAgcmV0dXJuICFiYXRjaGFibGVNZXNoLl9iYXRjaGVyLmNoZWNrQW5kVXBkYXRlVGV4dHVyZShcbiAgICAgICAgYmF0Y2hhYmxlTWVzaCxcbiAgICAgICAgcmVuZGVyYWJsZS50ZXh0dXJlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY291bGRCYXRjaCAhPT0gY2FuQmF0Y2g7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZSh0aWxpbmdTcHJpdGUsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgYmF0Y2hlciA9IHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoO1xuICAgIHRoaXMuX3VwZGF0ZUNhbkJhdGNoKHRpbGluZ1Nwcml0ZSk7XG4gICAgY29uc3QgdGlsaW5nU3ByaXRlRGF0YSA9IHRoaXMuX2dldFRpbGluZ1Nwcml0ZURhdGEodGlsaW5nU3ByaXRlKTtcbiAgICBjb25zdCB7IGdlb21ldHJ5LCBjYW5CYXRjaCB9ID0gdGlsaW5nU3ByaXRlRGF0YTtcbiAgICBpZiAoY2FuQmF0Y2gpIHtcbiAgICAgIHRpbGluZ1Nwcml0ZURhdGEuYmF0Y2hhYmxlTWVzaCB8fCAodGlsaW5nU3ByaXRlRGF0YS5iYXRjaGFibGVNZXNoID0gbmV3IEJhdGNoYWJsZU1lc2goKSk7XG4gICAgICBjb25zdCBiYXRjaGFibGVNZXNoID0gdGlsaW5nU3ByaXRlRGF0YS5iYXRjaGFibGVNZXNoO1xuICAgICAgaWYgKHRpbGluZ1Nwcml0ZS5kaWRWaWV3VXBkYXRlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoYWJsZU1lc2godGlsaW5nU3ByaXRlKTtcbiAgICAgICAgYmF0Y2hhYmxlTWVzaC5nZW9tZXRyeSA9IGdlb21ldHJ5O1xuICAgICAgICBiYXRjaGFibGVNZXNoLnJlbmRlcmFibGUgPSB0aWxpbmdTcHJpdGU7XG4gICAgICAgIGJhdGNoYWJsZU1lc2gudHJhbnNmb3JtID0gdGlsaW5nU3ByaXRlLmdyb3VwVHJhbnNmb3JtO1xuICAgICAgICBiYXRjaGFibGVNZXNoLnNldFRleHR1cmUodGlsaW5nU3ByaXRlLl90ZXh0dXJlKTtcbiAgICAgIH1cbiAgICAgIGJhdGNoYWJsZU1lc2gucm91bmRQaXhlbHMgPSB0aGlzLl9yZW5kZXJlci5fcm91bmRQaXhlbHMgfCB0aWxpbmdTcHJpdGUuX3JvdW5kUGl4ZWxzO1xuICAgICAgYmF0Y2hlci5hZGRUb0JhdGNoKGJhdGNoYWJsZU1lc2gsIGluc3RydWN0aW9uU2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYmF0Y2hlci5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgICB0aWxpbmdTcHJpdGVEYXRhLnNoYWRlciB8fCAodGlsaW5nU3ByaXRlRGF0YS5zaGFkZXIgPSBuZXcgVGlsaW5nU3ByaXRlU2hhZGVyKCkpO1xuICAgICAgdGhpcy51cGRhdGVSZW5kZXJhYmxlKHRpbGluZ1Nwcml0ZSk7XG4gICAgICBpbnN0cnVjdGlvblNldC5hZGQodGlsaW5nU3ByaXRlKTtcbiAgICB9XG4gIH1cbiAgZXhlY3V0ZSh0aWxpbmdTcHJpdGUpIHtcbiAgICBjb25zdCB7IHNoYWRlciB9ID0gdGhpcy5fdGlsaW5nU3ByaXRlRGF0YUhhc2hbdGlsaW5nU3ByaXRlLnVpZF07XG4gICAgc2hhZGVyLmdyb3Vwc1swXSA9IHRoaXMuX3JlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLmJpbmRHcm91cDtcbiAgICBjb25zdCBsb2NhbFVuaWZvcm1zID0gc2hhZGVyLnJlc291cmNlcy5sb2NhbFVuaWZvcm1zLnVuaWZvcm1zO1xuICAgIGxvY2FsVW5pZm9ybXMudVRyYW5zZm9ybU1hdHJpeCA9IHRpbGluZ1Nwcml0ZS5ncm91cFRyYW5zZm9ybTtcbiAgICBsb2NhbFVuaWZvcm1zLnVSb3VuZCA9IHRoaXMuX3JlbmRlcmVyLl9yb3VuZFBpeGVscyB8IHRpbGluZ1Nwcml0ZS5fcm91bmRQaXhlbHM7XG4gICAgY29sb3IzMkJpdFRvVW5pZm9ybShcbiAgICAgIHRpbGluZ1Nwcml0ZS5ncm91cENvbG9yQWxwaGEsXG4gICAgICBsb2NhbFVuaWZvcm1zLnVDb2xvcixcbiAgICAgIDBcbiAgICApO1xuICAgIHRoaXMuX3N0YXRlLmJsZW5kTW9kZSA9IGdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQodGlsaW5nU3ByaXRlLmdyb3VwQmxlbmRNb2RlLCB0aWxpbmdTcHJpdGUudGV4dHVyZS5fc291cmNlKTtcbiAgICB0aGlzLl9yZW5kZXJlci5lbmNvZGVyLmRyYXcoe1xuICAgICAgZ2VvbWV0cnk6IHNoYXJlZFF1YWQsXG4gICAgICBzaGFkZXIsXG4gICAgICBzdGF0ZTogdGhpcy5fc3RhdGVcbiAgICB9KTtcbiAgfVxuICB1cGRhdGVSZW5kZXJhYmxlKHRpbGluZ1Nwcml0ZSkge1xuICAgIGNvbnN0IHRpbGluZ1Nwcml0ZURhdGEgPSB0aGlzLl9nZXRUaWxpbmdTcHJpdGVEYXRhKHRpbGluZ1Nwcml0ZSk7XG4gICAgY29uc3QgeyBjYW5CYXRjaCB9ID0gdGlsaW5nU3ByaXRlRGF0YTtcbiAgICBpZiAoY2FuQmF0Y2gpIHtcbiAgICAgIGNvbnN0IHsgYmF0Y2hhYmxlTWVzaCB9ID0gdGlsaW5nU3ByaXRlRGF0YTtcbiAgICAgIGlmICh0aWxpbmdTcHJpdGUuZGlkVmlld1VwZGF0ZSlcbiAgICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hhYmxlTWVzaCh0aWxpbmdTcHJpdGUpO1xuICAgICAgYmF0Y2hhYmxlTWVzaC5fYmF0Y2hlci51cGRhdGVFbGVtZW50KGJhdGNoYWJsZU1lc2gpO1xuICAgIH0gZWxzZSBpZiAodGlsaW5nU3ByaXRlLmRpZFZpZXdVcGRhdGUpIHtcbiAgICAgIGNvbnN0IHsgc2hhZGVyIH0gPSB0aWxpbmdTcHJpdGVEYXRhO1xuICAgICAgc2hhZGVyLnVwZGF0ZVVuaWZvcm1zKFxuICAgICAgICB0aWxpbmdTcHJpdGUud2lkdGgsXG4gICAgICAgIHRpbGluZ1Nwcml0ZS5oZWlnaHQsXG4gICAgICAgIHRpbGluZ1Nwcml0ZS5fdGlsZVRyYW5zZm9ybS5tYXRyaXgsXG4gICAgICAgIHRpbGluZ1Nwcml0ZS5hbmNob3IueCxcbiAgICAgICAgdGlsaW5nU3ByaXRlLmFuY2hvci55LFxuICAgICAgICB0aWxpbmdTcHJpdGUudGV4dHVyZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveVJlbmRlcmFibGUodGlsaW5nU3ByaXRlKSB7XG4gICAgY29uc3QgdGlsaW5nU3ByaXRlRGF0YSA9IHRoaXMuX2dldFRpbGluZ1Nwcml0ZURhdGEodGlsaW5nU3ByaXRlKTtcbiAgICB0aWxpbmdTcHJpdGVEYXRhLmJhdGNoYWJsZU1lc2ggPSBudWxsO1xuICAgIHRpbGluZ1Nwcml0ZURhdGEuc2hhZGVyPy5kZXN0cm95KCk7XG4gICAgdGhpcy5fdGlsaW5nU3ByaXRlRGF0YUhhc2hbdGlsaW5nU3ByaXRlLnVpZF0gPSBudWxsO1xuICAgIHRpbGluZ1Nwcml0ZS5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gIH1cbiAgX2dldFRpbGluZ1Nwcml0ZURhdGEocmVuZGVyYWJsZSkge1xuICAgIHJldHVybiB0aGlzLl90aWxpbmdTcHJpdGVEYXRhSGFzaFtyZW5kZXJhYmxlLnVpZF0gfHwgdGhpcy5faW5pdFRpbGluZ1Nwcml0ZURhdGEocmVuZGVyYWJsZSk7XG4gIH1cbiAgX2luaXRUaWxpbmdTcHJpdGVEYXRhKHRpbGluZ1Nwcml0ZSkge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IE1lc2hHZW9tZXRyeSh7XG4gICAgICBpbmRpY2VzOiBzaGFyZWRRdWFkLmluZGljZXMsXG4gICAgICBwb3NpdGlvbnM6IHNoYXJlZFF1YWQucG9zaXRpb25zLnNsaWNlKCksXG4gICAgICB1dnM6IHNoYXJlZFF1YWQudXZzLnNsaWNlKClcbiAgICB9KTtcbiAgICB0aGlzLl90aWxpbmdTcHJpdGVEYXRhSGFzaFt0aWxpbmdTcHJpdGUudWlkXSA9IHtcbiAgICAgIGNhbkJhdGNoOiB0cnVlLFxuICAgICAgcmVuZGVyYWJsZTogdGlsaW5nU3ByaXRlLFxuICAgICAgZ2VvbWV0cnlcbiAgICB9O1xuICAgIHRpbGluZ1Nwcml0ZS5vbihcImRlc3Ryb3llZFwiLCB0aGlzLl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kKTtcbiAgICByZXR1cm4gdGhpcy5fdGlsaW5nU3ByaXRlRGF0YUhhc2hbdGlsaW5nU3ByaXRlLnVpZF07XG4gIH1cbiAgX3VwZGF0ZUJhdGNoYWJsZU1lc2godGlsaW5nU3ByaXRlKSB7XG4gICAgY29uc3QgcmVuZGVyYWJsZURhdGEgPSB0aGlzLl9nZXRUaWxpbmdTcHJpdGVEYXRhKHRpbGluZ1Nwcml0ZSk7XG4gICAgY29uc3QgeyBnZW9tZXRyeSB9ID0gcmVuZGVyYWJsZURhdGE7XG4gICAgY29uc3Qgc3R5bGUgPSB0aWxpbmdTcHJpdGUudGV4dHVyZS5zb3VyY2Uuc3R5bGU7XG4gICAgaWYgKHN0eWxlLmFkZHJlc3NNb2RlICE9PSBcInJlcGVhdFwiKSB7XG4gICAgICBzdHlsZS5hZGRyZXNzTW9kZSA9IFwicmVwZWF0XCI7XG4gICAgICBzdHlsZS51cGRhdGUoKTtcbiAgICB9XG4gICAgc2V0VXZzKHRpbGluZ1Nwcml0ZSwgZ2VvbWV0cnkudXZzKTtcbiAgICBzZXRQb3NpdGlvbnModGlsaW5nU3ByaXRlLCBnZW9tZXRyeS5wb3NpdGlvbnMpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX3RpbGluZ1Nwcml0ZURhdGFIYXNoKSB7XG4gICAgICB0aGlzLmRlc3Ryb3lSZW5kZXJhYmxlKHRoaXMuX3RpbGluZ1Nwcml0ZURhdGFIYXNoW2ldLnJlbmRlcmFibGUpO1xuICAgIH1cbiAgICB0aGlzLl90aWxpbmdTcHJpdGVEYXRhSGFzaCA9IG51bGw7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG4gIF91cGRhdGVDYW5CYXRjaCh0aWxpbmdTcHJpdGUpIHtcbiAgICBjb25zdCByZW5kZXJhYmxlRGF0YSA9IHRoaXMuX2dldFRpbGluZ1Nwcml0ZURhdGEodGlsaW5nU3ByaXRlKTtcbiAgICBjb25zdCB0ZXh0dXJlID0gdGlsaW5nU3ByaXRlLnRleHR1cmU7XG4gICAgbGV0IF9ub25Qb3dPZjJ3cmFwcGluZyA9IHRydWU7XG4gICAgaWYgKHRoaXMuX3JlbmRlcmVyLnR5cGUgPT09IFJlbmRlcmVyVHlwZS5XRUJHTCkge1xuICAgICAgX25vblBvd09mMndyYXBwaW5nID0gdGhpcy5fcmVuZGVyZXIuY29udGV4dC5zdXBwb3J0cy5ub25Qb3dPZjJ3cmFwcGluZztcbiAgICB9XG4gICAgcmVuZGVyYWJsZURhdGEuY2FuQmF0Y2ggPSB0ZXh0dXJlLnRleHR1cmVNYXRyaXguaXNTaW1wbGUgJiYgKF9ub25Qb3dPZjJ3cmFwcGluZyB8fCB0ZXh0dXJlLnNvdXJjZS5pc1Bvd2VyT2ZUd28pO1xuICAgIHJldHVybiByZW5kZXJhYmxlRGF0YS5jYW5CYXRjaDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cblRpbGluZ1Nwcml0ZVBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcInRpbGluZ1Nwcml0ZVwiXG59O1xuXG5leHBvcnQgeyBUaWxpbmdTcHJpdGVQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxpbmdTcHJpdGVQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IGFwcGx5TWF0cml4IH0gZnJvbSAnLi9hcHBseU1hdHJpeC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIHNldFV2cyh0aWxpbmdTcHJpdGUsIHV2cykge1xuICBjb25zdCB0ZXh0dXJlID0gdGlsaW5nU3ByaXRlLnRleHR1cmU7XG4gIGNvbnN0IHdpZHRoID0gdGV4dHVyZS5mcmFtZS53aWR0aDtcbiAgY29uc3QgaGVpZ2h0ID0gdGV4dHVyZS5mcmFtZS5oZWlnaHQ7XG4gIGxldCBhbmNob3JYID0gMDtcbiAgbGV0IGFuY2hvclkgPSAwO1xuICBpZiAodGlsaW5nU3ByaXRlLmFwcGx5QW5jaG9yVG9UZXh0dXJlKSB7XG4gICAgYW5jaG9yWCA9IHRpbGluZ1Nwcml0ZS5hbmNob3IueDtcbiAgICBhbmNob3JZID0gdGlsaW5nU3ByaXRlLmFuY2hvci55O1xuICB9XG4gIHV2c1swXSA9IHV2c1s2XSA9IC1hbmNob3JYO1xuICB1dnNbMl0gPSB1dnNbNF0gPSAxIC0gYW5jaG9yWDtcbiAgdXZzWzFdID0gdXZzWzNdID0gLWFuY2hvclk7XG4gIHV2c1s1XSA9IHV2c1s3XSA9IDEgLSBhbmNob3JZO1xuICBjb25zdCB0ZXh0dXJlTWF0cml4ID0gTWF0cml4LnNoYXJlZDtcbiAgdGV4dHVyZU1hdHJpeC5jb3B5RnJvbSh0aWxpbmdTcHJpdGUuX3RpbGVUcmFuc2Zvcm0ubWF0cml4KTtcbiAgdGV4dHVyZU1hdHJpeC50eCAvPSB0aWxpbmdTcHJpdGUud2lkdGg7XG4gIHRleHR1cmVNYXRyaXgudHkgLz0gdGlsaW5nU3ByaXRlLmhlaWdodDtcbiAgdGV4dHVyZU1hdHJpeC5pbnZlcnQoKTtcbiAgdGV4dHVyZU1hdHJpeC5zY2FsZSh0aWxpbmdTcHJpdGUud2lkdGggLyB3aWR0aCwgdGlsaW5nU3ByaXRlLmhlaWdodCAvIGhlaWdodCk7XG4gIGFwcGx5TWF0cml4KHV2cywgMiwgMCwgdGV4dHVyZU1hdHJpeCk7XG59XG5cbmV4cG9ydCB7IHNldFV2cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0VXZzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gYXBwbHlNYXRyaXgoYXJyYXksIHN0cmlkZSwgb2Zmc2V0LCBtYXRyaXgpIHtcbiAgbGV0IGluZGV4ID0gMDtcbiAgY29uc3Qgc2l6ZSA9IGFycmF5Lmxlbmd0aCAvIChzdHJpZGUgfHwgMik7XG4gIGNvbnN0IGEgPSBtYXRyaXguYTtcbiAgY29uc3QgYiA9IG1hdHJpeC5iO1xuICBjb25zdCBjID0gbWF0cml4LmM7XG4gIGNvbnN0IGQgPSBtYXRyaXguZDtcbiAgY29uc3QgdHggPSBtYXRyaXgudHg7XG4gIGNvbnN0IHR5ID0gbWF0cml4LnR5O1xuICBvZmZzZXQgKj0gc3RyaWRlO1xuICB3aGlsZSAoaW5kZXggPCBzaXplKSB7XG4gICAgY29uc3QgeCA9IGFycmF5W29mZnNldF07XG4gICAgY29uc3QgeSA9IGFycmF5W29mZnNldCArIDFdO1xuICAgIGFycmF5W29mZnNldF0gPSBhICogeCArIGMgKiB5ICsgdHg7XG4gICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBiICogeCArIGQgKiB5ICsgdHk7XG4gICAgb2Zmc2V0ICs9IHN0cmlkZTtcbiAgICBpbmRleCsrO1xuICB9XG59XG5cbmV4cG9ydCB7IGFwcGx5TWF0cml4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHBseU1hdHJpeC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIHNldFBvc2l0aW9ucyh0aWxpbmdTcHJpdGUsIHBvc2l0aW9ucykge1xuICBjb25zdCBhbmNob3JYID0gdGlsaW5nU3ByaXRlLmFuY2hvci54O1xuICBjb25zdCBhbmNob3JZID0gdGlsaW5nU3ByaXRlLmFuY2hvci55O1xuICBwb3NpdGlvbnNbMF0gPSAtYW5jaG9yWCAqIHRpbGluZ1Nwcml0ZS53aWR0aDtcbiAgcG9zaXRpb25zWzFdID0gLWFuY2hvclkgKiB0aWxpbmdTcHJpdGUuaGVpZ2h0O1xuICBwb3NpdGlvbnNbMl0gPSAoMSAtIGFuY2hvclgpICogdGlsaW5nU3ByaXRlLndpZHRoO1xuICBwb3NpdGlvbnNbM10gPSAtYW5jaG9yWSAqIHRpbGluZ1Nwcml0ZS5oZWlnaHQ7XG4gIHBvc2l0aW9uc1s0XSA9ICgxIC0gYW5jaG9yWCkgKiB0aWxpbmdTcHJpdGUud2lkdGg7XG4gIHBvc2l0aW9uc1s1XSA9ICgxIC0gYW5jaG9yWSkgKiB0aWxpbmdTcHJpdGUuaGVpZ2h0O1xuICBwb3NpdGlvbnNbNl0gPSAtYW5jaG9yWCAqIHRpbGluZ1Nwcml0ZS53aWR0aDtcbiAgcG9zaXRpb25zWzddID0gKDEgLSBhbmNob3JZKSAqIHRpbGluZ1Nwcml0ZS5oZWlnaHQ7XG59XG5cbmV4cG9ydCB7IHNldFBvc2l0aW9ucyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0UG9zaXRpb25zLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFRpbGluZ1Nwcml0ZVBpcGUgfSBmcm9tICcuL1RpbGluZ1Nwcml0ZVBpcGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChUaWxpbmdTcHJpdGVQaXBlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBCYXRjaGFibGVNZXNoIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5iYXRjaGVyTmFtZSA9IFwiZGVmYXVsdFwiO1xuICAgIHRoaXMucGFja0FzUXVhZCA9IGZhbHNlO1xuICAgIHRoaXMuaW5kZXhPZmZzZXQgPSAwO1xuICAgIHRoaXMuYXR0cmlidXRlT2Zmc2V0ID0gMDtcbiAgICB0aGlzLnJvdW5kUGl4ZWxzID0gMDtcbiAgICB0aGlzLl9iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaCA9IG51bGw7XG4gICAgdGhpcy5fdGV4dHVyZU1hdHJpeFVwZGF0ZUlkID0gLTE7XG4gICAgdGhpcy5fdXZVcGRhdGVJZCA9IC0xO1xuICB9XG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyYWJsZS5ncm91cEJsZW5kTW9kZTtcbiAgfVxuICBnZXQgdG9wb2xvZ3koKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RvcG9sb2d5IHx8IHRoaXMuZ2VvbWV0cnkudG9wb2xvZ3k7XG4gIH1cbiAgc2V0IHRvcG9sb2d5KHZhbHVlKSB7XG4gICAgdGhpcy5fdG9wb2xvZ3kgPSB2YWx1ZTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2hlciA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2ggPSBudWxsO1xuICAgIHRoaXMuZ2VvbWV0cnkgPSBudWxsO1xuICAgIHRoaXMuX3V2VXBkYXRlSWQgPSAtMTtcbiAgICB0aGlzLl90ZXh0dXJlTWF0cml4VXBkYXRlSWQgPSAtMTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgdGV4dHVyZSBmb3IgdGhlIGJhdGNoYWJsZSBtZXNoLlxuICAgKiBBcyBpdCBkb2VzIHNvLCBpdCByZXNldHMgdGhlIHRleHR1cmUgbWF0cml4IHVwZGF0ZSBJRC5cbiAgICogdGhpcyBpcyB0byBlbnN1cmUgdGhhdCB0aGUgdGV4dHVyZSBtYXRyaXggaXMgcmVjYWxjdWxhdGVkIHdoZW4gdGhlIHV2cyBhcmUgcmVmZXJlbmNlZFxuICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdGV4dHVyZSB0byBzZXQuXG4gICAqL1xuICBzZXRUZXh0dXJlKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMudGV4dHVyZSA9PT0gdmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy50ZXh0dXJlID0gdmFsdWU7XG4gICAgdGhpcy5fdGV4dHVyZU1hdHJpeFVwZGF0ZUlkID0gLTE7XG4gIH1cbiAgZ2V0IHV2cygpIHtcbiAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgY29uc3QgdXZCdWZmZXIgPSBnZW9tZXRyeS5nZXRCdWZmZXIoXCJhVVZcIik7XG4gICAgY29uc3QgdXZzID0gdXZCdWZmZXIuZGF0YTtcbiAgICBsZXQgdHJhbnNmb3JtZWRVdnMgPSB1dnM7XG4gICAgY29uc3QgdGV4dHVyZU1hdHJpeCA9IHRoaXMudGV4dHVyZS50ZXh0dXJlTWF0cml4O1xuICAgIGlmICghdGV4dHVyZU1hdHJpeC5pc1NpbXBsZSkge1xuICAgICAgdHJhbnNmb3JtZWRVdnMgPSB0aGlzLl90cmFuc2Zvcm1lZFV2cztcbiAgICAgIGlmICh0aGlzLl90ZXh0dXJlTWF0cml4VXBkYXRlSWQgIT09IHRleHR1cmVNYXRyaXguX3VwZGF0ZUlEIHx8IHRoaXMuX3V2VXBkYXRlSWQgIT09IHV2QnVmZmVyLl91cGRhdGVJRCkge1xuICAgICAgICBpZiAoIXRyYW5zZm9ybWVkVXZzIHx8IHRyYW5zZm9ybWVkVXZzLmxlbmd0aCA8IHV2cy5sZW5ndGgpIHtcbiAgICAgICAgICB0cmFuc2Zvcm1lZFV2cyA9IHRoaXMuX3RyYW5zZm9ybWVkVXZzID0gbmV3IEZsb2F0MzJBcnJheSh1dnMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0dXJlTWF0cml4VXBkYXRlSWQgPSB0ZXh0dXJlTWF0cml4Ll91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fdXZVcGRhdGVJZCA9IHV2QnVmZmVyLl91cGRhdGVJRDtcbiAgICAgICAgdGV4dHVyZU1hdHJpeC5tdWx0aXBseVV2cyh1dnMsIHRyYW5zZm9ybWVkVXZzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybWVkVXZzO1xuICB9XG4gIGdldCBwb3NpdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkucG9zaXRpb25zO1xuICB9XG4gIGdldCBpbmRpY2VzKCkge1xuICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmluZGljZXM7XG4gIH1cbiAgZ2V0IGNvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmFibGUuZ3JvdXBDb2xvckFscGhhO1xuICB9XG4gIGdldCBncm91cFRyYW5zZm9ybSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJhYmxlLmdyb3VwVHJhbnNmb3JtO1xuICB9XG4gIGdldCBhdHRyaWJ1dGVTaXplKCkge1xuICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LnBvc2l0aW9ucy5sZW5ndGggLyAyO1xuICB9XG4gIGdldCBpbmRleFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuaW5kaWNlcy5sZW5ndGg7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmF0Y2hhYmxlTWVzaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hhYmxlTWVzaC5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IGNvbG9yMzJCaXRUb1VuaWZvcm0gfSBmcm9tICcuLi9ncHUvY29sb3JUb1VuaWZvcm0ubWpzJztcbmltcG9ydCB7IEJhdGNoYWJsZUdyYXBoaWNzIH0gZnJvbSAnLi9CYXRjaGFibGVHcmFwaGljcy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEdyYXBoaWNzUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBhZGFwdG9yKSB7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgLy8gYmF0Y2hhYmxlIGdyYXBoaWNzIGxpc3QsIHVzZWQgdG8gcmVuZGVyIGJhdGNoZXNcbiAgICB0aGlzLl9ncmFwaGljc0JhdGNoZXNIYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCA9IHRoaXMuZGVzdHJveVJlbmRlcmFibGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fYWRhcHRvciA9IGFkYXB0b3I7XG4gICAgdGhpcy5fYWRhcHRvci5pbml0KCk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXJhYmxlR0MuYWRkTWFuYWdlZEhhc2godGhpcywgXCJfZ3JhcGhpY3NCYXRjaGVzSGFzaFwiKTtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUoZ3JhcGhpY3MpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ3JhcGhpY3MuY29udGV4dDtcbiAgICBjb25zdCB3YXNCYXRjaGVkID0gISF0aGlzLl9ncmFwaGljc0JhdGNoZXNIYXNoW2dyYXBoaWNzLnVpZF07XG4gICAgY29uc3QgZ3B1Q29udGV4dCA9IHRoaXMucmVuZGVyZXIuZ3JhcGhpY3NDb250ZXh0LnVwZGF0ZUdwdUNvbnRleHQoY29udGV4dCk7XG4gICAgaWYgKGdwdUNvbnRleHQuaXNCYXRjaGFibGUgfHwgd2FzQmF0Y2hlZCAhPT0gZ3B1Q29udGV4dC5pc0JhdGNoYWJsZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKGdyYXBoaWNzLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGdwdUNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmdyYXBoaWNzQ29udGV4dC51cGRhdGVHcHVDb250ZXh0KGdyYXBoaWNzLmNvbnRleHQpO1xuICAgIGlmIChncmFwaGljcy5kaWRWaWV3VXBkYXRlKSB7XG4gICAgICB0aGlzLl9yZWJ1aWxkKGdyYXBoaWNzKTtcbiAgICB9XG4gICAgaWYgKGdwdUNvbnRleHQuaXNCYXRjaGFibGUpIHtcbiAgICAgIHRoaXMuX2FkZFRvQmF0Y2hlcihncmFwaGljcywgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICAgIGluc3RydWN0aW9uU2V0LmFkZChncmFwaGljcyk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUoZ3JhcGhpY3MpIHtcbiAgICBjb25zdCBiYXRjaGVzID0gdGhpcy5fZ3JhcGhpY3NCYXRjaGVzSGFzaFtncmFwaGljcy51aWRdO1xuICAgIGlmIChiYXRjaGVzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYmF0Y2ggPSBiYXRjaGVzW2ldO1xuICAgICAgICBiYXRjaC5fYmF0Y2hlci51cGRhdGVFbGVtZW50KGJhdGNoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZGVzdHJveVJlbmRlcmFibGUoZ3JhcGhpY3MpIHtcbiAgICBpZiAodGhpcy5fZ3JhcGhpY3NCYXRjaGVzSGFzaFtncmFwaGljcy51aWRdKSB7XG4gICAgICB0aGlzLl9yZW1vdmVCYXRjaEZvclJlbmRlcmFibGUoZ3JhcGhpY3MudWlkKTtcbiAgICB9XG4gICAgZ3JhcGhpY3Mub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICB9XG4gIGV4ZWN1dGUoZ3JhcGhpY3MpIHtcbiAgICBpZiAoIWdyYXBoaWNzLmlzUmVuZGVyYWJsZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgY29uc3QgY29udGV4dCA9IGdyYXBoaWNzLmNvbnRleHQ7XG4gICAgY29uc3QgY29udGV4dFN5c3RlbSA9IHJlbmRlcmVyLmdyYXBoaWNzQ29udGV4dDtcbiAgICBpZiAoIWNvbnRleHRTeXN0ZW0uZ2V0R3B1Q29udGV4dChjb250ZXh0KS5iYXRjaGVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzaGFkZXIgPSBjb250ZXh0LmN1c3RvbVNoYWRlciB8fCB0aGlzLl9hZGFwdG9yLnNoYWRlcjtcbiAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGdyYXBoaWNzLmdyb3VwQmxlbmRNb2RlO1xuICAgIGNvbnN0IGxvY2FsVW5pZm9ybXMgPSBzaGFkZXIucmVzb3VyY2VzLmxvY2FsVW5pZm9ybXMudW5pZm9ybXM7XG4gICAgbG9jYWxVbmlmb3Jtcy51VHJhbnNmb3JtTWF0cml4ID0gZ3JhcGhpY3MuZ3JvdXBUcmFuc2Zvcm07XG4gICAgbG9jYWxVbmlmb3Jtcy51Um91bmQgPSByZW5kZXJlci5fcm91bmRQaXhlbHMgfCBncmFwaGljcy5fcm91bmRQaXhlbHM7XG4gICAgY29sb3IzMkJpdFRvVW5pZm9ybShcbiAgICAgIGdyYXBoaWNzLmdyb3VwQ29sb3JBbHBoYSxcbiAgICAgIGxvY2FsVW5pZm9ybXMudUNvbG9yLFxuICAgICAgMFxuICAgICk7XG4gICAgdGhpcy5fYWRhcHRvci5leGVjdXRlKHRoaXMsIGdyYXBoaWNzKTtcbiAgfVxuICBfcmVidWlsZChncmFwaGljcykge1xuICAgIGNvbnN0IHdhc0JhdGNoZWQgPSAhIXRoaXMuX2dyYXBoaWNzQmF0Y2hlc0hhc2hbZ3JhcGhpY3MudWlkXTtcbiAgICBjb25zdCBncHVDb250ZXh0ID0gdGhpcy5yZW5kZXJlci5ncmFwaGljc0NvbnRleHQudXBkYXRlR3B1Q29udGV4dChncmFwaGljcy5jb250ZXh0KTtcbiAgICBpZiAod2FzQmF0Y2hlZCkge1xuICAgICAgdGhpcy5fcmVtb3ZlQmF0Y2hGb3JSZW5kZXJhYmxlKGdyYXBoaWNzLnVpZCk7XG4gICAgfVxuICAgIGlmIChncHVDb250ZXh0LmlzQmF0Y2hhYmxlKSB7XG4gICAgICB0aGlzLl9pbml0QmF0Y2hlc0ZvclJlbmRlcmFibGUoZ3JhcGhpY3MpO1xuICAgIH1cbiAgICBncmFwaGljcy5iYXRjaGVkID0gZ3B1Q29udGV4dC5pc0JhdGNoYWJsZTtcbiAgfVxuICBfYWRkVG9CYXRjaGVyKGdyYXBoaWNzLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGJhdGNoUGlwZSA9IHRoaXMucmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2g7XG4gICAgY29uc3QgYmF0Y2hlcyA9IHRoaXMuX2dldEJhdGNoZXNGb3JSZW5kZXJhYmxlKGdyYXBoaWNzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgIGJhdGNoUGlwZS5hZGRUb0JhdGNoKGJhdGNoLCBpbnN0cnVjdGlvblNldCk7XG4gICAgfVxuICB9XG4gIF9nZXRCYXRjaGVzRm9yUmVuZGVyYWJsZShncmFwaGljcykge1xuICAgIHJldHVybiB0aGlzLl9ncmFwaGljc0JhdGNoZXNIYXNoW2dyYXBoaWNzLnVpZF0gfHwgdGhpcy5faW5pdEJhdGNoZXNGb3JSZW5kZXJhYmxlKGdyYXBoaWNzKTtcbiAgfVxuICBfaW5pdEJhdGNoZXNGb3JSZW5kZXJhYmxlKGdyYXBoaWNzKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdyYXBoaWNzLmNvbnRleHQ7XG4gICAgY29uc3QgZ3B1Q29udGV4dCA9IHRoaXMucmVuZGVyZXIuZ3JhcGhpY3NDb250ZXh0LmdldEdwdUNvbnRleHQoY29udGV4dCk7XG4gICAgY29uc3Qgcm91bmRQaXhlbHMgPSB0aGlzLnJlbmRlcmVyLl9yb3VuZFBpeGVscyB8IGdyYXBoaWNzLl9yb3VuZFBpeGVscztcbiAgICBjb25zdCBiYXRjaGVzID0gZ3B1Q29udGV4dC5iYXRjaGVzLm1hcCgoYmF0Y2gpID0+IHtcbiAgICAgIGNvbnN0IGJhdGNoQ2xvbmUgPSBCaWdQb29sLmdldChCYXRjaGFibGVHcmFwaGljcyk7XG4gICAgICBiYXRjaC5jb3B5VG8oYmF0Y2hDbG9uZSk7XG4gICAgICBiYXRjaENsb25lLnJlbmRlcmFibGUgPSBncmFwaGljcztcbiAgICAgIGJhdGNoQ2xvbmUucm91bmRQaXhlbHMgPSByb3VuZFBpeGVscztcbiAgICAgIHJldHVybiBiYXRjaENsb25lO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLl9ncmFwaGljc0JhdGNoZXNIYXNoW2dyYXBoaWNzLnVpZF0gPT09IHZvaWQgMCkge1xuICAgICAgZ3JhcGhpY3Mub24oXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgfVxuICAgIHRoaXMuX2dyYXBoaWNzQmF0Y2hlc0hhc2hbZ3JhcGhpY3MudWlkXSA9IGJhdGNoZXM7XG4gICAgcmV0dXJuIGJhdGNoZXM7XG4gIH1cbiAgX3JlbW92ZUJhdGNoRm9yUmVuZGVyYWJsZShncmFwaGljc1VpZCkge1xuICAgIHRoaXMuX2dyYXBoaWNzQmF0Y2hlc0hhc2hbZ3JhcGhpY3NVaWRdLmZvckVhY2goKGJhdGNoKSA9PiB7XG4gICAgICBCaWdQb29sLnJldHVybihiYXRjaCk7XG4gICAgfSk7XG4gICAgdGhpcy5fZ3JhcGhpY3NCYXRjaGVzSGFzaFtncmFwaGljc1VpZF0gPSBudWxsO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5fYWRhcHRvci5kZXN0cm95KCk7XG4gICAgdGhpcy5fYWRhcHRvciA9IG51bGw7XG4gICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2dyYXBoaWNzQmF0Y2hlc0hhc2gpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUJhdGNoRm9yUmVuZGVyYWJsZShpKTtcbiAgICB9XG4gICAgdGhpcy5fZ3JhcGhpY3NCYXRjaGVzSGFzaCA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5HcmFwaGljc1BpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImdyYXBoaWNzXCJcbn07XG5cbmV4cG9ydCB7IEdyYXBoaWNzUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY3NQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEdyYXBoaWNzQ29udGV4dFN5c3RlbSB9IGZyb20gJy4vc2hhcmVkL0dyYXBoaWNzQ29udGV4dFN5c3RlbS5tanMnO1xuaW1wb3J0IHsgR3JhcGhpY3NQaXBlIH0gZnJvbSAnLi9zaGFyZWQvR3JhcGhpY3NQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoR3JhcGhpY3NQaXBlKTtcbmV4dGVuc2lvbnMuYWRkKEdyYXBoaWNzQ29udGV4dFN5c3RlbSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IEJpZ1Bvb2wgfSBmcm9tICcuLi8uLi91dGlscy9wb29sL1Bvb2xHcm91cC5tanMnO1xuaW1wb3J0IHsgQmF0Y2hhYmxlU3ByaXRlIH0gZnJvbSAnLi4vc3ByaXRlL0JhdGNoYWJsZVNwcml0ZS5tanMnO1xuaW1wb3J0IHsgdXBkYXRlVGV4dEJvdW5kcyB9IGZyb20gJy4uL3RleHQvdXRpbHMvdXBkYXRlVGV4dEJvdW5kcy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEhUTUxUZXh0UGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fZ3B1VGV4dCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQgPSB0aGlzLmRlc3Ryb3lSZW5kZXJhYmxlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9yZW5kZXJlci5ydW5uZXJzLnJlc29sdXRpb25DaGFuZ2UuYWRkKHRoaXMpO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlcmFibGVHQy5hZGRNYW5hZ2VkSGFzaCh0aGlzLCBcIl9ncHVUZXh0XCIpO1xuICB9XG4gIHJlc29sdXRpb25DaGFuZ2UoKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2dwdVRleHQpIHtcbiAgICAgIGNvbnN0IGdwdVRleHQgPSB0aGlzLl9ncHVUZXh0W2ldO1xuICAgICAgaWYgKCFncHVUZXh0KVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIGNvbnN0IHRleHQgPSBncHVUZXh0LmJhdGNoYWJsZVNwcml0ZS5yZW5kZXJhYmxlO1xuICAgICAgaWYgKHRleHQuX2F1dG9SZXNvbHV0aW9uKSB7XG4gICAgICAgIHRleHQuX3Jlc29sdXRpb24gPSB0aGlzLl9yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICB0ZXh0Lm9uVmlld1VwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUoaHRtbFRleHQpIHtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dChodG1sVGV4dCk7XG4gICAgY29uc3QgbmV3S2V5ID0gaHRtbFRleHQuX2dldEtleSgpO1xuICAgIGlmIChncHVUZXh0LnRleHR1cmVOZWVkc1VwbG9hZGluZykge1xuICAgICAgZ3B1VGV4dC50ZXh0dXJlTmVlZHNVcGxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZ3B1VGV4dC5jdXJyZW50S2V5ICE9PSBuZXdLZXkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShodG1sVGV4dCwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dChodG1sVGV4dCk7XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGU7XG4gICAgaWYgKGh0bWxUZXh0Ll9kaWRUZXh0VXBkYXRlKSB7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0KGh0bWxUZXh0KTtcbiAgICB9XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYWRkVG9CYXRjaChiYXRjaGFibGVTcHJpdGUsIGluc3RydWN0aW9uU2V0KTtcbiAgfVxuICB1cGRhdGVSZW5kZXJhYmxlKGh0bWxUZXh0KSB7XG4gICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dldEdwdVRleHQoaHRtbFRleHQpO1xuICAgIGNvbnN0IGJhdGNoYWJsZVNwcml0ZSA9IGdwdVRleHQuYmF0Y2hhYmxlU3ByaXRlO1xuICAgIGlmIChodG1sVGV4dC5fZGlkVGV4dFVwZGF0ZSkge1xuICAgICAgdGhpcy5fdXBkYXRlVGV4dChodG1sVGV4dCk7XG4gICAgfVxuICAgIGJhdGNoYWJsZVNwcml0ZS5fYmF0Y2hlci51cGRhdGVFbGVtZW50KGJhdGNoYWJsZVNwcml0ZSk7XG4gIH1cbiAgZGVzdHJveVJlbmRlcmFibGUoaHRtbFRleHQpIHtcbiAgICBodG1sVGV4dC5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCeUlkKGh0bWxUZXh0LnVpZCk7XG4gIH1cbiAgX2Rlc3Ryb3lSZW5kZXJhYmxlQnlJZChodG1sVGV4dFVpZCkge1xuICAgIGNvbnN0IGdwdVRleHQgPSB0aGlzLl9ncHVUZXh0W2h0bWxUZXh0VWlkXTtcbiAgICB0aGlzLl9yZW5kZXJlci5odG1sVGV4dC5kZWNyZWFzZVJlZmVyZW5jZUNvdW50KGdwdVRleHQuY3VycmVudEtleSk7XG4gICAgQmlnUG9vbC5yZXR1cm4oZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGUpO1xuICAgIHRoaXMuX2dwdVRleHRbaHRtbFRleHRVaWRdID0gbnVsbDtcbiAgfVxuICBfdXBkYXRlVGV4dChodG1sVGV4dCkge1xuICAgIGNvbnN0IG5ld0tleSA9IGh0bWxUZXh0Ll9nZXRLZXkoKTtcbiAgICBjb25zdCBncHVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dChodG1sVGV4dCk7XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gZ3B1VGV4dC5iYXRjaGFibGVTcHJpdGU7XG4gICAgaWYgKGdwdVRleHQuY3VycmVudEtleSAhPT0gbmV3S2V5KSB7XG4gICAgICB0aGlzLl91cGRhdGVHcHVUZXh0KGh0bWxUZXh0KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGh0bWxUZXh0Ll9kaWRUZXh0VXBkYXRlID0gZmFsc2U7XG4gICAgdXBkYXRlVGV4dEJvdW5kcyhiYXRjaGFibGVTcHJpdGUsIGh0bWxUZXh0KTtcbiAgfVxuICBhc3luYyBfdXBkYXRlR3B1VGV4dChodG1sVGV4dCkge1xuICAgIGh0bWxUZXh0Ll9kaWRUZXh0VXBkYXRlID0gZmFsc2U7XG4gICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dldEdwdVRleHQoaHRtbFRleHQpO1xuICAgIGlmIChncHVUZXh0LmdlbmVyYXRpbmdUZXh0dXJlKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG5ld0tleSA9IGh0bWxUZXh0Ll9nZXRLZXkoKTtcbiAgICB0aGlzLl9yZW5kZXJlci5odG1sVGV4dC5kZWNyZWFzZVJlZmVyZW5jZUNvdW50KGdwdVRleHQuY3VycmVudEtleSk7XG4gICAgZ3B1VGV4dC5nZW5lcmF0aW5nVGV4dHVyZSA9IHRydWU7XG4gICAgZ3B1VGV4dC5jdXJyZW50S2V5ID0gbmV3S2V5O1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSBodG1sVGV4dC5yZXNvbHV0aW9uID8/IHRoaXMuX3JlbmRlcmVyLnJlc29sdXRpb247XG4gICAgY29uc3QgdGV4dHVyZSA9IGF3YWl0IHRoaXMuX3JlbmRlcmVyLmh0bWxUZXh0LmdldE1hbmFnZWRUZXh0dXJlKFxuICAgICAgaHRtbFRleHQudGV4dCxcbiAgICAgIHJlc29sdXRpb24sXG4gICAgICBodG1sVGV4dC5fc3R5bGUsXG4gICAgICBodG1sVGV4dC5fZ2V0S2V5KClcbiAgICApO1xuICAgIGNvbnN0IGJhdGNoYWJsZVNwcml0ZSA9IGdwdVRleHQuYmF0Y2hhYmxlU3ByaXRlO1xuICAgIGJhdGNoYWJsZVNwcml0ZS50ZXh0dXJlID0gZ3B1VGV4dC50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICBncHVUZXh0LmdlbmVyYXRpbmdUZXh0dXJlID0gZmFsc2U7XG4gICAgZ3B1VGV4dC50ZXh0dXJlTmVlZHNVcGxvYWRpbmcgPSB0cnVlO1xuICAgIGh0bWxUZXh0Lm9uVmlld1VwZGF0ZSgpO1xuICAgIHVwZGF0ZVRleHRCb3VuZHMoYmF0Y2hhYmxlU3ByaXRlLCBodG1sVGV4dCk7XG4gIH1cbiAgX2dldEdwdVRleHQoaHRtbFRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ3B1VGV4dFtodG1sVGV4dC51aWRdIHx8IHRoaXMuaW5pdEdwdVRleHQoaHRtbFRleHQpO1xuICB9XG4gIGluaXRHcHVUZXh0KGh0bWxUZXh0KSB7XG4gICAgY29uc3QgZ3B1VGV4dERhdGEgPSB7XG4gICAgICB0ZXh0dXJlOiBUZXh0dXJlLkVNUFRZLFxuICAgICAgY3VycmVudEtleTogXCItLVwiLFxuICAgICAgYmF0Y2hhYmxlU3ByaXRlOiBCaWdQb29sLmdldChCYXRjaGFibGVTcHJpdGUpLFxuICAgICAgdGV4dHVyZU5lZWRzVXBsb2FkaW5nOiBmYWxzZSxcbiAgICAgIGdlbmVyYXRpbmdUZXh0dXJlOiBmYWxzZVxuICAgIH07XG4gICAgY29uc3QgYmF0Y2hhYmxlU3ByaXRlID0gZ3B1VGV4dERhdGEuYmF0Y2hhYmxlU3ByaXRlO1xuICAgIGJhdGNoYWJsZVNwcml0ZS5yZW5kZXJhYmxlID0gaHRtbFRleHQ7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnRyYW5zZm9ybSA9IGh0bWxUZXh0Lmdyb3VwVHJhbnNmb3JtO1xuICAgIGJhdGNoYWJsZVNwcml0ZS50ZXh0dXJlID0gVGV4dHVyZS5FTVBUWTtcbiAgICBiYXRjaGFibGVTcHJpdGUuYm91bmRzID0geyBtaW5YOiAwLCBtYXhYOiAxLCBtaW5ZOiAwLCBtYXhZOiAwIH07XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnJvdW5kUGl4ZWxzID0gdGhpcy5fcmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgaHRtbFRleHQuX3JvdW5kUGl4ZWxzO1xuICAgIGh0bWxUZXh0Ll9yZXNvbHV0aW9uID0gaHRtbFRleHQuX2F1dG9SZXNvbHV0aW9uID8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbiA6IGh0bWxUZXh0LnJlc29sdXRpb247XG4gICAgdGhpcy5fZ3B1VGV4dFtodG1sVGV4dC51aWRdID0gZ3B1VGV4dERhdGE7XG4gICAgaHRtbFRleHQub24oXCJkZXN0cm95ZWRcIiwgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCk7XG4gICAgcmV0dXJuIGdwdVRleHREYXRhO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2dwdVRleHQpIHtcbiAgICAgIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQnlJZChpKTtcbiAgICB9XG4gICAgdGhpcy5fZ3B1VGV4dCA9IG51bGw7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuSFRNTFRleHRQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJodG1sVGV4dFwiXG59O1xuXG5leHBvcnQgeyBIVE1MVGV4dFBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhUTUxUZXh0UGlwZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IG5zc3ZnID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuY29uc3QgbnN4aHRtbCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO1xuY2xhc3MgSFRNTFRleHRSZW5kZXJEYXRhIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zdmdSb290ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zc3ZnLCBcInN2Z1wiKTtcbiAgICB0aGlzLmZvcmVpZ25PYmplY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnNzdmcsIFwiZm9yZWlnbk9iamVjdFwiKTtcbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnN4aHRtbCwgXCJkaXZcIik7XG4gICAgdGhpcy5zdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnN4aHRtbCwgXCJzdHlsZVwiKTtcbiAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgY29uc3QgeyBmb3JlaWduT2JqZWN0LCBzdmdSb290LCBzdHlsZUVsZW1lbnQsIGRvbUVsZW1lbnQgfSA9IHRoaXM7XG4gICAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBcIjEwMDAwXCIpO1xuICAgIGZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiMTAwMDBcIik7XG4gICAgZm9yZWlnbk9iamVjdC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgc3ZnUm9vdC5hcHBlbmRDaGlsZChmb3JlaWduT2JqZWN0KTtcbiAgICBmb3JlaWduT2JqZWN0LmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG4gICAgZm9yZWlnbk9iamVjdC5hcHBlbmRDaGlsZChkb21FbGVtZW50KTtcbiAgfVxufVxuXG5leHBvcnQgeyBIVE1MVGV4dFJlbmRlckRhdGEsIG5zc3ZnLCBuc3hodG1sIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IVE1MVGV4dFJlbmRlckRhdGEubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi9jb2xvci9Db2xvci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIHRleHRTdHlsZVRvQ1NTKHN0eWxlKSB7XG4gIGNvbnN0IHN0cm9rZSA9IHN0eWxlLl9zdHJva2U7XG4gIGNvbnN0IGZpbGwgPSBzdHlsZS5fZmlsbDtcbiAgY29uc3QgY3NzU3R5bGVTdHJpbmcgPSBbXG4gICAgYGNvbG9yOiAke0NvbG9yLnNoYXJlZC5zZXRWYWx1ZShmaWxsLmNvbG9yKS50b0hleCgpfWAsXG4gICAgYGZvbnQtc2l6ZTogJHtzdHlsZS5mb250U2l6ZX1weGAsXG4gICAgYGZvbnQtZmFtaWx5OiAke3N0eWxlLmZvbnRGYW1pbHl9YCxcbiAgICBgZm9udC13ZWlnaHQ6ICR7c3R5bGUuZm9udFdlaWdodH1gLFxuICAgIGBmb250LXN0eWxlOiAke3N0eWxlLmZvbnRTdHlsZX1gLFxuICAgIGBmb250LXZhcmlhbnQ6ICR7c3R5bGUuZm9udFZhcmlhbnR9YCxcbiAgICBgbGV0dGVyLXNwYWNpbmc6ICR7c3R5bGUubGV0dGVyU3BhY2luZ31weGAsXG4gICAgYHRleHQtYWxpZ246ICR7c3R5bGUuYWxpZ259YCxcbiAgICBgcGFkZGluZzogJHtzdHlsZS5wYWRkaW5nfXB4YCxcbiAgICBgd2hpdGUtc3BhY2U6ICR7c3R5bGUud2hpdGVTcGFjZSA9PT0gXCJwcmVcIiAmJiBzdHlsZS53b3JkV3JhcCA/IFwicHJlLXdyYXBcIiA6IHN0eWxlLndoaXRlU3BhY2V9YCxcbiAgICAuLi5zdHlsZS5saW5lSGVpZ2h0ID8gW2BsaW5lLWhlaWdodDogJHtzdHlsZS5saW5lSGVpZ2h0fXB4YF0gOiBbXSxcbiAgICAuLi5zdHlsZS53b3JkV3JhcCA/IFtcbiAgICAgIGB3b3JkLXdyYXA6ICR7c3R5bGUuYnJlYWtXb3JkcyA/IFwiYnJlYWstYWxsXCIgOiBcImJyZWFrLXdvcmRcIn1gLFxuICAgICAgYG1heC13aWR0aDogJHtzdHlsZS53b3JkV3JhcFdpZHRofXB4YFxuICAgIF0gOiBbXSxcbiAgICAuLi5zdHJva2UgPyBbc3Ryb2tlVG9DU1Moc3Ryb2tlKV0gOiBbXSxcbiAgICAuLi5zdHlsZS5kcm9wU2hhZG93ID8gW2Ryb3BTaGFkb3dUb0NTUyhzdHlsZS5kcm9wU2hhZG93KV0gOiBbXSxcbiAgICAuLi5zdHlsZS5jc3NPdmVycmlkZXNcbiAgXS5qb2luKFwiO1wiKTtcbiAgY29uc3QgY3NzU3R5bGVzID0gW2BkaXYgeyAke2Nzc1N0eWxlU3RyaW5nfSB9YF07XG4gIHRhZ1N0eWxlVG9DU1Moc3R5bGUudGFnU3R5bGVzLCBjc3NTdHlsZXMpO1xuICByZXR1cm4gY3NzU3R5bGVzLmpvaW4oXCIgXCIpO1xufVxuZnVuY3Rpb24gZHJvcFNoYWRvd1RvQ1NTKGRyb3BTaGFkb3dTdHlsZSkge1xuICBjb25zdCBjb2xvciA9IENvbG9yLnNoYXJlZC5zZXRWYWx1ZShkcm9wU2hhZG93U3R5bGUuY29sb3IpLnNldEFscGhhKGRyb3BTaGFkb3dTdHlsZS5hbHBoYSkudG9IZXhhKCk7XG4gIGNvbnN0IHggPSBNYXRoLnJvdW5kKE1hdGguY29zKGRyb3BTaGFkb3dTdHlsZS5hbmdsZSkgKiBkcm9wU2hhZG93U3R5bGUuZGlzdGFuY2UpO1xuICBjb25zdCB5ID0gTWF0aC5yb3VuZChNYXRoLnNpbihkcm9wU2hhZG93U3R5bGUuYW5nbGUpICogZHJvcFNoYWRvd1N0eWxlLmRpc3RhbmNlKTtcbiAgY29uc3QgcG9zaXRpb24gPSBgJHt4fXB4ICR7eX1weGA7XG4gIGlmIChkcm9wU2hhZG93U3R5bGUuYmx1ciA+IDApIHtcbiAgICByZXR1cm4gYHRleHQtc2hhZG93OiAke3Bvc2l0aW9ufSAke2Ryb3BTaGFkb3dTdHlsZS5ibHVyfXB4ICR7Y29sb3J9YDtcbiAgfVxuICByZXR1cm4gYHRleHQtc2hhZG93OiAke3Bvc2l0aW9ufSAke2NvbG9yfWA7XG59XG5mdW5jdGlvbiBzdHJva2VUb0NTUyhzdHJva2UpIHtcbiAgcmV0dXJuIFtcbiAgICBgLXdlYmtpdC10ZXh0LXN0cm9rZS13aWR0aDogJHtzdHJva2Uud2lkdGh9cHhgLFxuICAgIGAtd2Via2l0LXRleHQtc3Ryb2tlLWNvbG9yOiAke0NvbG9yLnNoYXJlZC5zZXRWYWx1ZShzdHJva2UuY29sb3IpLnRvSGV4KCl9YCxcbiAgICBgdGV4dC1zdHJva2Utd2lkdGg6ICR7c3Ryb2tlLndpZHRofXB4YCxcbiAgICBgdGV4dC1zdHJva2UtY29sb3I6ICR7Q29sb3Iuc2hhcmVkLnNldFZhbHVlKHN0cm9rZS5jb2xvcikudG9IZXgoKX1gLFxuICAgIFwicGFpbnQtb3JkZXI6IHN0cm9rZVwiXG4gIF0uam9pbihcIjtcIik7XG59XG5jb25zdCB0ZW1wbGF0ZXMgPSB7XG4gIGZvbnRTaXplOiBgZm9udC1zaXplOiB7e1ZBTFVFfX1weGAsXG4gIGZvbnRGYW1pbHk6IGBmb250LWZhbWlseToge3tWQUxVRX19YCxcbiAgZm9udFdlaWdodDogYGZvbnQtd2VpZ2h0OiB7e1ZBTFVFfX1gLFxuICBmb250U3R5bGU6IGBmb250LXN0eWxlOiB7e1ZBTFVFfX1gLFxuICBmb250VmFyaWFudDogYGZvbnQtdmFyaWFudDoge3tWQUxVRX19YCxcbiAgbGV0dGVyU3BhY2luZzogYGxldHRlci1zcGFjaW5nOiB7e1ZBTFVFfX1weGAsXG4gIGFsaWduOiBgdGV4dC1hbGlnbjoge3tWQUxVRX19YCxcbiAgcGFkZGluZzogYHBhZGRpbmc6IHt7VkFMVUV9fXB4YCxcbiAgd2hpdGVTcGFjZTogYHdoaXRlLXNwYWNlOiB7e1ZBTFVFfX1gLFxuICBsaW5lSGVpZ2h0OiBgbGluZS1oZWlnaHQ6IHt7VkFMVUV9fXB4YCxcbiAgd29yZFdyYXBXaWR0aDogYG1heC13aWR0aDoge3tWQUxVRX19cHhgXG59O1xuY29uc3QgdHJhbnNmb3JtID0ge1xuICBmaWxsOiAodmFsdWUpID0+IGBjb2xvcjogJHtDb2xvci5zaGFyZWQuc2V0VmFsdWUodmFsdWUpLnRvSGV4KCl9YCxcbiAgYnJlYWtXb3JkczogKHZhbHVlKSA9PiBgd29yZC13cmFwOiAke3ZhbHVlID8gXCJicmVhay1hbGxcIiA6IFwiYnJlYWstd29yZFwifWAsXG4gIHN0cm9rZTogc3Ryb2tlVG9DU1MsXG4gIGRyb3BTaGFkb3c6IGRyb3BTaGFkb3dUb0NTU1xufTtcbmZ1bmN0aW9uIHRhZ1N0eWxlVG9DU1ModGFnU3R5bGVzLCBvdXQpIHtcbiAgZm9yIChjb25zdCBpIGluIHRhZ1N0eWxlcykge1xuICAgIGNvbnN0IHRhZ1N0eWxlID0gdGFnU3R5bGVzW2ldO1xuICAgIGNvbnN0IGNzc1RhZ1N0eWxlID0gW107XG4gICAgZm9yIChjb25zdCBqIGluIHRhZ1N0eWxlKSB7XG4gICAgICBpZiAodHJhbnNmb3JtW2pdKSB7XG4gICAgICAgIGNzc1RhZ1N0eWxlLnB1c2godHJhbnNmb3JtW2pdKHRhZ1N0eWxlW2pdKSk7XG4gICAgICB9IGVsc2UgaWYgKHRlbXBsYXRlc1tqXSkge1xuICAgICAgICBjc3NUYWdTdHlsZS5wdXNoKHRlbXBsYXRlc1tqXS5yZXBsYWNlKFwie3tWQUxVRX19XCIsIHRhZ1N0eWxlW2pdKSk7XG4gICAgICB9XG4gICAgfVxuICAgIG91dC5wdXNoKGAke2l9IHsgJHtjc3NUYWdTdHlsZS5qb2luKFwiO1wiKX0gfWApO1xuICB9XG59XG5cbmV4cG9ydCB7IHRleHRTdHlsZVRvQ1NTIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0U3R5bGVUb0NTUy5tanMubWFwXG4iLCJpbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5pbXBvcnQgeyBUZXh0U3R5bGUgfSBmcm9tICcuLi90ZXh0L1RleHRTdHlsZS5tanMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVUZXh0U3R5bGVLZXkgfSBmcm9tICcuLi90ZXh0L3V0aWxzL2dlbmVyYXRlVGV4dFN0eWxlS2V5Lm1qcyc7XG5pbXBvcnQgeyB0ZXh0U3R5bGVUb0NTUyB9IGZyb20gJy4vdXRpbHMvdGV4dFN0eWxlVG9DU1MubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBIVE1MVGV4dFN0eWxlIGV4dGVuZHMgVGV4dFN0eWxlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gICAgdGhpcy5fY3NzT3ZlcnJpZGVzID0gW107XG4gICAgdGhpcy5jc3NPdmVycmlkZXMgPz8gKHRoaXMuY3NzT3ZlcnJpZGVzID0gb3B0aW9ucy5jc3NPdmVycmlkZXMpO1xuICAgIHRoaXMudGFnU3R5bGVzID0gb3B0aW9ucy50YWdTdHlsZXMgPz8ge307XG4gIH1cbiAgLyoqIExpc3Qgb2Ygc3R5bGUgb3ZlcnJpZGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBIVE1MIHRleHQuICovXG4gIHNldCBjc3NPdmVycmlkZXModmFsdWUpIHtcbiAgICB0aGlzLl9jc3NPdmVycmlkZXMgPSB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgZ2V0IGNzc092ZXJyaWRlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fY3NzT3ZlcnJpZGVzO1xuICB9XG4gIF9nZW5lcmF0ZUtleSgpIHtcbiAgICB0aGlzLl9zdHlsZUtleSA9IGdlbmVyYXRlVGV4dFN0eWxlS2V5KHRoaXMpICsgdGhpcy5fY3NzT3ZlcnJpZGVzLmpvaW4oXCItXCIpO1xuICAgIHJldHVybiB0aGlzLl9zdHlsZUtleTtcbiAgfVxuICB1cGRhdGUoKSB7XG4gICAgdGhpcy5fY3NzU3R5bGUgPSBudWxsO1xuICAgIHN1cGVyLnVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEhUTUxUZXh0U3R5bGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgKiBAcmV0dXJucyBOZXcgY2xvbmVkIEhUTUxUZXh0U3R5bGUgb2JqZWN0XG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IEhUTUxUZXh0U3R5bGUoe1xuICAgICAgYWxpZ246IHRoaXMuYWxpZ24sXG4gICAgICBicmVha1dvcmRzOiB0aGlzLmJyZWFrV29yZHMsXG4gICAgICBkcm9wU2hhZG93OiB0aGlzLmRyb3BTaGFkb3cgPyB7IC4uLnRoaXMuZHJvcFNoYWRvdyB9IDogbnVsbCxcbiAgICAgIGZpbGw6IHRoaXMuX2ZpbGwsXG4gICAgICBmb250RmFtaWx5OiB0aGlzLmZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogdGhpcy5mb250U2l6ZSxcbiAgICAgIGZvbnRTdHlsZTogdGhpcy5mb250U3R5bGUsXG4gICAgICBmb250VmFyaWFudDogdGhpcy5mb250VmFyaWFudCxcbiAgICAgIGZvbnRXZWlnaHQ6IHRoaXMuZm9udFdlaWdodCxcbiAgICAgIGxldHRlclNwYWNpbmc6IHRoaXMubGV0dGVyU3BhY2luZyxcbiAgICAgIGxpbmVIZWlnaHQ6IHRoaXMubGluZUhlaWdodCxcbiAgICAgIHBhZGRpbmc6IHRoaXMucGFkZGluZyxcbiAgICAgIHN0cm9rZTogdGhpcy5fc3Ryb2tlLFxuICAgICAgd2hpdGVTcGFjZTogdGhpcy53aGl0ZVNwYWNlLFxuICAgICAgd29yZFdyYXA6IHRoaXMud29yZFdyYXAsXG4gICAgICB3b3JkV3JhcFdpZHRoOiB0aGlzLndvcmRXcmFwV2lkdGgsXG4gICAgICBjc3NPdmVycmlkZXM6IHRoaXMuY3NzT3ZlcnJpZGVzXG4gICAgfSk7XG4gIH1cbiAgZ2V0IGNzc1N0eWxlKCkge1xuICAgIGlmICghdGhpcy5fY3NzU3R5bGUpIHtcbiAgICAgIHRoaXMuX2Nzc1N0eWxlID0gdGV4dFN0eWxlVG9DU1ModGhpcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jc3NTdHlsZTtcbiAgfVxuICAvKipcbiAgICogQWRkIGEgc3R5bGUgb3ZlcnJpZGUsIHRoaXMgY2FuIGJlIGFueSBDU1MgcHJvcGVydHlcbiAgICogaXQgd2lsbCBvdmVycmlkZSBhbnkgYnVpbHQtaW4gc3R5bGUuIFRoaXMgaXMgdGhlXG4gICAqIHByb3BlcnR5IGFuZCB0aGUgdmFsdWUgYXMgYSBzdHJpbmcgKGUuZy4sIGBjb2xvcjogcmVkYCkuXG4gICAqIFRoaXMgd2lsbCBvdmVycmlkZSBhbnkgb3RoZXIgaW50ZXJuYWwgc3R5bGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIENTUyBzdHlsZShzKSB0byBhZGQuXG4gICAqIEBleGFtcGxlXG4gICAqIHN0eWxlLmFkZE92ZXJyaWRlKCdiYWNrZ3JvdW5kLWNvbG9yOiByZWQnKTtcbiAgICovXG4gIGFkZE92ZXJyaWRlKC4uLnZhbHVlKSB7XG4gICAgY29uc3QgdG9BZGQgPSB2YWx1ZS5maWx0ZXIoKHYpID0+ICF0aGlzLmNzc092ZXJyaWRlcy5pbmNsdWRlcyh2KSk7XG4gICAgaWYgKHRvQWRkLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuY3NzT3ZlcnJpZGVzLnB1c2goLi4udG9BZGQpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBhbnkgb3ZlcnJpZGVzIHRoYXQgbWF0Y2ggdGhlIHZhbHVlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBDU1Mgc3R5bGUgdG8gcmVtb3ZlLlxuICAgKiBAZXhhbXBsZVxuICAgKiBzdHlsZS5yZW1vdmVPdmVycmlkZSgnYmFja2dyb3VuZC1jb2xvcjogcmVkJyk7XG4gICAqL1xuICByZW1vdmVPdmVycmlkZSguLi52YWx1ZSkge1xuICAgIGNvbnN0IHRvUmVtb3ZlID0gdmFsdWUuZmlsdGVyKCh2KSA9PiB0aGlzLmNzc092ZXJyaWRlcy5pbmNsdWRlcyh2KSk7XG4gICAgaWYgKHRvUmVtb3ZlLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuY3NzT3ZlcnJpZGVzID0gdGhpcy5jc3NPdmVycmlkZXMuZmlsdGVyKCh2KSA9PiAhdG9SZW1vdmUuaW5jbHVkZXModikpO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgc2V0IGZpbGwodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgd2FybihcIltIVE1MVGV4dFN0eWxlXSBvbmx5IGNvbG9yIGZpbGwgaXMgbm90IHN1cHBvcnRlZCBieSBIVE1MVGV4dFwiKTtcbiAgICB9XG4gICAgc3VwZXIuZmlsbCA9IHZhbHVlO1xuICB9XG4gIHNldCBzdHJva2UodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgd2FybihcIltIVE1MVGV4dFN0eWxlXSBvbmx5IGNvbG9yIHN0cm9rZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IEhUTUxUZXh0XCIpO1xuICAgIH1cbiAgICBzdXBlci5zdHJva2UgPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgeyBIVE1MVGV4dFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IVE1MVGV4dFN0eWxlLm1qcy5tYXBcbiIsImltcG9ydCB7IGxvYWRGb250QXNCYXNlNjQgfSBmcm9tICcuL2xvYWRGb250QXNCYXNlNjQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5hc3luYyBmdW5jdGlvbiBsb2FkRm9udENTUyhzdHlsZSwgdXJsKSB7XG4gIGNvbnN0IGRhdGFTcmMgPSBhd2FpdCBsb2FkRm9udEFzQmFzZTY0KHVybCk7XG4gIHJldHVybiBgQGZvbnQtZmFjZSB7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBcIiR7c3R5bGUuZm9udEZhbWlseX1cIjtcbiAgICAgICAgc3JjOiB1cmwoJyR7ZGF0YVNyY30nKTtcbiAgICAgICAgZm9udC13ZWlnaHQ6ICR7c3R5bGUuZm9udFdlaWdodH07XG4gICAgICAgIGZvbnQtc3R5bGU6ICR7c3R5bGUuZm9udFN0eWxlfTtcbiAgICB9YDtcbn1cblxuZXhwb3J0IHsgbG9hZEZvbnRDU1MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRGb250Q1NTLm1qcy5tYXBcbiIsImltcG9ydCB7IERPTUFkYXB0ZXIgfSBmcm9tICcuLi8uLi8uLi9lbnZpcm9ubWVudC9hZGFwdGVyLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuYXN5bmMgZnVuY3Rpb24gbG9hZEZvbnRBc0Jhc2U2NCh1cmwpIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBET01BZGFwdGVyLmdldCgpLmZldGNoKHVybCk7XG4gIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIGNvbnN0IGRhdGFTcmMgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gIH0pO1xuICByZXR1cm4gZGF0YVNyYztcbn1cblxuZXhwb3J0IHsgbG9hZEZvbnRBc0Jhc2U2NCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZEZvbnRBc0Jhc2U2NC5tanMubWFwXG4iLCJpbXBvcnQgeyBDYWNoZSB9IGZyb20gJy4uLy4uLy4uL2Fzc2V0cy9jYWNoZS9DYWNoZS5tanMnO1xuaW1wb3J0IHsgbG9hZEZvbnRDU1MgfSBmcm9tICcuL2xvYWRGb250Q1NTLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgRm9udFN0eWxlUHJvbWlzZUNhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmFzeW5jIGZ1bmN0aW9uIGdldEZvbnRDc3MoZm9udEZhbWlsaWVzLCBzdHlsZSwgZGVmYXVsdE9wdGlvbnMpIHtcbiAgY29uc3QgZm9udFByb21pc2VzID0gZm9udEZhbWlsaWVzLmZpbHRlcigoZm9udEZhbWlseSkgPT4gQ2FjaGUuaGFzKGAke2ZvbnRGYW1pbHl9LWFuZC11cmxgKSkubWFwKChmb250RmFtaWx5LCBpKSA9PiB7XG4gICAgaWYgKCFGb250U3R5bGVQcm9taXNlQ2FjaGUuaGFzKGZvbnRGYW1pbHkpKSB7XG4gICAgICBjb25zdCB7IHVybCB9ID0gQ2FjaGUuZ2V0KGAke2ZvbnRGYW1pbHl9LWFuZC11cmxgKTtcbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIEZvbnRTdHlsZVByb21pc2VDYWNoZS5zZXQoZm9udEZhbWlseSwgbG9hZEZvbnRDU1Moe1xuICAgICAgICAgIGZvbnRXZWlnaHQ6IHN0eWxlLmZvbnRXZWlnaHQsXG4gICAgICAgICAgZm9udFN0eWxlOiBzdHlsZS5mb250U3R5bGUsXG4gICAgICAgICAgZm9udEZhbWlseVxuICAgICAgICB9LCB1cmwpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEZvbnRTdHlsZVByb21pc2VDYWNoZS5zZXQoZm9udEZhbWlseSwgbG9hZEZvbnRDU1Moe1xuICAgICAgICAgIGZvbnRXZWlnaHQ6IGRlZmF1bHRPcHRpb25zLmZvbnRXZWlnaHQsXG4gICAgICAgICAgZm9udFN0eWxlOiBkZWZhdWx0T3B0aW9ucy5mb250U3R5bGUsXG4gICAgICAgICAgZm9udEZhbWlseVxuICAgICAgICB9LCB1cmwpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEZvbnRTdHlsZVByb21pc2VDYWNoZS5nZXQoZm9udEZhbWlseSk7XG4gIH0pO1xuICByZXR1cm4gKGF3YWl0IFByb21pc2UuYWxsKGZvbnRQcm9taXNlcykpLmpvaW4oXCJcXG5cIik7XG59XG5cbmV4cG9ydCB7IEZvbnRTdHlsZVByb21pc2VDYWNoZSwgZ2V0Rm9udENzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Rm9udENzcy5tanMubWFwXG4iLCJpbXBvcnQgeyBIVE1MVGV4dFJlbmRlckRhdGEgfSBmcm9tICcuLi9IVE1MVGV4dFJlbmRlckRhdGEubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgdGVtcEhUTUxUZXh0UmVuZGVyRGF0YTtcbmZ1bmN0aW9uIG1lYXN1cmVIdG1sVGV4dCh0ZXh0LCBzdHlsZSwgZm9udFN0eWxlQ1NTLCBodG1sVGV4dFJlbmRlckRhdGEpIHtcbiAgaHRtbFRleHRSZW5kZXJEYXRhIHx8IChodG1sVGV4dFJlbmRlckRhdGEgPSB0ZW1wSFRNTFRleHRSZW5kZXJEYXRhIHx8ICh0ZW1wSFRNTFRleHRSZW5kZXJEYXRhID0gbmV3IEhUTUxUZXh0UmVuZGVyRGF0YSgpKSk7XG4gIGNvbnN0IHsgZG9tRWxlbWVudCwgc3R5bGVFbGVtZW50LCBzdmdSb290IH0gPSBodG1sVGV4dFJlbmRlckRhdGE7XG4gIGRvbUVsZW1lbnQuaW5uZXJIVE1MID0gYDxzdHlsZT4ke3N0eWxlLmNzc1N0eWxlfTs8L3N0eWxlPjxkaXYgc3R5bGU9J3BhZGRpbmc6MCc+JHt0ZXh0fTwvZGl2PmA7XG4gIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJ0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDsgZGlzcGxheTogaW5saW5lLWJsb2NrXCIpO1xuICBpZiAoZm9udFN0eWxlQ1NTKSB7XG4gICAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gZm9udFN0eWxlQ1NTO1xuICB9XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3ZnUm9vdCk7XG4gIGNvbnN0IGNvbnRlbnRCb3VuZHMgPSBkb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBzdmdSb290LnJlbW92ZSgpO1xuICBjb25zdCBkb3VibGVQYWRkaW5nID0gc3R5bGUucGFkZGluZyAqIDI7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IGNvbnRlbnRCb3VuZHMud2lkdGggLSBkb3VibGVQYWRkaW5nLFxuICAgIGhlaWdodDogY29udGVudEJvdW5kcy5oZWlnaHQgLSBkb3VibGVQYWRkaW5nXG4gIH07XG59XG5cbmV4cG9ydCB7IG1lYXN1cmVIdG1sVGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVhc3VyZUh0bWxUZXh0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IENhbnZhc1Bvb2wgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL0NhbnZhc1Bvb2wubWpzJztcbmltcG9ydCB7IFRleHR1cmVQb29sIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlUG9vbC5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJUeXBlIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy90eXBlcy5tanMnO1xuaW1wb3J0IHsgaXNTYWZhcmkgfSBmcm9tICcuLi8uLi91dGlscy9icm93c2VyL2lzU2FmYXJpLm1qcyc7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IGdldFBvMlRleHR1cmVGcm9tU291cmNlIH0gZnJvbSAnLi4vdGV4dC91dGlscy9nZXRQbzJUZXh0dXJlRnJvbVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgSFRNTFRleHRSZW5kZXJEYXRhIH0gZnJvbSAnLi9IVE1MVGV4dFJlbmRlckRhdGEubWpzJztcbmltcG9ydCB7IEhUTUxUZXh0U3R5bGUgfSBmcm9tICcuL0hUTUxUZXh0U3R5bGUubWpzJztcbmltcG9ydCB7IGV4dHJhY3RGb250RmFtaWxpZXMgfSBmcm9tICcuL3V0aWxzL2V4dHJhY3RGb250RmFtaWxpZXMubWpzJztcbmltcG9ydCB7IGdldEZvbnRDc3MgfSBmcm9tICcuL3V0aWxzL2dldEZvbnRDc3MubWpzJztcbmltcG9ydCB7IGdldFNWR1VybCB9IGZyb20gJy4vdXRpbHMvZ2V0U1ZHVXJsLm1qcyc7XG5pbXBvcnQgeyBnZXRUZW1wb3JhcnlDYW52YXNGcm9tSW1hZ2UgfSBmcm9tICcuL3V0aWxzL2dldFRlbXBvcmFyeUNhbnZhc0Zyb21JbWFnZS5tanMnO1xuaW1wb3J0IHsgbG9hZFNWR0ltYWdlIH0gZnJvbSAnLi91dGlscy9sb2FkU1ZHSW1hZ2UubWpzJztcbmltcG9ydCB7IG1lYXN1cmVIdG1sVGV4dCB9IGZyb20gJy4vdXRpbHMvbWVhc3VyZUh0bWxUZXh0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgSFRNTFRleHRTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzID0ge307XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jcmVhdGVDYW52YXMgPSByZW5kZXJlci50eXBlID09PSBSZW5kZXJlclR5cGUuV0VCR1BVO1xuICB9XG4gIGdldFRleHR1cmUob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9idWlsZFRleHR1cmVQcm9taXNlKFxuICAgICAgb3B0aW9ucy50ZXh0LFxuICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uLFxuICAgICAgb3B0aW9ucy5zdHlsZVxuICAgICk7XG4gIH1cbiAgZ2V0TWFuYWdlZFRleHR1cmUodGV4dCwgcmVzb2x1dGlvbiwgc3R5bGUsIHRleHRLZXkpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0pIHtcbiAgICAgIHRoaXMuX2luY3JlYXNlUmVmZXJlbmNlQ291bnQodGV4dEtleSk7XG4gICAgICByZXR1cm4gdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0ucHJvbWlzZTtcbiAgICB9XG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuX2J1aWxkVGV4dHVyZVByb21pc2UodGV4dCwgcmVzb2x1dGlvbiwgc3R5bGUpLnRoZW4oKHRleHR1cmUpID0+IHtcbiAgICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfSk7XG4gICAgdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0gPSB7XG4gICAgICB0ZXh0dXJlOiBudWxsLFxuICAgICAgcHJvbWlzZSxcbiAgICAgIHVzYWdlQ291bnQ6IDFcbiAgICB9O1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG4gIGFzeW5jIF9idWlsZFRleHR1cmVQcm9taXNlKHRleHQsIHJlc29sdXRpb24sIHN0eWxlKSB7XG4gICAgY29uc3QgaHRtbFRleHREYXRhID0gQmlnUG9vbC5nZXQoSFRNTFRleHRSZW5kZXJEYXRhKTtcbiAgICBjb25zdCBmb250RmFtaWxpZXMgPSBleHRyYWN0Rm9udEZhbWlsaWVzKHRleHQsIHN0eWxlKTtcbiAgICBjb25zdCBmb250Q1NTID0gYXdhaXQgZ2V0Rm9udENzcyhcbiAgICAgIGZvbnRGYW1pbGllcyxcbiAgICAgIHN0eWxlLFxuICAgICAgSFRNTFRleHRTdHlsZS5kZWZhdWx0VGV4dFN0eWxlXG4gICAgKTtcbiAgICBjb25zdCBtZWFzdXJlZCA9IG1lYXN1cmVIdG1sVGV4dCh0ZXh0LCBzdHlsZSwgZm9udENTUywgaHRtbFRleHREYXRhKTtcbiAgICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbChNYXRoLmNlaWwoTWF0aC5tYXgoMSwgbWVhc3VyZWQud2lkdGgpICsgc3R5bGUucGFkZGluZyAqIDIpICogcmVzb2x1dGlvbik7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5jZWlsKE1hdGguY2VpbChNYXRoLm1heCgxLCBtZWFzdXJlZC5oZWlnaHQpICsgc3R5bGUucGFkZGluZyAqIDIpICogcmVzb2x1dGlvbik7XG4gICAgY29uc3QgaW1hZ2UgPSBodG1sVGV4dERhdGEuaW1hZ2U7XG4gICAgY29uc3QgdXZTYWZlT2Zmc2V0ID0gMjtcbiAgICBpbWFnZS53aWR0aCA9ICh3aWR0aCB8IDApICsgdXZTYWZlT2Zmc2V0O1xuICAgIGltYWdlLmhlaWdodCA9IChoZWlnaHQgfCAwKSArIHV2U2FmZU9mZnNldDtcbiAgICBjb25zdCBzdmdVUkwgPSBnZXRTVkdVcmwodGV4dCwgc3R5bGUsIHJlc29sdXRpb24sIGZvbnRDU1MsIGh0bWxUZXh0RGF0YSk7XG4gICAgYXdhaXQgbG9hZFNWR0ltYWdlKGltYWdlLCBzdmdVUkwsIGlzU2FmYXJpKCkgJiYgZm9udEZhbWlsaWVzLmxlbmd0aCA+IDApO1xuICAgIGNvbnN0IHJlc291cmNlID0gaW1hZ2U7XG4gICAgbGV0IGNhbnZhc0FuZENvbnRleHQ7XG4gICAgaWYgKHRoaXMuX2NyZWF0ZUNhbnZhcykge1xuICAgICAgY2FudmFzQW5kQ29udGV4dCA9IGdldFRlbXBvcmFyeUNhbnZhc0Zyb21JbWFnZShpbWFnZSwgcmVzb2x1dGlvbik7XG4gICAgfVxuICAgIGNvbnN0IHRleHR1cmUgPSBnZXRQbzJUZXh0dXJlRnJvbVNvdXJjZShcbiAgICAgIGNhbnZhc0FuZENvbnRleHQgPyBjYW52YXNBbmRDb250ZXh0LmNhbnZhcyA6IHJlc291cmNlLFxuICAgICAgaW1hZ2Uud2lkdGggLSB1dlNhZmVPZmZzZXQsXG4gICAgICBpbWFnZS5oZWlnaHQgLSB1dlNhZmVPZmZzZXQsXG4gICAgICByZXNvbHV0aW9uXG4gICAgKTtcbiAgICBpZiAodGhpcy5fY3JlYXRlQ2FudmFzKSB7XG4gICAgICB0aGlzLl9yZW5kZXJlci50ZXh0dXJlLmluaXRTb3VyY2UodGV4dHVyZS5zb3VyY2UpO1xuICAgICAgQ2FudmFzUG9vbC5yZXR1cm5DYW52YXNBbmRDb250ZXh0KGNhbnZhc0FuZENvbnRleHQpO1xuICAgIH1cbiAgICBCaWdQb29sLnJldHVybihodG1sVGV4dERhdGEpO1xuICAgIHJldHVybiB0ZXh0dXJlO1xuICB9XG4gIF9pbmNyZWFzZVJlZmVyZW5jZUNvdW50KHRleHRLZXkpIHtcbiAgICB0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XS51c2FnZUNvdW50Kys7XG4gIH1cbiAgZGVjcmVhc2VSZWZlcmVuY2VDb3VudCh0ZXh0S2V5KSB7XG4gICAgY29uc3QgYWN0aXZlVGV4dHVyZSA9IHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldO1xuICAgIGlmICghYWN0aXZlVGV4dHVyZSlcbiAgICAgIHJldHVybjtcbiAgICBhY3RpdmVUZXh0dXJlLnVzYWdlQ291bnQtLTtcbiAgICBpZiAoYWN0aXZlVGV4dHVyZS51c2FnZUNvdW50ID09PSAwKSB7XG4gICAgICBpZiAoYWN0aXZlVGV4dHVyZS50ZXh0dXJlKSB7XG4gICAgICAgIHRoaXMuX2NsZWFuVXAoYWN0aXZlVGV4dHVyZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVUZXh0dXJlLnByb21pc2UudGhlbigodGV4dHVyZSkgPT4ge1xuICAgICAgICAgIGFjdGl2ZVRleHR1cmUudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgICAgdGhpcy5fY2xlYW5VcChhY3RpdmVUZXh0dXJlKTtcbiAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgIHdhcm4oXCJIVE1MVGV4dFN5c3RlbTogRmFpbGVkIHRvIGNsZWFuIHRleHR1cmVcIik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0gPSBudWxsO1xuICAgIH1cbiAgfVxuICBfY2xlYW5VcChhY3RpdmVUZXh0dXJlKSB7XG4gICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShhY3RpdmVUZXh0dXJlLnRleHR1cmUpO1xuICAgIGFjdGl2ZVRleHR1cmUudGV4dHVyZS5zb3VyY2UucmVzb3VyY2UgPSBudWxsO1xuICAgIGFjdGl2ZVRleHR1cmUudGV4dHVyZS5zb3VyY2UudXBsb2FkTWV0aG9kSWQgPSBcInVua25vd25cIjtcbiAgfVxuICBnZXRSZWZlcmVuY2VDb3VudCh0ZXh0S2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldLnVzYWdlQ291bnQ7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9hY3RpdmVUZXh0dXJlcyA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5IVE1MVGV4dFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwiaHRtbFRleHRcIlxufTtcbkhUTUxUZXh0U3lzdGVtLmRlZmF1bHRGb250T3B0aW9ucyA9IHtcbiAgZm9udEZhbWlseTogXCJBcmlhbFwiLFxuICBmb250U3R5bGU6IFwibm9ybWFsXCIsXG4gIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCJcbn07XG5cbmV4cG9ydCB7IEhUTUxUZXh0U3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IVE1MVGV4dFN5c3RlbS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGV4dHJhY3RGb250RmFtaWxpZXModGV4dCwgc3R5bGUpIHtcbiAgY29uc3QgZm9udEZhbWlseSA9IHN0eWxlLmZvbnRGYW1pbHk7XG4gIGNvbnN0IGZvbnRGYW1pbGllcyA9IFtdO1xuICBjb25zdCBkZWR1cGUgPSB7fTtcbiAgY29uc3QgcmVnZXggPSAvZm9udC1mYW1pbHk6KFteO1wiXFxzXSspL2c7XG4gIGNvbnN0IG1hdGNoZXMgPSB0ZXh0Lm1hdGNoKHJlZ2V4KTtcbiAgZnVuY3Rpb24gYWRkRm9udEZhbWlseShmb250RmFtaWx5Mikge1xuICAgIGlmICghZGVkdXBlW2ZvbnRGYW1pbHkyXSkge1xuICAgICAgZm9udEZhbWlsaWVzLnB1c2goZm9udEZhbWlseTIpO1xuICAgICAgZGVkdXBlW2ZvbnRGYW1pbHkyXSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGZvbnRGYW1pbHkpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb250RmFtaWx5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBhZGRGb250RmFtaWx5KGZvbnRGYW1pbHlbaV0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhZGRGb250RmFtaWx5KGZvbnRGYW1pbHkpO1xuICB9XG4gIGlmIChtYXRjaGVzKSB7XG4gICAgbWF0Y2hlcy5mb3JFYWNoKChtYXRjaCkgPT4ge1xuICAgICAgY29uc3QgZm9udEZhbWlseTIgPSBtYXRjaC5zcGxpdChcIjpcIilbMV0udHJpbSgpO1xuICAgICAgYWRkRm9udEZhbWlseShmb250RmFtaWx5Mik7XG4gICAgfSk7XG4gIH1cbiAgZm9yIChjb25zdCBpIGluIHN0eWxlLnRhZ1N0eWxlcykge1xuICAgIGNvbnN0IGZvbnRGYW1pbHkyID0gc3R5bGUudGFnU3R5bGVzW2ldLmZvbnRGYW1pbHk7XG4gICAgYWRkRm9udEZhbWlseShmb250RmFtaWx5Mik7XG4gIH1cbiAgcmV0dXJuIGZvbnRGYW1pbGllcztcbn1cblxuZXhwb3J0IHsgZXh0cmFjdEZvbnRGYW1pbGllcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0cmFjdEZvbnRGYW1pbGllcy5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGdldFNWR1VybCh0ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgZm9udENTUywgaHRtbFRleHREYXRhKSB7XG4gIGNvbnN0IHsgZG9tRWxlbWVudCwgc3R5bGVFbGVtZW50LCBzdmdSb290IH0gPSBodG1sVGV4dERhdGE7XG4gIGRvbUVsZW1lbnQuaW5uZXJIVE1MID0gYDxzdHlsZT4ke3N0eWxlLmNzc1N0eWxlfTwvc3R5bGU+PGRpdiBzdHlsZT0ncGFkZGluZzowOyc+JHt0ZXh0fTwvZGl2PmA7XG4gIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgYHRyYW5zZm9ybTogc2NhbGUoJHtyZXNvbHV0aW9ufSk7dHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7IGRpc3BsYXk6IGlubGluZS1ibG9ja2ApO1xuICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBmb250Q1NTO1xuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGh0bWxUZXh0RGF0YS5pbWFnZTtcbiAgc3ZnUm9vdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB3aWR0aC50b1N0cmluZygpKTtcbiAgc3ZnUm9vdC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaGVpZ2h0LnRvU3RyaW5nKCkpO1xuICByZXR1cm4gbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhzdmdSb290KTtcbn1cblxuZXhwb3J0IHsgZ2V0U1ZHVXJsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRTVkdVcmwubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBsb2FkU1ZHSW1hZ2UoaW1hZ2UsIHVybCwgZGVsYXkpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlKSA9PiB7XG4gICAgaWYgKGRlbGF5KSB7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZTIpID0+IHNldFRpbWVvdXQocmVzb2x2ZTIsIDEwMCkpO1xuICAgIH1cbiAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcbiAgICBpbWFnZS5zcmMgPSBgZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmOCwke2VuY29kZVVSSUNvbXBvbmVudCh1cmwpfWA7XG4gICAgaW1hZ2UuY3Jvc3NPcmlnaW4gPSBcImFub255bW91c1wiO1xuICB9KTtcbn1cblxuZXhwb3J0IHsgbG9hZFNWR0ltYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkU1ZHSW1hZ2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgRE9NQWRhcHRlciB9IGZyb20gJy4uLy4uL2Vudmlyb25tZW50L2FkYXB0ZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBpc1NhZmFyaSgpIHtcbiAgY29uc3QgeyB1c2VyQWdlbnQgfSA9IERPTUFkYXB0ZXIuZ2V0KCkuZ2V0TmF2aWdhdG9yKCk7XG4gIHJldHVybiAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KHVzZXJBZ2VudCk7XG59XG5cbmV4cG9ydCB7IGlzU2FmYXJpIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1NhZmFyaS5tanMubWFwXG4iLCJpbXBvcnQgeyBDYW52YXNQb29sIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9DYW52YXNQb29sLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZ2V0VGVtcG9yYXJ5Q2FudmFzRnJvbUltYWdlKGltYWdlLCByZXNvbHV0aW9uKSB7XG4gIGNvbnN0IGNhbnZhc0FuZENvbnRleHQgPSBDYW52YXNQb29sLmdldE9wdGltYWxDYW52YXNBbmRDb250ZXh0KFxuICAgIGltYWdlLndpZHRoLFxuICAgIGltYWdlLmhlaWdodCxcbiAgICByZXNvbHV0aW9uXG4gICk7XG4gIGNvbnN0IHsgY29udGV4dCB9ID0gY2FudmFzQW5kQ29udGV4dDtcbiAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7XG4gIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcbiAgcmV0dXJuIGNhbnZhc0FuZENvbnRleHQ7XG59XG5cbmV4cG9ydCB7IGdldFRlbXBvcmFyeUNhbnZhc0Zyb21JbWFnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0VGVtcG9yYXJ5Q2FudmFzRnJvbUltYWdlLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEhUTUxUZXh0UGlwZSB9IGZyb20gJy4vSFRNTFRleHRQaXBlLm1qcyc7XG5pbXBvcnQgeyBIVE1MVGV4dFN5c3RlbSB9IGZyb20gJy4vSFRNTFRleHRTeXN0ZW0ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChIVE1MVGV4dFN5c3RlbSk7XG5leHRlbnNpb25zLmFkZChIVE1MVGV4dFBpcGUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNsYXNzIEdsUGFydGljbGVDb250YWluZXJBZGFwdG9yIHtcbiAgZXhlY3V0ZShwYXJ0aWNsZUNvbnRhaW5lclBpcGUsIGNvbnRhaW5lcikge1xuICAgIGNvbnN0IHN0YXRlID0gcGFydGljbGVDb250YWluZXJQaXBlLnN0YXRlO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gcGFydGljbGVDb250YWluZXJQaXBlLnJlbmRlcmVyO1xuICAgIGNvbnN0IHNoYWRlciA9IGNvbnRhaW5lci5zaGFkZXIgfHwgcGFydGljbGVDb250YWluZXJQaXBlLmRlZmF1bHRTaGFkZXI7XG4gICAgc2hhZGVyLnJlc291cmNlcy51VGV4dHVyZSA9IGNvbnRhaW5lci50ZXh0dXJlLl9zb3VyY2U7XG4gICAgc2hhZGVyLnJlc291cmNlcy51bmlmb3JtcyA9IHBhcnRpY2xlQ29udGFpbmVyUGlwZS5sb2NhbFVuaWZvcm1zO1xuICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgY29uc3QgYnVmZmVyID0gcGFydGljbGVDb250YWluZXJQaXBlLmdldEJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgIHJlbmRlcmVyLnN0YXRlLnNldChzdGF0ZSk7XG4gICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChidWZmZXIuZ2VvbWV0cnksIHNoYWRlci5nbFByb2dyYW0pO1xuICAgIGNvbnN0IGJ5dGVTaXplID0gYnVmZmVyLmdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgY29uc3QgZ2xUeXBlID0gYnl0ZVNpemUgPT09IDIgPyBnbC5VTlNJR05FRF9TSE9SVCA6IGdsLlVOU0lHTkVEX0lOVDtcbiAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBjb250YWluZXIucGFydGljbGVDaGlsZHJlbi5sZW5ndGggKiA2LCBnbFR5cGUsIDApO1xuICB9XG59XG5cbmV4cG9ydCB7IEdsUGFydGljbGVDb250YWluZXJBZGFwdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HbFBhcnRpY2xlQ29udGFpbmVyQWRhcHRvci5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplLCBvdXRCdWZmZXIgPSBudWxsKSB7XG4gIGNvbnN0IHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuICBpZiAodG90YWxJbmRpY2VzID4gNjU1MzUpIHtcbiAgICBvdXRCdWZmZXIgfHwgKG91dEJ1ZmZlciA9IG5ldyBVaW50MzJBcnJheSh0b3RhbEluZGljZXMpKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRCdWZmZXIgfHwgKG91dEJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheSh0b3RhbEluZGljZXMpKTtcbiAgfVxuICBpZiAob3V0QnVmZmVyLmxlbmd0aCAhPT0gdG90YWxJbmRpY2VzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBPdXQgYnVmZmVyIGxlbmd0aCBpcyBpbmNvcnJlY3QsIGdvdCAke291dEJ1ZmZlci5sZW5ndGh9IGFuZCBleHBlY3RlZCAke3RvdGFsSW5kaWNlc31gKTtcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbEluZGljZXM7IGkgKz0gNiwgaiArPSA0KSB7XG4gICAgb3V0QnVmZmVyW2kgKyAwXSA9IGogKyAwO1xuICAgIG91dEJ1ZmZlcltpICsgMV0gPSBqICsgMTtcbiAgICBvdXRCdWZmZXJbaSArIDJdID0gaiArIDI7XG4gICAgb3V0QnVmZmVyW2kgKyAzXSA9IGogKyAwO1xuICAgIG91dEJ1ZmZlcltpICsgNF0gPSBqICsgMjtcbiAgICBvdXRCdWZmZXJbaSArIDVdID0gaiArIDM7XG4gIH1cbiAgcmV0dXJuIG91dEJ1ZmZlcjtcbn1cblxuZXhwb3J0IHsgY3JlYXRlSW5kaWNlc0ZvclF1YWRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVJbmRpY2VzRm9yUXVhZHMubWpzLm1hcFxuIiwiaW1wb3J0IHsgZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQgfSBmcm9tICcuLi8uLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9nZW9tZXRyeS91dGlscy9nZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGdlbmVyYXRlUGFydGljbGVVcGRhdGVGdW5jdGlvbihwcm9wZXJ0aWVzKSB7XG4gIHJldHVybiB7XG4gICAgZHluYW1pY1VwZGF0ZTogZ2VuZXJhdGVVcGRhdGVGdW5jdGlvbihwcm9wZXJ0aWVzLCB0cnVlKSxcbiAgICBzdGF0aWNVcGRhdGU6IGdlbmVyYXRlVXBkYXRlRnVuY3Rpb24ocHJvcGVydGllcywgZmFsc2UpXG4gIH07XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVVwZGF0ZUZ1bmN0aW9uKHByb3BlcnRpZXMsIGR5bmFtaWMpIHtcbiAgY29uc3QgZnVuY0ZyYWdtZW50cyA9IFtdO1xuICBmdW5jRnJhZ21lbnRzLnB1c2goYFxuICAgICAgXG4gICAgICAgIHZhciBpbmRleCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcCA9IHBzW2ldO1xuXG4gICAgICAgICAgICBgKTtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGZvciAoY29uc3QgaSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgIGlmIChkeW5hbWljICE9PSBwcm9wZXJ0eS5keW5hbWljKVxuICAgICAgY29udGludWU7XG4gICAgZnVuY0ZyYWdtZW50cy5wdXNoKGBvZmZzZXQgPSBpbmRleCArICR7b2Zmc2V0fWApO1xuICAgIGZ1bmNGcmFnbWVudHMucHVzaChwcm9wZXJ0eS5jb2RlKTtcbiAgICBjb25zdCBhdHRyaWJ1dGVJbmZvID0gZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQocHJvcGVydHkuZm9ybWF0KTtcbiAgICBvZmZzZXQgKz0gYXR0cmlidXRlSW5mby5zdHJpZGUgLyA0O1xuICB9XG4gIGZ1bmNGcmFnbWVudHMucHVzaChgXG4gICAgICAgICAgICBpbmRleCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgYCk7XG4gIGZ1bmNGcmFnbWVudHMudW5zaGlmdChgXG4gICAgICAgIHZhciBzdHJpZGUgPSAke29mZnNldH07XG4gICAgYCk7XG4gIGNvbnN0IGZ1bmN0aW9uU291cmNlID0gZnVuY0ZyYWdtZW50cy5qb2luKFwiXFxuXCIpO1xuICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwicHNcIiwgXCJmMzJ2XCIsIFwidTMydlwiLCBmdW5jdGlvblNvdXJjZSk7XG59XG5cbmV4cG9ydCB7IGdlbmVyYXRlUGFydGljbGVVcGRhdGVGdW5jdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUZ1bmN0aW9uLm1qcy5tYXBcbiIsImltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2J1ZmZlci9CdWZmZXIubWpzJztcbmltcG9ydCB7IEJ1ZmZlclVzYWdlIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvYnVmZmVyL2NvbnN0Lm1qcyc7XG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2dlb21ldHJ5L0dlb21ldHJ5Lm1qcyc7XG5pbXBvcnQgeyBnZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2dlb21ldHJ5L3V0aWxzL2dldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0Lm1qcyc7XG5pbXBvcnQgeyBWaWV3YWJsZUJ1ZmZlciB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2RhdGEvVmlld2FibGVCdWZmZXIubWpzJztcbmltcG9ydCB7IGNyZWF0ZUluZGljZXNGb3JRdWFkcyB9IGZyb20gJy4vdXRpbHMvY3JlYXRlSW5kaWNlc0ZvclF1YWRzLm1qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVBhcnRpY2xlVXBkYXRlRnVuY3Rpb24gfSBmcm9tICcuL3V0aWxzL2dlbmVyYXRlUGFydGljbGVVcGRhdGVGdW5jdGlvbi5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFBhcnRpY2xlQnVmZmVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX3NpemUgPSAwO1xuICAgIHRoaXMuX2dlbmVyYXRlUGFydGljbGVVcGRhdGVDYWNoZSA9IHt9O1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLl9zaXplID0gb3B0aW9ucy5zaXplID8/IDFlMztcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gb3B0aW9ucy5wcm9wZXJ0aWVzO1xuICAgIGxldCBzdGF0aWNWZXJ0ZXhTaXplID0gMDtcbiAgICBsZXQgZHluYW1pY1ZlcnRleFNpemUgPSAwO1xuICAgIGZvciAoY29uc3QgaSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG4gICAgICBjb25zdCBhdHRyaWJ1dGVJbmZvID0gZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQocHJvcGVydHkuZm9ybWF0KTtcbiAgICAgIGlmIChwcm9wZXJ0eS5keW5hbWljKSB7XG4gICAgICAgIGR5bmFtaWNWZXJ0ZXhTaXplICs9IGF0dHJpYnV0ZUluZm8uc3RyaWRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGljVmVydGV4U2l6ZSArPSBhdHRyaWJ1dGVJbmZvLnN0cmlkZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fZHluYW1pY1N0cmlkZSA9IGR5bmFtaWNWZXJ0ZXhTaXplIC8gNDtcbiAgICB0aGlzLl9zdGF0aWNTdHJpZGUgPSBzdGF0aWNWZXJ0ZXhTaXplIC8gNDtcbiAgICB0aGlzLnN0YXRpY0F0dHJpYnV0ZUJ1ZmZlciA9IG5ldyBWaWV3YWJsZUJ1ZmZlcihzaXplICogNCAqIHN0YXRpY1ZlcnRleFNpemUpO1xuICAgIHRoaXMuZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlciA9IG5ldyBWaWV3YWJsZUJ1ZmZlcihzaXplICogNCAqIGR5bmFtaWNWZXJ0ZXhTaXplKTtcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHNpemUpO1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KCk7XG4gICAgbGV0IGR5bmFtaWNPZmZzZXQgPSAwO1xuICAgIGxldCBzdGF0aWNPZmZzZXQgPSAwO1xuICAgIHRoaXMuX3N0YXRpY0J1ZmZlciA9IG5ldyBCdWZmZXIoe1xuICAgICAgZGF0YTogbmV3IEZsb2F0MzJBcnJheSgxKSxcbiAgICAgIGxhYmVsOiBcInN0YXRpYy1wYXJ0aWNsZS1idWZmZXJcIixcbiAgICAgIHNocmlua1RvRml0OiBmYWxzZSxcbiAgICAgIHVzYWdlOiBCdWZmZXJVc2FnZS5WRVJURVggfCBCdWZmZXJVc2FnZS5DT1BZX0RTVFxuICAgIH0pO1xuICAgIHRoaXMuX2R5bmFtaWNCdWZmZXIgPSBuZXcgQnVmZmVyKHtcbiAgICAgIGRhdGE6IG5ldyBGbG9hdDMyQXJyYXkoMSksXG4gICAgICBsYWJlbDogXCJkeW5hbWljLXBhcnRpY2xlLWJ1ZmZlclwiLFxuICAgICAgc2hyaW5rVG9GaXQ6IGZhbHNlLFxuICAgICAgdXNhZ2U6IEJ1ZmZlclVzYWdlLlZFUlRFWCB8IEJ1ZmZlclVzYWdlLkNPUFlfRFNUXG4gICAgfSk7XG4gICAgZm9yIChjb25zdCBpIGluIHByb3BlcnRpZXMpIHtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZUluZm8gPSBnZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdChwcm9wZXJ0eS5mb3JtYXQpO1xuICAgICAgaWYgKHByb3BlcnR5LmR5bmFtaWMpIHtcbiAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsIHtcbiAgICAgICAgICBidWZmZXI6IHRoaXMuX2R5bmFtaWNCdWZmZXIsXG4gICAgICAgICAgc3RyaWRlOiB0aGlzLl9keW5hbWljU3RyaWRlICogNCxcbiAgICAgICAgICBvZmZzZXQ6IGR5bmFtaWNPZmZzZXQgKiA0LFxuICAgICAgICAgIGZvcm1hdDogcHJvcGVydHkuZm9ybWF0XG4gICAgICAgIH0pO1xuICAgICAgICBkeW5hbWljT2Zmc2V0ICs9IGF0dHJpYnV0ZUluZm8uc2l6ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZShwcm9wZXJ0eS5hdHRyaWJ1dGVOYW1lLCB7XG4gICAgICAgICAgYnVmZmVyOiB0aGlzLl9zdGF0aWNCdWZmZXIsXG4gICAgICAgICAgc3RyaWRlOiB0aGlzLl9zdGF0aWNTdHJpZGUgKiA0LFxuICAgICAgICAgIG9mZnNldDogc3RhdGljT2Zmc2V0ICogNCxcbiAgICAgICAgICBmb3JtYXQ6IHByb3BlcnR5LmZvcm1hdFxuICAgICAgICB9KTtcbiAgICAgICAgc3RhdGljT2Zmc2V0ICs9IGF0dHJpYnV0ZUluZm8uc2l6ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VvbWV0cnkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcik7XG4gICAgY29uc3QgdXBsb2FkRnVuY3Rpb24gPSB0aGlzLmdldFBhcnRpY2xlVXBkYXRlKHByb3BlcnRpZXMpO1xuICAgIHRoaXMuX2R5bmFtaWNVcGxvYWQgPSB1cGxvYWRGdW5jdGlvbi5keW5hbWljVXBkYXRlO1xuICAgIHRoaXMuX3N0YXRpY1VwbG9hZCA9IHVwbG9hZEZ1bmN0aW9uLnN0YXRpY1VwZGF0ZTtcbiAgICB0aGlzLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4gIH1cbiAgZ2V0UGFydGljbGVVcGRhdGUocHJvcGVydGllcykge1xuICAgIGNvbnN0IGtleSA9IGdldFBhcnRpY2xlU3luY0tleShwcm9wZXJ0aWVzKTtcbiAgICBpZiAodGhpcy5fZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUNhY2hlW2tleV0pIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZW5lcmF0ZVBhcnRpY2xlVXBkYXRlQ2FjaGVba2V5XTtcbiAgICB9XG4gICAgdGhpcy5fZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUNhY2hlW2tleV0gPSB0aGlzLmdlbmVyYXRlUGFydGljbGVVcGRhdGUocHJvcGVydGllcyk7XG4gICAgcmV0dXJuIHRoaXMuX2dlbmVyYXRlUGFydGljbGVVcGRhdGVDYWNoZVtrZXldO1xuICB9XG4gIGdlbmVyYXRlUGFydGljbGVVcGRhdGUocHJvcGVydGllcykge1xuICAgIHJldHVybiBnZW5lcmF0ZVBhcnRpY2xlVXBkYXRlRnVuY3Rpb24ocHJvcGVydGllcyk7XG4gIH1cbiAgdXBkYXRlKHBhcnRpY2xlcywgdXBsb2FkU3RhdGljKSB7XG4gICAgaWYgKHBhcnRpY2xlcy5sZW5ndGggPiB0aGlzLl9zaXplKSB7XG4gICAgICB1cGxvYWRTdGF0aWMgPSB0cnVlO1xuICAgICAgdGhpcy5fc2l6ZSA9IE1hdGgubWF4KHBhcnRpY2xlcy5sZW5ndGgsIHRoaXMuX3NpemUgKiAxLjUgfCAwKTtcbiAgICAgIHRoaXMuc3RhdGljQXR0cmlidXRlQnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKHRoaXMuX3NpemUgKiB0aGlzLl9zdGF0aWNTdHJpZGUgKiA0ICogNCk7XG4gICAgICB0aGlzLmR5bmFtaWNBdHRyaWJ1dGVCdWZmZXIgPSBuZXcgVmlld2FibGVCdWZmZXIodGhpcy5fc2l6ZSAqIHRoaXMuX2R5bmFtaWNTdHJpZGUgKiA0ICogNCk7XG4gICAgICB0aGlzLmluZGV4QnVmZmVyID0gY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHRoaXMuX3NpemUpO1xuICAgICAgdGhpcy5nZW9tZXRyeS5pbmRleEJ1ZmZlci5zZXREYXRhV2l0aFNpemUoXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIsXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuYnl0ZUxlbmd0aCxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlciA9IHRoaXMuZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlcjtcbiAgICB0aGlzLl9keW5hbWljVXBsb2FkKHBhcnRpY2xlcywgZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlci5mbG9hdDMyVmlldywgZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlci51aW50MzJWaWV3KTtcbiAgICB0aGlzLl9keW5hbWljQnVmZmVyLnNldERhdGFXaXRoU2l6ZShcbiAgICAgIHRoaXMuZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlci5mbG9hdDMyVmlldyxcbiAgICAgIHBhcnRpY2xlcy5sZW5ndGggKiB0aGlzLl9keW5hbWljU3RyaWRlICogNCxcbiAgICAgIHRydWVcbiAgICApO1xuICAgIGlmICh1cGxvYWRTdGF0aWMpIHtcbiAgICAgIGNvbnN0IHN0YXRpY0F0dHJpYnV0ZUJ1ZmZlciA9IHRoaXMuc3RhdGljQXR0cmlidXRlQnVmZmVyO1xuICAgICAgdGhpcy5fc3RhdGljVXBsb2FkKHBhcnRpY2xlcywgc3RhdGljQXR0cmlidXRlQnVmZmVyLmZsb2F0MzJWaWV3LCBzdGF0aWNBdHRyaWJ1dGVCdWZmZXIudWludDMyVmlldyk7XG4gICAgICB0aGlzLl9zdGF0aWNCdWZmZXIuc2V0RGF0YVdpdGhTaXplKFxuICAgICAgICBzdGF0aWNBdHRyaWJ1dGVCdWZmZXIuZmxvYXQzMlZpZXcsXG4gICAgICAgIHBhcnRpY2xlcy5sZW5ndGggKiB0aGlzLl9zdGF0aWNTdHJpZGUgKiA0LFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3N0YXRpY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgdGhpcy5fZHluYW1pY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgdGhpcy5nZW9tZXRyeS5kZXN0cm95KCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFBhcnRpY2xlU3luY0tleShwcm9wZXJ0aWVzKSB7XG4gIGNvbnN0IGtleUdlbiA9IFtdO1xuICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2tleV07XG4gICAga2V5R2VuLnB1c2goa2V5LCBwcm9wZXJ0eS5jb2RlLCBwcm9wZXJ0eS5keW5hbWljID8gXCJkXCIgOiBcInNcIik7XG4gIH1cbiAgcmV0dXJuIGtleUdlbi5qb2luKFwiX1wiKTtcbn1cblxuZXhwb3J0IHsgUGFydGljbGVCdWZmZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlQnVmZmVyLm1qcy5tYXBcbiIsInZhciB3Z3NsID0gXCJcXG5zdHJ1Y3QgUGFydGljbGVVbmlmb3JtcyB7XFxuICB1UHJvamVjdGlvbk1hdHJpeDptYXQzeDM8ZjMyPixcXG4gIHVDb2xvcjp2ZWM0PGYzMj4sXFxuICB1UmVzb2x1dGlvbjp2ZWMyPGYzMj4sXFxuICB1Um91bmRQaXhlbHM6ZjMyLFxcbn07XFxuXFxuQGdyb3VwKDApIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiB1bmlmb3JtczogUGFydGljbGVVbmlmb3JtcztcXG5cXG5AZ3JvdXAoMSkgQGJpbmRpbmcoMCkgdmFyIHVUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XFxuQGdyb3VwKDEpIEBiaW5kaW5nKDEpIHZhciB1U2FtcGxlciA6IHNhbXBsZXI7XFxuXFxuc3RydWN0IFZTT3V0cHV0IHtcXG4gICAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0PGYzMj4sXFxuICAgIEBsb2NhdGlvbigwKSB1diA6IHZlYzI8ZjMyPixcXG4gICAgQGxvY2F0aW9uKDEpIGNvbG9yIDogdmVjNDxmMzI+LFxcbiAgfTtcXG5AdmVydGV4XFxuZm4gbWFpblZlcnRleChcXG4gIEBsb2NhdGlvbigwKSBhVmVydGV4OiB2ZWMyPGYzMj4sXFxuICBAbG9jYXRpb24oMSkgYVBvc2l0aW9uOiB2ZWMyPGYzMj4sXFxuICBAbG9jYXRpb24oMikgYVVWOiB2ZWMyPGYzMj4sXFxuICBAbG9jYXRpb24oMykgYUNvbG9yOiB2ZWM0PGYzMj4sXFxuICBAbG9jYXRpb24oNCkgYVJvdGF0aW9uOiBmMzIsXFxuKSAtPiBWU091dHB1dCB7XFxuICBcXG4gICBsZXQgdiA9IHZlYzIoXFxuICAgICAgIGFWZXJ0ZXgueCAqIGNvcyhhUm90YXRpb24pIC0gYVZlcnRleC55ICogc2luKGFSb3RhdGlvbiksXFxuICAgICAgIGFWZXJ0ZXgueCAqIHNpbihhUm90YXRpb24pICsgYVZlcnRleC55ICogY29zKGFSb3RhdGlvbilcXG4gICApICsgYVBvc2l0aW9uO1xcblxcbiAgIGxldCBwb3NpdGlvbiA9IHZlYzQoKHVuaWZvcm1zLnVQcm9qZWN0aW9uTWF0cml4ICogdmVjMyh2LCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICBsZXQgdkNvbG9yID0gdmVjNChhQ29sb3IucmdiICogYUNvbG9yLmEsIGFDb2xvci5hKSAqIHVuaWZvcm1zLnVDb2xvcjtcXG5cXG4gIHJldHVybiBWU091dHB1dChcXG4gICBwb3NpdGlvbixcXG4gICBhVVYsXFxuICAgdkNvbG9yLFxcbiAgKTtcXG59XFxuXFxuQGZyYWdtZW50XFxuZm4gbWFpbkZyYWdtZW50KFxcbiAgQGxvY2F0aW9uKDApIHV2OiB2ZWMyPGYzMj4sXFxuICBAbG9jYXRpb24oMSkgY29sb3I6IHZlYzQ8ZjMyPixcXG4gIEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbjogdmVjNDxmMzI+LFxcbikgLT4gQGxvY2F0aW9uKDApIHZlYzQ8ZjMyPiB7XFxuXFxuICAgIHZhciBzYW1wbGUgPSB0ZXh0dXJlU2FtcGxlKHVUZXh0dXJlLCB1U2FtcGxlciwgdXYpICogY29sb3I7XFxuICAgXFxuICAgIHJldHVybiBzYW1wbGU7XFxufVwiO1xuXG5leHBvcnQgeyB3Z3NsIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpY2xlcy53Z3NsLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29sb3IvQ29sb3IubWpzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IEdsUHJvZ3JhbSB9IGZyb20gJy4uLy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ2wvc2hhZGVyL0dsUHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgR3B1UHJvZ3JhbSB9IGZyb20gJy4uLy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci9HcHVQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBTaGFkZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvU2hhZGVyLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlU3R5bGUgfSBmcm9tICcuLi8uLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVTdHlsZS5tanMnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vcGFydGljbGVzLmZyYWcubWpzJztcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi9wYXJ0aWNsZXMudmVydC5tanMnO1xuaW1wb3J0IHdnc2wgZnJvbSAnLi9wYXJ0aWNsZXMud2dzbC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFBhcnRpY2xlU2hhZGVyIGV4dGVuZHMgU2hhZGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgZ2xQcm9ncmFtID0gR2xQcm9ncmFtLmZyb20oe1xuICAgICAgdmVydGV4LFxuICAgICAgZnJhZ21lbnRcbiAgICB9KTtcbiAgICBjb25zdCBncHVQcm9ncmFtID0gR3B1UHJvZ3JhbS5mcm9tKHtcbiAgICAgIGZyYWdtZW50OiB7XG4gICAgICAgIHNvdXJjZTogd2dzbCxcbiAgICAgICAgZW50cnlQb2ludDogXCJtYWluRnJhZ21lbnRcIlxuICAgICAgfSxcbiAgICAgIHZlcnRleDoge1xuICAgICAgICBzb3VyY2U6IHdnc2wsXG4gICAgICAgIGVudHJ5UG9pbnQ6IFwibWFpblZlcnRleFwiXG4gICAgICB9XG4gICAgfSk7XG4gICAgc3VwZXIoe1xuICAgICAgZ2xQcm9ncmFtLFxuICAgICAgZ3B1UHJvZ3JhbSxcbiAgICAgIHJlc291cmNlczoge1xuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgdGV4dHVyZSBmcm9tIHRoZSBwYXJ0aWNsZSBjb250YWluZXJcbiAgICAgICAgdVRleHR1cmU6IFRleHR1cmUuV0hJVEUuc291cmNlLFxuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgdGV4dHVyZSBzdHlsZSBmcm9tIHRoZSBwYXJ0aWNsZSBjb250YWluZXJcbiAgICAgICAgdVNhbXBsZXI6IG5ldyBUZXh0dXJlU3R5bGUoe30pLFxuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgbG9jYWwgdW5pZm9ybXMgZnJvbSB0aGUgcGFydGljbGUgY29udGFpbmVyXG4gICAgICAgIHVuaWZvcm1zOiB7XG4gICAgICAgICAgdVRyYW5zbGF0aW9uTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgICAgIHVDb2xvcjogeyB2YWx1ZTogbmV3IENvbG9yKDE2Nzc3MjE1KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgICAgIHVSb3VuZDogeyB2YWx1ZTogMSwgdHlwZTogXCJmMzJcIiB9LFxuICAgICAgICAgIHVSZXNvbHV0aW9uOiB7IHZhbHVlOiBbMCwgMF0sIHR5cGU6IFwidmVjMjxmMzI+XCIgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgUGFydGljbGVTaGFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlU2hhZGVyLm1qcy5tYXBcbiIsInZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXg7XFxuYXR0cmlidXRlIHZlYzIgYVVWO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb247XFxuYXR0cmlidXRlIGZsb2F0IGFSb3RhdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgdVRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gZmxvYXQgdVJvdW5kO1xcbnVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZhcnlpbmcgdmVjMiB2VVY7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52ZWMyIHJvdW5kUGl4ZWxzKHZlYzIgcG9zaXRpb24sIHZlYzIgdGFyZ2V0U2l6ZSlcXG57ICAgICAgIFxcbiAgICByZXR1cm4gKGZsb29yKCgocG9zaXRpb24gKiAwLjUgKyAwLjUpICogdGFyZ2V0U2l6ZSkgKyAwLjUpIC8gdGFyZ2V0U2l6ZSkgKiAyLjAgLSAxLjA7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZmxvYXQgY29zUm90YXRpb24gPSBjb3MoYVJvdGF0aW9uKTtcXG4gICAgZmxvYXQgc2luUm90YXRpb24gPSBzaW4oYVJvdGF0aW9uKTtcXG4gICAgZmxvYXQgeCA9IGFWZXJ0ZXgueCAqIGNvc1JvdGF0aW9uIC0gYVZlcnRleC55ICogc2luUm90YXRpb247XFxuICAgIGZsb2F0IHkgPSBhVmVydGV4LnggKiBzaW5Sb3RhdGlvbiArIGFWZXJ0ZXgueSAqIGNvc1JvdGF0aW9uO1xcblxcbiAgICB2ZWMyIHYgPSB2ZWMyKHgsIHkpO1xcbiAgICB2ID0gdiArIGFQb3NpdGlvbjtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCh1VHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKHYsIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIGlmKHVSb3VuZCA9PSAxLjApXFxuICAgIHtcXG4gICAgICAgIGdsX1Bvc2l0aW9uLnh5ID0gcm91bmRQaXhlbHMoZ2xfUG9zaXRpb24ueHksIHVSZXNvbHV0aW9uKTtcXG4gICAgfVxcblxcbiAgICB2VVYgPSBhVVY7XFxuICAgIHZDb2xvciA9IHZlYzQoYUNvbG9yLnJnYiAqIGFDb2xvci5hLCBhQ29sb3IuYSkgKiB1Q29sb3I7XFxufVxcblwiO1xuXG5leHBvcnQgeyB2ZXJ0ZXggYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydGljbGVzLnZlcnQubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlVWO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VVYpICogdkNvbG9yO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XCI7XG5cbmV4cG9ydCB7IGZyYWdtZW50IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpY2xlcy5mcmFnLm1qcy5tYXBcbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IGdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9nZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kLm1qcyc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyc7XG5pbXBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtIH0gZnJvbSAnLi4vLi4vZ3JhcGhpY3MvZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyc7XG5pbXBvcnQgeyBQYXJ0aWNsZUJ1ZmZlciB9IGZyb20gJy4vUGFydGljbGVCdWZmZXIubWpzJztcbmltcG9ydCB7IFBhcnRpY2xlU2hhZGVyIH0gZnJvbSAnLi9zaGFkZXIvUGFydGljbGVTaGFkZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBQYXJ0aWNsZUNvbnRhaW5lclBpcGUge1xuICAvKipcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3ByaXRlIGJhdGNoIHdvcmtzIGZvci5cbiAgICogQHBhcmFtIGFkYXB0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBhZGFwdG9yKSB7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgdGhpcy5fZ3B1QnVmZmVySGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgdGhpcy5fZGVzdHJveVJlbmRlcmFibGVCb3VuZCA9IHRoaXMuZGVzdHJveVJlbmRlcmFibGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmxvY2FsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgIHVUcmFuc2xhdGlvbk1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgIHVDb2xvcjogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheSg0KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdVJvdW5kOiB7IHZhbHVlOiAxLCB0eXBlOiBcImYzMlwiIH0sXG4gICAgICB1UmVzb2x1dGlvbjogeyB2YWx1ZTogWzAsIDBdLCB0eXBlOiBcInZlYzI8ZjMyPlwiIH1cbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5hZGFwdG9yID0gYWRhcHRvcjtcbiAgICB0aGlzLmRlZmF1bHRTaGFkZXIgPSBuZXcgUGFydGljbGVTaGFkZXIoKTtcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUoX3JlbmRlcmFibGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShyZW5kZXJhYmxlLCBpbnN0cnVjdGlvblNldCkge1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZChyZW5kZXJhYmxlKTtcbiAgfVxuICBnZXRCdWZmZXJzKHJlbmRlcmFibGUpIHtcbiAgICByZXR1cm4gdGhpcy5fZ3B1QnVmZmVySGFzaFtyZW5kZXJhYmxlLnVpZF0gfHwgdGhpcy5faW5pdEJ1ZmZlcihyZW5kZXJhYmxlKTtcbiAgfVxuICBfaW5pdEJ1ZmZlcihyZW5kZXJhYmxlKSB7XG4gICAgdGhpcy5fZ3B1QnVmZmVySGFzaFtyZW5kZXJhYmxlLnVpZF0gPSBuZXcgUGFydGljbGVCdWZmZXIoe1xuICAgICAgc2l6ZTogcmVuZGVyYWJsZS5wYXJ0aWNsZUNoaWxkcmVuLmxlbmd0aCxcbiAgICAgIHByb3BlcnRpZXM6IHJlbmRlcmFibGUuX3Byb3BlcnRpZXNcbiAgICB9KTtcbiAgICByZW5kZXJhYmxlLm9uKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICAgIHJldHVybiB0aGlzLl9ncHVCdWZmZXJIYXNoW3JlbmRlcmFibGUudWlkXTtcbiAgfVxuICB1cGRhdGVSZW5kZXJhYmxlKF9yZW5kZXJhYmxlKSB7XG4gIH1cbiAgZGVzdHJveVJlbmRlcmFibGUocmVuZGVyYWJsZSkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuX2dwdUJ1ZmZlckhhc2hbcmVuZGVyYWJsZS51aWRdO1xuICAgIGJ1ZmZlci5kZXN0cm95KCk7XG4gICAgdGhpcy5fZ3B1QnVmZmVySGFzaFtyZW5kZXJhYmxlLnVpZF0gPSBudWxsO1xuICAgIHJlbmRlcmFibGUub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX2Rlc3Ryb3lSZW5kZXJhYmxlQm91bmQpO1xuICB9XG4gIGV4ZWN1dGUoY29udGFpbmVyKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBjb250YWluZXIucGFydGljbGVDaGlsZHJlbjtcbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICBjb25zdCBidWZmZXIgPSB0aGlzLmdldEJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICBjb250YWluZXIudGV4dHVyZSB8fCAoY29udGFpbmVyLnRleHR1cmUgPSBjaGlsZHJlblswXS50ZXh0dXJlKTtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgYnVmZmVyLnVwZGF0ZShjaGlsZHJlbiwgY29udGFpbmVyLl9jaGlsZHJlbkRpcnR5KTtcbiAgICBjb250YWluZXIuX2NoaWxkcmVuRGlydHkgPSBmYWxzZTtcbiAgICBzdGF0ZS5ibGVuZE1vZGUgPSBnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kKGNvbnRhaW5lci5ibGVuZE1vZGUsIGNvbnRhaW5lci50ZXh0dXJlLl9zb3VyY2UpO1xuICAgIGNvbnN0IHVuaWZvcm1zID0gdGhpcy5sb2NhbFVuaWZvcm1zLnVuaWZvcm1zO1xuICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uTWF0cml4ID0gdW5pZm9ybXMudVRyYW5zbGF0aW9uTWF0cml4O1xuICAgIGNvbnRhaW5lci53b3JsZFRyYW5zZm9ybS5jb3B5VG8odHJhbnNmb3JtYXRpb25NYXRyaXgpO1xuICAgIHRyYW5zZm9ybWF0aW9uTWF0cml4LnByZXBlbmQocmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMuZ2xvYmFsVW5pZm9ybURhdGEucHJvamVjdGlvbk1hdHJpeCk7XG4gICAgdW5pZm9ybXMudVJlc29sdXRpb24gPSByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5nbG9iYWxVbmlmb3JtRGF0YS5yZXNvbHV0aW9uO1xuICAgIHVuaWZvcm1zLnVSb3VuZCA9IHJlbmRlcmVyLl9yb3VuZFBpeGVscyB8IGNvbnRhaW5lci5fcm91bmRQaXhlbHM7XG4gICAgY29sb3IzMkJpdFRvVW5pZm9ybShcbiAgICAgIGNvbnRhaW5lci5ncm91cENvbG9yQWxwaGEsXG4gICAgICB1bmlmb3Jtcy51Q29sb3IsXG4gICAgICAwXG4gICAgKTtcbiAgICB0aGlzLmFkYXB0b3IuZXhlY3V0ZSh0aGlzLCBjb250YWluZXIpO1xuICB9XG4gIC8qKiBEZXN0cm95cyB0aGUgUGFydGljbGVSZW5kZXJlci4gKi9cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5kZWZhdWx0U2hhZGVyKSB7XG4gICAgICB0aGlzLmRlZmF1bHRTaGFkZXIuZGVzdHJveSgpO1xuICAgICAgdGhpcy5kZWZhdWx0U2hhZGVyID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgUGFydGljbGVDb250YWluZXJQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZUNvbnRhaW5lclBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgR2xQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IgfSBmcm9tICcuLi9nbC9HbFBhcnRpY2xlQ29udGFpbmVyQWRhcHRvci5tanMnO1xuaW1wb3J0IHsgUGFydGljbGVDb250YWluZXJQaXBlIH0gZnJvbSAnLi9QYXJ0aWNsZUNvbnRhaW5lclBpcGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBHbFBhcnRpY2xlQ29udGFpbmVyUGlwZSBleHRlbmRzIFBhcnRpY2xlQ29udGFpbmVyUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgc3VwZXIocmVuZGVyZXIsIG5ldyBHbFBhcnRpY2xlQ29udGFpbmVyQWRhcHRvcigpKTtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkdsUGFydGljbGVDb250YWluZXJQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlc1xuICBdLFxuICBuYW1lOiBcInBhcnRpY2xlXCJcbn07XG5cbmV4cG9ydCB7IEdsUGFydGljbGVDb250YWluZXJQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HbFBhcnRpY2xlQ29udGFpbmVyUGlwZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNsYXNzIEdwdVBhcnRpY2xlQ29udGFpbmVyQWRhcHRvciB7XG4gIGV4ZWN1dGUocGFydGljbGVDb250YWluZXJQaXBlLCBjb250YWluZXIpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHBhcnRpY2xlQ29udGFpbmVyUGlwZS5yZW5kZXJlcjtcbiAgICBjb25zdCBzaGFkZXIgPSBjb250YWluZXIuc2hhZGVyIHx8IHBhcnRpY2xlQ29udGFpbmVyUGlwZS5kZWZhdWx0U2hhZGVyO1xuICAgIHNoYWRlci5ncm91cHNbMF0gPSByZW5kZXJlci5yZW5kZXJQaXBlcy51bmlmb3JtQmF0Y2guZ2V0VW5pZm9ybUJpbmRHcm91cChwYXJ0aWNsZUNvbnRhaW5lclBpcGUubG9jYWxVbmlmb3JtcywgdHJ1ZSk7XG4gICAgc2hhZGVyLmdyb3Vwc1sxXSA9IHJlbmRlcmVyLnRleHR1cmUuZ2V0VGV4dHVyZUJpbmRHcm91cChjb250YWluZXIudGV4dHVyZSk7XG4gICAgY29uc3Qgc3RhdGUgPSBwYXJ0aWNsZUNvbnRhaW5lclBpcGUuc3RhdGU7XG4gICAgY29uc3QgYnVmZmVyID0gcGFydGljbGVDb250YWluZXJQaXBlLmdldEJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICByZW5kZXJlci5lbmNvZGVyLmRyYXcoe1xuICAgICAgZ2VvbWV0cnk6IGJ1ZmZlci5nZW9tZXRyeSxcbiAgICAgIHNoYWRlcjogY29udGFpbmVyLnNoYWRlciB8fCBwYXJ0aWNsZUNvbnRhaW5lclBpcGUuZGVmYXVsdFNoYWRlcixcbiAgICAgIHN0YXRlLFxuICAgICAgc2l6ZTogY29udGFpbmVyLnBhcnRpY2xlQ2hpbGRyZW4ubGVuZ3RoICogNlxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IEdwdVBhcnRpY2xlQ29udGFpbmVyQWRhcHRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3B1UGFydGljbGVDb250YWluZXJBZGFwdG9yLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEdwdVBhcnRpY2xlQ29udGFpbmVyQWRhcHRvciB9IGZyb20gJy4uL2dwdS9HcHVQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IubWpzJztcbmltcG9ydCB7IFBhcnRpY2xlQ29udGFpbmVyUGlwZSB9IGZyb20gJy4vUGFydGljbGVDb250YWluZXJQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgR3B1UGFydGljbGVDb250YWluZXJQaXBlIGV4dGVuZHMgUGFydGljbGVDb250YWluZXJQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICBzdXBlcihyZW5kZXJlciwgbmV3IEdwdVBhcnRpY2xlQ29udGFpbmVyQWRhcHRvcigpKTtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkdwdVBhcnRpY2xlQ29udGFpbmVyUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzXG4gIF0sXG4gIG5hbWU6IFwicGFydGljbGVcIlxufTtcblxuZXhwb3J0IHsgR3B1UGFydGljbGVDb250YWluZXJQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcHVQYXJ0aWNsZUNvbnRhaW5lclBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgR2xQYXJ0aWNsZUNvbnRhaW5lclBpcGUgfSBmcm9tICcuL3NoYXJlZC9HbFBhcnRpY2xlQ29udGFpbmVyUGlwZS5tanMnO1xuaW1wb3J0IHsgR3B1UGFydGljbGVDb250YWluZXJQaXBlIH0gZnJvbSAnLi9zaGFyZWQvR3B1UGFydGljbGVDb250YWluZXJQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoR2xQYXJ0aWNsZUNvbnRhaW5lclBpcGUpO1xuZXh0ZW5zaW9ucy5hZGQoR3B1UGFydGljbGVDb250YWluZXJQaXBlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIl0sIm5hbWVzIjpbImxvY2FsVW5pZm9ybUJpdCIsIm5hbWUiLCJ2ZXJ0ZXgiLCJoZWFkZXIiLCJtYWluIiwiZW5kIiwibG9jYWxVbmlmb3JtQml0R3JvdXAyIiwicmVwbGFjZSIsImxvY2FsVW5pZm9ybUJpdEdsIiwidXBkYXRlVGV4dEJvdW5kcyIsImJhdGNoYWJsZVNwcml0ZSIsInRleHQiLCJ0ZXh0dXJlIiwiYm91bmRzIiwiX2FuY2hvciIsInBhZGRpbmciLCJfc3R5bGUiLCJtaW5YIiwibWluWSIsIm1heFgiLCJtYXhZIiwidGVtcEJvdW5kcyIsImdldFBvMlRleHR1cmVGcm9tU291cmNlIiwiaW1hZ2UiLCJ3aWR0aCIsImhlaWdodCIsInJlc29sdXRpb24iLCJnZXRPcHRpbWFsVGV4dHVyZSIsInNvdXJjZSIsInVwbG9hZE1ldGhvZElkIiwicmVzb3VyY2UiLCJhbHBoYU1vZGUiLCJmcmFtZSIsImVtaXQiLCJ1cGRhdGVVdnMiLCJjb2xvcjMyQml0VG9Vbmlmb3JtIiwiYWJnciIsIm91dCIsIm9mZnNldCIsImFscGhhIiwiUmVzaXplUGx1Z2luIiwiaW5pdCIsIm9wdGlvbnMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInRoaXMiLCJzZXQiLCJkb20iLCJnbG9iYWxUaGlzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInF1ZXVlUmVzaXplIiwiX3Jlc2l6ZVRvIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc2l6ZSIsImdldCIsIl9jYW5jZWxSZXNpemUiLCJfcmVzaXplSWQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwicmVuZGVyZXIiLCJyZW5kZXIiLCJyZXNpemVUbyIsImRlc3Ryb3kiLCJleHRlbnNpb24iLCJBcHBsaWNhdGlvbiIsIlRpY2tlclBsdWdpbiIsImFzc2lnbiIsImF1dG9TdGFydCIsInNoYXJlZFRpY2tlciIsInRpY2tlciIsIl90aWNrZXIiLCJyZW1vdmUiLCJhZGQiLCJMT1ciLCJzdG9wIiwic3RhcnQiLCJUaWNrZXIiLCJzaGFyZWQiLCJvbGRUaWNrZXIiLCJGaWx0ZXJQaXBlIiwiY29uc3RydWN0b3IiLCJfcmVuZGVyZXIiLCJwdXNoIiwiZmlsdGVyRWZmZWN0IiwiY29udGFpbmVyIiwiaW5zdHJ1Y3Rpb25TZXQiLCJyZW5kZXJQaXBlcyIsImJhdGNoIiwiYnJlYWsiLCJyZW5kZXJQaXBlSWQiLCJjYW5CdW5kbGUiLCJhY3Rpb24iLCJwb3AiLCJfZmlsdGVyRWZmZWN0IiwiX2NvbnRhaW5lciIsImV4ZWN1dGUiLCJpbnN0cnVjdGlvbiIsImZpbHRlciIsInR5cGUiLCJXZWJHTFBpcGVzIiwiV2ViR1BVUGlwZXMiLCJDYW52YXNQaXBlcyIsInF1YWRHZW9tZXRyeSIsIkdlb21ldHJ5IiwiYXR0cmlidXRlcyIsImFQb3NpdGlvbiIsImJ1ZmZlciIsIkZsb2F0MzJBcnJheSIsImZvcm1hdCIsInN0cmlkZSIsImluZGV4QnVmZmVyIiwiVWludDMyQXJyYXkiLCJGaWx0ZXJTeXN0ZW0iLCJfZmlsdGVyU3RhY2tJbmRleCIsIl9maWx0ZXJTdGFjayIsIl9maWx0ZXJHbG9iYWxVbmlmb3JtcyIsIlVuaWZvcm1Hcm91cCIsInVJbnB1dFNpemUiLCJ2YWx1ZSIsInVJbnB1dFBpeGVsIiwidUlucHV0Q2xhbXAiLCJ1T3V0cHV0RnJhbWUiLCJ1R2xvYmFsRnJhbWUiLCJ1T3V0cHV0VGV4dHVyZSIsIl9nbG9iYWxGaWx0ZXJCaW5kR3JvdXAiLCJCaW5kR3JvdXAiLCJhY3RpdmVCYWNrVGV4dHVyZSIsIl9hY3RpdmVGaWx0ZXJEYXRhIiwiYmFja1RleHR1cmUiLCJmaWx0ZXJzIiwiX2dldEZpbHRlckRhdGEiLCJmaWx0ZXJEYXRhIiwibGVuZ3RoIiwic2tpcCIsInJlbmRlcmFibGVzIiwiY2xlYXIiLCJ0ZW1wTWF0cml4IiwibWF0cml4IiwiaSIsInJlbmRlcmFibGUiLCJnbG9iYWxEaXNwbGF5U3RhdHVzIiwid29ybGRUcmFuc2Zvcm0iLCJhZGRCb3VuZHMiLCJnZXRHbG9iYWxSZW5kZXJhYmxlQm91bmRzIiwiZmlsdGVyQXJlYSIsImFkZFJlY3QiLCJhcHBseU1hdHJpeCIsImdldEZhc3RHbG9iYWxCb3VuZHMiLCJmaWx0ZXJGcmFtZVRyYW5zZm9ybSIsInJlbmRlckdyb3VwIiwicGFyZW50UmVuZGVyR3JvdXAiLCJjYWNoZVRvTG9jYWxUcmFuc2Zvcm0iLCJjb2xvclRleHR1cmVTb3VyY2UiLCJyZW5kZXJUYXJnZXQiLCJjb2xvclRleHR1cmUiLCJJbmZpbml0eSIsImFudGlhbGlhcyIsImJsZW5kUmVxdWlyZWQiLCJlbmFibGVkIiwiY2xpcFRvVmlld3BvcnQiLCJNYXRoIiwibWluIiwiX3Jlc29sdXRpb24iLCJjb21wYXRpYmxlUmVuZGVyZXJzIiwiYmFja0J1ZmZlciIsInVzZUJhY2tCdWZmZXIiLCJ3YXJuIiwidmlld1BvcnQiLCJyb290Vmlld1BvcnQiLCJyb290UmVzb2x1dGlvbiIsImZpdEJvdW5kcyIsInNjYWxlIiwiY2VpbCIsInBhZCIsImlzUG9zaXRpdmUiLCJwcmV2aW91c1JlbmRlclN1cmZhY2UiLCJyZW5kZXJTdXJmYWNlIiwiaW5wdXRUZXh0dXJlIiwiVGV4dHVyZVBvb2wiLCJiaW5kIiwiZ2xvYmFsVW5pZm9ybXMiLCJUZXh0dXJlIiwiRU1QVFkiLCJmaW5pc2hSZW5kZXJQYXNzIiwicHJldmlvdXNCb3VuZHMiLCJnZXRSZW5kZXJUYXJnZXQiLCJnZXRCYWNrVGV4dHVyZSIsInNldFJlc291cmNlIiwic3R5bGUiLCJhcHBseSIsInJldHVyblRleHR1cmUiLCJmbGlwIiwiZmxvcCIsInQiLCJsYXN0UmVuZGVyU3VyZmFjZSIsImJhY2tncm91bmRSZXNvbHV0aW9uIiwieCIsInkiLCJmbG9vciIsImNvcHlUb1RleHR1cmUiLCJhcHBseUZpbHRlciIsImlucHV0Iiwib3V0cHV0IiwiUG9pbnQiLCJpc0ZpbmFsVGFyZ2V0Iiwicm9vdFJlbmRlclRhcmdldCIsImN1cnJlbnRJbmRleCIsImZpbHRlclVuaWZvcm1zIiwidW5pZm9ybXMiLCJvdXRwdXRGcmFtZSIsImlucHV0U2l6ZSIsImlucHV0UGl4ZWwiLCJpbnB1dENsYW1wIiwiZ2xvYmFsRnJhbWUiLCJvdXRwdXRUZXh0dXJlIiwibGFzdEluZGV4IiwiZmlsdGVyRGF0YTIiLCJwaXhlbFdpZHRoIiwicGl4ZWxIZWlnaHQiLCJyb290VGV4dHVyZSIsImlzUm9vdCIsInVwZGF0ZSIsInVuaWZvcm1CYXRjaCIsImJhdGNoVW5pZm9ybXMiLCJnZXRVYm9SZXNvdXJjZSIsImdyb3VwcyIsImVuY29kZXIiLCJkcmF3IiwiZ2VvbWV0cnkiLCJzaGFkZXIiLCJzdGF0ZSIsIl9zdGF0ZSIsInRvcG9sb2d5IiwiV0VCR0wiLCJCb3VuZHMiLCJjYWxjdWxhdGVTcHJpdGVNYXRyaXgiLCJvdXRwdXRNYXRyaXgiLCJzcHJpdGUiLCJkYXRhIiwibWFwcGVkTWF0cml4IiwiX3NvdXJjZSIsImNvcHlUbyIsIk1hdHJpeCIsInByZXBlbmQiLCJpbnZlcnQiLCJ0cmFuc2xhdGUiLCJhbmNob3IiLCJXZWJHTFN5c3RlbSIsIldlYkdQVVN5c3RlbSIsIl9NZXNoR2VvbWV0cnkiLCJhcmdzIiwicG9zaXRpb25zIiwidXZzIiwiaW5kaWNlcyIsImRlZmF1bHRPcHRpb25zIiwic2hyaW5rVG9GaXQiLCJzaHJpbmtCdWZmZXJzVG9GaXQiLCJzdXBlciIsImxhYmVsIiwidXNhZ2UiLCJWRVJURVgiLCJDT1BZX0RTVCIsImFVViIsIklOREVYIiwiYmF0Y2hNb2RlIiwiTWVzaEdlb21ldHJ5IiwiTWVzaFBpcGUiLCJhZGFwdG9yIiwibG9jYWxVbmlmb3JtcyIsInVUcmFuc2Zvcm1NYXRyaXgiLCJ1Q29sb3IiLCJ1Um91bmQiLCJsb2NhbFVuaWZvcm1zQmluZEdyb3VwIiwiX21lc2hEYXRhSGFzaCIsImNyZWF0ZSIsIl9ncHVCYXRjaGFibGVNZXNoSGFzaCIsIl9kZXN0cm95UmVuZGVyYWJsZUJvdW5kIiwiZGVzdHJveVJlbmRlcmFibGUiLCJfYWRhcHRvciIsInJlbmRlcmFibGVHQyIsImFkZE1hbmFnZWRIYXNoIiwidmFsaWRhdGVSZW5kZXJhYmxlIiwibWVzaCIsIm1lc2hEYXRhIiwiX2dldE1lc2hEYXRhIiwid2FzQmF0Y2hlZCIsImJhdGNoZWQiLCJpc0JhdGNoZWQiLCJfZ2VvbWV0cnkiLCJpbmRleFNpemUiLCJ2ZXJ0ZXhTaXplIiwiYmF0Y2hhYmxlTWVzaCIsIl9nZXRCYXRjaGFibGVNZXNoIiwidWlkIiwiX3RleHR1cmUiLCJfdGV4dHVyZU1hdHJpeFVwZGF0ZUlkIiwiX2JhdGNoZXIiLCJjaGVja0FuZFVwZGF0ZVRleHR1cmUiLCJhZGRSZW5kZXJhYmxlIiwiYmF0Y2hlciIsImdwdUJhdGNoYWJsZU1lc2giLCJzZXRUZXh0dXJlIiwiYWRkVG9CYXRjaCIsInVwZGF0ZVJlbmRlcmFibGUiLCJ1cGRhdGVFbGVtZW50IiwiZ3B1TWVzaCIsInJldHVybiIsIm9mZiIsImlzUmVuZGVyYWJsZSIsImJsZW5kTW9kZSIsImdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQiLCJncm91cEJsZW5kTW9kZSIsImdyb3VwVHJhbnNmb3JtIiwiX3JvdW5kUGl4ZWxzIiwiZ3JvdXBDb2xvckFscGhhIiwiX2luaXRNZXNoRGF0YSIsIm9uIiwiX2luaXRCYXRjaGFibGVNZXNoIiwiQmF0Y2hhYmxlTWVzaCIsInRyYW5zZm9ybSIsInJvdW5kUGl4ZWxzIiwibG9jYWxVbmlmb3JtTVNERkJpdCIsImZyYWdtZW50IiwibG9jYWxVbmlmb3JtTVNERkJpdEdsIiwibVNERkJpdCIsIm1TREZCaXRHbCIsImdwdVByb2dyYW0iLCJnbFByb2dyYW0iLCJTZGZTaGFkZXIiLCJTaGFkZXIiLCJ1RGlzdGFuY2UiLCJtYXhUZXh0dXJlcyIsImJpdHMiLCJjb2xvckJpdCIsImdlbmVyYXRlVGV4dHVyZUJhdGNoQml0Iiwicm91bmRQaXhlbHNCaXQiLCJyZXNvdXJjZXMiLCJiYXRjaFNhbXBsZXJzIiwiZ2V0QmF0Y2hTYW1wbGVyc1VuaWZvcm1Hcm91cCIsIkJpdG1hcFRleHRQaXBlIiwiX2dwdUJpdG1hcFRleHQiLCJiaXRtYXBUZXh0IiwiZ3JhcGhpY3NSZW5kZXJhYmxlIiwiX2dldEdwdUJpdG1hcFRleHQiLCJfZGlkVGV4dFVwZGF0ZSIsIl91cGRhdGVDb250ZXh0IiwiZ3JhcGhpY3MiLCJzeW5jV2l0aFByb3h5IiwiY29udGV4dCIsImN1c3RvbVNoYWRlciIsIl91cGRhdGVEaXN0YW5jZUZpZWxkIiwiX2Rlc3Ryb3lSZW5kZXJhYmxlQnlVaWQiLCJyZW5kZXJhYmxlVWlkIiwicHJveHlHcmFwaGljcyIsImJpdG1hcEZvbnQiLCJCaXRtYXBGb250TWFuYWdlciIsImdldEZvbnQiLCJkaXN0YW5jZUZpZWxkIiwiY2hhcnMiLCJBcnJheSIsImZyb20iLCJjdXJyZW50WSIsImJhc2VMaW5lT2Zmc2V0IiwiYml0bWFwVGV4dExheW91dCIsImdldEJpdG1hcFRleHRMYXlvdXQiLCJpbmRleCIsInR4IiwidHkiLCJvZmZzZXRZIiwiX3N0cm9rZSIsIl94IiwiX3kiLCJ0aW50IiwiYXBwbHlGaWxsQXNUaW50IiwiX2ZpbGwiLCJjb2xvciIsImxpbmVzIiwibGluZSIsImoiLCJjaGFyUG9zaXRpb25zIiwiY2hhciIsImNoYXJEYXRhIiwicm91bmQiLCJ4T2Zmc2V0IiwieU9mZnNldCIsImxpbmVIZWlnaHQiLCJpbml0R3B1VGV4dCIsInByb3h5UmVuZGVyYWJsZSIsIkdyYXBoaWNzIiwiZm9udEZhbWlseSIsImR5bmFtaWNGb250IiwiQ2FjaGUiLCJhIiwiYiIsImMiLCJkeCIsInNxcnQiLCJkeSIsImQiLCJ3b3JsZFNjYWxlIiwiYWJzIiwiZm9udFNjYWxlIiwiYmFzZVJlbmRlcmVkRm9udFNpemUiLCJmb250U2l6ZSIsImRpc3RhbmNlIiwicmFuZ2UiLCJwcm94eSIsImdyb3VwQ29sb3IiLCJsb2NhbERpc3BsYXlTdGF0dXMiLCJncm91cEFscGhhIiwiQ2FudmFzVGV4dFBpcGUiLCJfZ3B1VGV4dCIsInJ1bm5lcnMiLCJyZXNvbHV0aW9uQ2hhbmdlIiwiZ3B1VGV4dCIsIl9hdXRvUmVzb2x1dGlvbiIsIm9uVmlld1VwZGF0ZSIsIl9nZXRHcHVUZXh0IiwibmV3S2V5IiwiX2dldEtleSIsImN1cnJlbnRLZXkiLCJfdXBkYXRlVGV4dCIsIl9kZXN0cm95UmVuZGVyYWJsZUJ5SWQiLCJ0ZXh0VWlkIiwiY2FudmFzVGV4dCIsImRlY3JlYXNlUmVmZXJlbmNlQ291bnQiLCJfdXBkYXRlR3B1VGV4dCIsImdldE1hbmFnZWRUZXh0dXJlIiwiZ3B1VGV4dERhdGEiLCJCYXRjaGFibGVTcHJpdGUiLCJjaGVja1JvdyIsImNoZWNrQ29sdW1uIiwidG9wIiwiYm90dG9tIiwiQ2FudmFzVGV4dFN5c3RlbSIsIl9hY3RpdmVUZXh0dXJlcyIsImdldFRleHR1cmVTaXplIiwibWVhc3VyZWQiLCJDYW52YXNUZXh0TWV0cmljcyIsIm1lYXN1cmVUZXh0IiwibWF4IiwiZ2V0VGV4dHVyZSIsIl90ZXh0S2V5IiwiZGVwcmVjYXRpb24iLCJUZXh0U3R5bGUiLCJjYW52YXNBbmRDb250ZXh0IiwiY3JlYXRlVGV4dHVyZUFuZENhbnZhcyIsImluaXRTb3VyY2UiLCJDYW52YXNQb29sIiwicmV0dXJuQ2FudmFzQW5kQ29udGV4dCIsImdldE9wdGltYWxDYW52YXNBbmRDb250ZXh0IiwiY2FudmFzIiwicmVuZGVyVGV4dFRvQ2FudmFzIiwidHJpbSIsInRyaW1tZWQiLCJnZXRDb250ZXh0Iiwid2lsbFJlYWRGcmVxdWVudGx5IiwiVHlwZUVycm9yIiwiZ2V0SW1hZ2VEYXRhIiwibGVmdCIsInJpZ2h0IiwiUmVjdGFuZ2xlIiwiZ2V0Q2FudmFzQm91bmRpbmdCb3giLCJjb3B5RnJvbSIsInRleHRLZXkiLCJfaW5jcmVhc2VSZWZlcmVuY2VDb3VudCIsInVzYWdlQ291bnQiLCJhY3RpdmVUZXh0dXJlIiwiZ2V0UmVmZXJlbmNlQ291bnQiLCJmb250IiwiZm9udFN0cmluZ0Zyb21UZXh0U3R5bGUiLCJsaW5lV2lkdGhzIiwibWF4TGluZVdpZHRoIiwiZm9udFByb3BlcnRpZXMiLCJyZXNldFRyYW5zZm9ybSIsInRleHRCYXNlbGluZSIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwibWl0ZXJMaW1pdCIsImxpbmVKb2luIiwiam9pbiIsImxpbmVDYXAiLCJjYXAiLCJsaW5lUG9zaXRpb25YIiwibGluZVBvc2l0aW9uWSIsInBhc3Nlc0NvdW50IiwiZHJvcFNoYWRvdyIsImlzU2hhZG93UGFzcyIsImRzT2Zmc2V0VGV4dCIsImRzT2Zmc2V0U2hhZG93IiwiZmlsbFN0eWxlIiwic2hhZG93T3B0aW9ucyIsImRyb3BTaGFkb3dDb2xvciIsImRyb3BTaGFkb3dBbHBoYSIsInNoYWRvd0NvbG9yIiwiQ29sb3IiLCJzZXRWYWx1ZSIsInNldEFscGhhIiwidG9SZ2JhU3RyaW5nIiwiZHJvcFNoYWRvd0JsdXIiLCJibHVyIiwiZHJvcFNoYWRvd0Rpc3RhbmNlIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJjb3MiLCJhbmdsZSIsInNoYWRvd09mZnNldFkiLCJzaW4iLCJnZXRDYW52YXNGaWxsU3R5bGUiLCJhbGlnbm1lbnQiLCJsaW5lUG9zaXRpb25ZU2hpZnQiLCJzdHJva2VXaWR0aCIsImkyIiwiYXNjZW50IiwiYWxpZ24iLCJfZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsImxldHRlclNwYWNpbmciLCJ1c2VFeHBlcmltZW50YWxMZXR0ZXJTcGFjaW5nIiwiZXhwZXJpbWVudGFsTGV0dGVyU3BhY2luZ1N1cHBvcnRlZCIsImV4cGVyaW1lbnRhbExldHRlclNwYWNpbmciLCJ0ZXh0TGV0dGVyU3BhY2luZyIsInN0cm9rZVRleHQiLCJmaWxsVGV4dCIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwiZ3JhcGhlbWVTZWdtZW50ZXIiLCJwcmV2aW91c1dpZHRoIiwiY3VycmVudFdpZHRoIiwiY3VycmVudENoYXIiLCJ0ZXh0U3RyIiwiQ2FudmFzU3lzdGVtIiwiX1BsYW5lR2VvbWV0cnkiLCJ2ZXJ0aWNlc1giLCJ2ZXJ0aWNlc1kiLCJidWlsZCIsInRvdGFsIiwidmVydHMiLCJzaXplWCIsInNpemVZIiwidG90YWxTdWIiLCJ4cG9zIiwieXBvcyIsInZhbHVlMiIsInZhbHVlMyIsInZhbHVlNCIsImJ1ZmZlcnMiLCJQbGFuZUdlb21ldHJ5IiwiX05pbmVTbGljZUdlb21ldHJ5IiwiX29yaWdpbmFsV2lkdGgiLCJvcmlnaW5hbFdpZHRoIiwiX29yaWdpbmFsSGVpZ2h0Iiwib3JpZ2luYWxIZWlnaHQiLCJfbGVmdFdpZHRoIiwibGVmdFdpZHRoIiwiX3JpZ2h0V2lkdGgiLCJyaWdodFdpZHRoIiwiX3RvcEhlaWdodCIsInRvcEhlaWdodCIsIl9ib3R0b21IZWlnaHQiLCJib3R0b21IZWlnaHQiLCJfYW5jaG9yWCIsIl9hbmNob3JZIiwidXBkYXRlUG9zaXRpb25zIiwicCIsInciLCJzY2FsZVciLCJoIiwic2NhbGVIIiwiYW5jaG9yT2Zmc2V0WCIsImFuY2hvck9mZnNldFkiLCJnZXRCdWZmZXIiLCJfdXZ3IiwiX3V2aCIsIk5pbmVTbGljZUdlb21ldHJ5IiwiTmluZVNsaWNlU3ByaXRlUGlwZSIsIl9ncHVTcHJpdGVIYXNoIiwiZ3B1U3ByaXRlIiwiX2dldEdwdVNwcml0ZSIsImRpZFZpZXdVcGRhdGUiLCJfdXBkYXRlQmF0Y2hhYmxlU3ByaXRlIiwiX2luaXRHUFVTcHJpdGUiLCJibGVuZE1vZGVJZHMiLCJub3JtYWwiLCJtdWx0aXBseSIsInNjcmVlbiIsIm92ZXJsYXkiLCJlcmFzZSIsIl9TdGF0ZSIsInBvbHlnb25PZmZzZXQiLCJibGVuZCIsImRlcHRoTWFzayIsIm9mZnNldHMiLCJjdWxsTW9kZSIsImN1bGxpbmciLCJjbG9ja3dpc2VGcm9udEZhY2UiLCJkZXB0aFRlc3QiLCJfYmxlbmRNb2RlIiwiX2JsZW5kTW9kZUlkIiwiX3BvbHlnb25PZmZzZXQiLCJ0b1N0cmluZyIsImZvcjJkIiwiZGVmYXVsdDJkIiwiU3RhdGUiLCJiYXRjaGVyTmFtZSIsImF0dHJpYnV0ZVNpemUiLCJwYWNrQXNRdWFkIiwiX2F0dHJpYnV0ZVN0YXJ0IiwiX2JhdGNoIiwicmVzZXQiLCJ0aWxpbmdCaXQiLCJ0aWxpbmdCaXRHbCIsIlRpbGluZ1Nwcml0ZVNoYWRlciIsInRpbGluZ1VuaWZvcm1zIiwidU1hcENvb3JkIiwidUNsYW1wRnJhbWUiLCJ1Q2xhbXBPZmZzZXQiLCJ1VGV4dHVyZVRyYW5zZm9ybSIsInVTaXplQW5jaG9yIiwidVRleHR1cmUiLCJ1U2FtcGxlciIsInVwZGF0ZVVuaWZvcm1zIiwiYW5jaG9yWCIsImFuY2hvclkiLCJ0ZXh0dXJlV2lkdGgiLCJ0ZXh0dXJlSGVpZ2h0IiwidGV4dHVyZU1hdHJpeCIsIm1hcENvb3JkIiwiUXVhZEdlb21ldHJ5Iiwic2hhcmVkUXVhZCIsIlRpbGluZ1Nwcml0ZVBpcGUiLCJfdGlsaW5nU3ByaXRlRGF0YUhhc2giLCJ0aWxpbmdTcHJpdGVEYXRhIiwiX2dldFRpbGluZ1Nwcml0ZURhdGEiLCJjb3VsZEJhdGNoIiwiY2FuQmF0Y2giLCJfdXBkYXRlQ2FuQmF0Y2giLCJ0aWxpbmdTcHJpdGUiLCJfdXBkYXRlQmF0Y2hhYmxlTWVzaCIsImJpbmRHcm91cCIsIl90aWxlVHJhbnNmb3JtIiwiX2luaXRUaWxpbmdTcHJpdGVEYXRhIiwic2xpY2UiLCJyZW5kZXJhYmxlRGF0YSIsImFkZHJlc3NNb2RlIiwiYXBwbHlBbmNob3JUb1RleHR1cmUiLCJhcnJheSIsInNpemUiLCJzZXRVdnMiLCJzZXRQb3NpdGlvbnMiLCJfbm9uUG93T2Yyd3JhcHBpbmciLCJzdXBwb3J0cyIsIm5vblBvd09mMndyYXBwaW5nIiwiaXNTaW1wbGUiLCJpc1Bvd2VyT2ZUd28iLCJpbmRleE9mZnNldCIsImF0dHJpYnV0ZU9mZnNldCIsIl91dlVwZGF0ZUlkIiwiX3RvcG9sb2d5IiwidXZCdWZmZXIiLCJ0cmFuc2Zvcm1lZFV2cyIsIl90cmFuc2Zvcm1lZFV2cyIsIl91cGRhdGVJRCIsIm11bHRpcGx5VXZzIiwiR3JhcGhpY3NQaXBlIiwiX2dyYXBoaWNzQmF0Y2hlc0hhc2giLCJncHVDb250ZXh0IiwiZ3JhcGhpY3NDb250ZXh0IiwidXBkYXRlR3B1Q29udGV4dCIsImlzQmF0Y2hhYmxlIiwiX3JlYnVpbGQiLCJfYWRkVG9CYXRjaGVyIiwiYmF0Y2hlcyIsIl9yZW1vdmVCYXRjaEZvclJlbmRlcmFibGUiLCJnZXRHcHVDb250ZXh0IiwiX2luaXRCYXRjaGVzRm9yUmVuZGVyYWJsZSIsImJhdGNoUGlwZSIsIl9nZXRCYXRjaGVzRm9yUmVuZGVyYWJsZSIsIm1hcCIsImJhdGNoQ2xvbmUiLCJCYXRjaGFibGVHcmFwaGljcyIsImdyYXBoaWNzVWlkIiwiZm9yRWFjaCIsIkdyYXBoaWNzQ29udGV4dFN5c3RlbSIsIkhUTUxUZXh0UGlwZSIsImh0bWxUZXh0IiwidGV4dHVyZU5lZWRzVXBsb2FkaW5nIiwiaHRtbFRleHRVaWQiLCJjYXRjaCIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJnZW5lcmF0aW5nVGV4dHVyZSIsIm5zc3ZnIiwibnN4aHRtbCIsIkhUTUxUZXh0UmVuZGVyRGF0YSIsInN2Z1Jvb3QiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImZvcmVpZ25PYmplY3QiLCJkb21FbGVtZW50Iiwic3R5bGVFbGVtZW50IiwiSW1hZ2UiLCJzZXRBdHRyaWJ1dGUiLCJvdmVyZmxvdyIsImFwcGVuZENoaWxkIiwiZHJvcFNoYWRvd1RvQ1NTIiwiZHJvcFNoYWRvd1N0eWxlIiwidG9IZXhhIiwicG9zaXRpb24iLCJzdHJva2VUb0NTUyIsInN0cm9rZSIsInRvSGV4IiwidGVtcGxhdGVzIiwiZm9udFdlaWdodCIsImZvbnRTdHlsZSIsImZvbnRWYXJpYW50Iiwid2hpdGVTcGFjZSIsIndvcmRXcmFwV2lkdGgiLCJmaWxsIiwiYnJlYWtXb3JkcyIsIkhUTUxUZXh0U3R5bGUiLCJfY3NzT3ZlcnJpZGVzIiwiY3NzT3ZlcnJpZGVzIiwidGFnU3R5bGVzIiwiX2dlbmVyYXRlS2V5IiwiX3N0eWxlS2V5IiwiZ2VuZXJhdGVUZXh0U3R5bGVLZXkiLCJfY3NzU3R5bGUiLCJjbG9uZSIsIndvcmRXcmFwIiwiY3NzU3R5bGUiLCJjc3NTdHlsZXMiLCJ0YWdTdHlsZSIsImNzc1RhZ1N0eWxlIiwidGFnU3R5bGVUb0NTUyIsInRleHRTdHlsZVRvQ1NTIiwiYWRkT3ZlcnJpZGUiLCJ0b0FkZCIsInYiLCJpbmNsdWRlcyIsInJlbW92ZU92ZXJyaWRlIiwidG9SZW1vdmUiLCJhc3luYyIsImxvYWRGb250Q1NTIiwidXJsIiwiZGF0YVNyYyIsInJlc3BvbnNlIiwiZmV0Y2giLCJibG9iIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwib25sb2FkZW5kIiwicmVzdWx0Iiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJsb2FkRm9udEFzQmFzZTY0IiwiRm9udFN0eWxlUHJvbWlzZUNhY2hlIiwiTWFwIiwidGVtcEhUTUxUZXh0UmVuZGVyRGF0YSIsIkhUTUxUZXh0U3lzdGVtIiwiX2NyZWF0ZUNhbnZhcyIsIldFQkdQVSIsIl9idWlsZFRleHR1cmVQcm9taXNlIiwicHJvbWlzZSIsInRoZW4iLCJodG1sVGV4dERhdGEiLCJmb250RmFtaWxpZXMiLCJkZWR1cGUiLCJtYXRjaGVzIiwibWF0Y2giLCJhZGRGb250RmFtaWx5IiwiZm9udEZhbWlseTIiLCJpc0FycmF5Iiwic3BsaXQiLCJleHRyYWN0Rm9udEZhbWlsaWVzIiwiZm9udENTUyIsImZvbnRQcm9taXNlcyIsImhhcyIsImFsbCIsImdldEZvbnRDc3MiLCJkZWZhdWx0VGV4dFN0eWxlIiwiZm9udFN0eWxlQ1NTIiwiaHRtbFRleHRSZW5kZXJEYXRhIiwiaW5uZXJIVE1MIiwidGV4dENvbnRlbnQiLCJib2R5IiwiY29udGVudEJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImRvdWJsZVBhZGRpbmciLCJtZWFzdXJlSHRtbFRleHQiLCJzdmdVUkwiLCJYTUxTZXJpYWxpemVyIiwic2VyaWFsaXplVG9TdHJpbmciLCJnZXRTVkdVcmwiLCJkZWxheSIsInJlc29sdmUyIiwic2V0VGltZW91dCIsIm9ubG9hZCIsInNyYyIsImVuY29kZVVSSUNvbXBvbmVudCIsImNyb3NzT3JpZ2luIiwibG9hZFNWR0ltYWdlIiwidXNlckFnZW50IiwiZ2V0TmF2aWdhdG9yIiwidGVzdCIsImlzU2FmYXJpIiwiY2xlYXJSZWN0IiwiZHJhd0ltYWdlIiwiZ2V0VGVtcG9yYXJ5Q2FudmFzRnJvbUltYWdlIiwiX2NsZWFuVXAiLCJkZWZhdWx0Rm9udE9wdGlvbnMiLCJHbFBhcnRpY2xlQ29udGFpbmVyQWRhcHRvciIsInBhcnRpY2xlQ29udGFpbmVyUGlwZSIsImRlZmF1bHRTaGFkZXIiLCJnbCIsImdldEJ1ZmZlcnMiLCJnbFR5cGUiLCJCWVRFU19QRVJfRUxFTUVOVCIsIlVOU0lHTkVEX1NIT1JUIiwiVU5TSUdORURfSU5UIiwiZHJhd0VsZW1lbnRzIiwiVFJJQU5HTEVTIiwicGFydGljbGVDaGlsZHJlbiIsImNyZWF0ZUluZGljZXNGb3JRdWFkcyIsIm91dEJ1ZmZlciIsInRvdGFsSW5kaWNlcyIsIlVpbnQxNkFycmF5IiwiRXJyb3IiLCJnZW5lcmF0ZVVwZGF0ZUZ1bmN0aW9uIiwicHJvcGVydGllcyIsImR5bmFtaWMiLCJmdW5jRnJhZ21lbnRzIiwicHJvcGVydHkiLCJjb2RlIiwiZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQiLCJ1bnNoaWZ0IiwiZnVuY3Rpb25Tb3VyY2UiLCJGdW5jdGlvbiIsIlBhcnRpY2xlQnVmZmVyIiwiX3NpemUiLCJfZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUNhY2hlIiwic3RhdGljVmVydGV4U2l6ZSIsImR5bmFtaWNWZXJ0ZXhTaXplIiwiYXR0cmlidXRlSW5mbyIsIl9keW5hbWljU3RyaWRlIiwiX3N0YXRpY1N0cmlkZSIsInN0YXRpY0F0dHJpYnV0ZUJ1ZmZlciIsIlZpZXdhYmxlQnVmZmVyIiwiZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlciIsImR5bmFtaWNPZmZzZXQiLCJzdGF0aWNPZmZzZXQiLCJfc3RhdGljQnVmZmVyIiwiQnVmZmVyIiwiX2R5bmFtaWNCdWZmZXIiLCJhZGRBdHRyaWJ1dGUiLCJhdHRyaWJ1dGVOYW1lIiwiYWRkSW5kZXgiLCJ1cGxvYWRGdW5jdGlvbiIsImdldFBhcnRpY2xlVXBkYXRlIiwiX2R5bmFtaWNVcGxvYWQiLCJkeW5hbWljVXBkYXRlIiwiX3N0YXRpY1VwbG9hZCIsInN0YXRpY1VwZGF0ZSIsImtleSIsImtleUdlbiIsImdldFBhcnRpY2xlU3luY0tleSIsImdlbmVyYXRlUGFydGljbGVVcGRhdGUiLCJnZW5lcmF0ZVBhcnRpY2xlVXBkYXRlRnVuY3Rpb24iLCJwYXJ0aWNsZXMiLCJ1cGxvYWRTdGF0aWMiLCJzZXREYXRhV2l0aFNpemUiLCJieXRlTGVuZ3RoIiwiZmxvYXQzMlZpZXciLCJ1aW50MzJWaWV3Iiwid2dzbCIsIlBhcnRpY2xlU2hhZGVyIiwiR2xQcm9ncmFtIiwiR3B1UHJvZ3JhbSIsImVudHJ5UG9pbnQiLCJXSElURSIsIlRleHR1cmVTdHlsZSIsInVUcmFuc2xhdGlvbk1hdHJpeCIsInVSZXNvbHV0aW9uIiwiUGFydGljbGVDb250YWluZXJQaXBlIiwiX2dwdUJ1ZmZlckhhc2giLCJfcmVuZGVyYWJsZSIsIl9pbml0QnVmZmVyIiwiX3Byb3BlcnRpZXMiLCJjaGlsZHJlbiIsIl9jaGlsZHJlbkRpcnR5IiwidHJhbnNmb3JtYXRpb25NYXRyaXgiLCJnbG9iYWxVbmlmb3JtRGF0YSIsInByb2plY3Rpb25NYXRyaXgiLCJHbFBhcnRpY2xlQ29udGFpbmVyUGlwZSIsIkdwdVBhcnRpY2xlQ29udGFpbmVyQWRhcHRvciIsImdldFVuaWZvcm1CaW5kR3JvdXAiLCJnZXRUZXh0dXJlQmluZEdyb3VwIiwiR3B1UGFydGljbGVDb250YWluZXJQaXBlIl0sInNvdXJjZVJvb3QiOiIifQ==